!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(49),n(67),n(38),t.exports=n(69)},function(t,e,n){var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(i,a){"use strict";function s(t,e,n){var r={};return r[t.key]=e,t.pos&&(r[t.pos]=n),r}function c(t,e){for(var n,r=e.length,o=t.length;r>o;)n=e[--r],e.splice(r,1),n.unmount()}function u(t,e){Object.keys(t.tags).forEach(function(n){var r=t.tags[n];q(r)?b(r,function(t){M(t,n,e)}):M(r,n,e)})}function p(t,e,n){var r,o=t._root;for(t._virts=[];o;)r=o.nextSibling,n?e.insertBefore(o,n._root):e.appendChild(o),t._virts.push(o),o=r}function l(t,e,n,r){for(var o,i=t._root,a=0;a<r;a++)o=i.nextSibling,e.insertBefore(i,n._root),i=o}function d(t,e,n){j(t,"each");var r,i=o(O(t,"no-reorder"))!==at||j(t,"no-reorder"),a=G(t),d=et[a]||{tmpl:w(t)},f=pt.test(a),m=t.parentNode,g=document.createTextNode(""),y=A(t),v="option"===a.toLowerCase(),b=[],x=[],k="VIRTUAL"==t.tagName;n=gt.loopKeys(n),m.insertBefore(g,t),e.one("before-mount",function(){t.parentNode.removeChild(t),m.stub&&(m=e.root)}).on("update",function(){var w=gt(n.val,e),_=document.createDocumentFragment();q(w)||(r=w||!1,w=r?Object.keys(w).map(function(t){return s(n,t,w[t])}):[]);for(var $=0,j=w.length;$<j;$++){var S=w[$],O=i&&("undefined"==typeof S?"undefined":o(S))==st&&!r,P=x.indexOf(S),A=~P&&O?P:$,C=b[A];S=!r&&n.key?s(n,S,$):S,!O&&!C||O&&!~P||!C?(C=new h(d,{parent:e,isLoop:!0,hasImpl:!!et[a],root:f?m:t.cloneNode(),item:S},t.innerHTML),C.mount(),k&&(C._root=C.root.firstChild),$!=b.length&&b[$]?(k?p(C,m,b[$]):m.insertBefore(C.root,b[$].root),x.splice($,0,S)):k?p(C,_):_.appendChild(C.root),b.splice($,0,C),A=$):C.update(S,!0),A!==$&&O&&b[$]&&(k?l(C,m,b[$],t.childNodes.length):m.insertBefore(C.root,b[$].root),n.pos&&(C[n.pos]=$),b.splice($,0,b.splice(A,1)[0]),x.splice($,0,x.splice(A,1)[0]),!y&&C.tags&&u(C,$)),C._item=S,E(C,"_parent",e)}if(c(w,b),v){if(m.appendChild(_),mt&&!m.multiple)for(var M=0;M<m.length;M++)if(m[M].__riot1374){m.selectedIndex=M,delete m[M].__riot1374;break}}else m.insertBefore(_,g);y&&(e.tags[a]=b),x=w.slice()})}function f(t,e,n,r){B(t,function(t){if(1==t.nodeType){if(t.isLoop=t.isLoop||t.parentNode&&t.parentNode.isLoop||O(t,"each")?1:0,n){var o=A(t);o&&!t.isLoop&&n.push(T(o,{root:t,parent:e},t.innerHTML,e))}t.isLoop&&!r||Q(t,e,[])}})}function m(t,e,n){function r(t,e,r){gt.hasExpr(e)&&n.push(I({dom:t,expr:e},r))}B(t,function(t){var n,o=t.nodeType;if(3==o&&"STYLE"!=t.parentNode.tagName&&r(t,t.nodeValue),1==o)return(n=O(t,"each"))?(d(t,e,n),!1):(b(t.attributes,function(e){var n=e.name,o=n.split("__")[1];if(r(t,e.value,{attr:o||n,bool:o}),o)return j(t,n),!1}),!A(t)&&void 0)})}function h(t,e,n){function r(){var t=y&&g?l:h||l;b(O.attributes,function(e){var n=e.value;d[S(e.name)]=gt.hasExpr(n)?gt(n,t):n}),b(Object.keys(C),function(e){d[S(e)]=gt(C[e],t)})}function i(t){for(var e in w)o(l[e])!==ct&&N(l,e)&&(l[e]=t[e])}function s(){l.parent&&g&&b(Object.keys(l.parent),function(t){var e=!lt.test(t)&&F(M,t);(o(l[t])===ct||e)&&(e||M.push(t),l[t]=l.parent[t])})}function c(t){l.update(t,!0)}function u(t){if(b(_,function(e){e[t?"mount":"unmount"]()}),h){var e=t?"on":"off";g?h[e]("unmount",l.unmount):h[e]("update",c)[e]("unmount",l.unmount)}}var p,l=Y.observable(this),d=V(e.opts)||{},h=e.parent,g=e.isLoop,y=e.hasImpl,w=R(e.item),k=[],_=[],O=e.root,A=O.tagName.toLowerCase(),C={},M=[];t.name&&O._tag&&O._tag.unmount(!0),this.isMounted=!1,O.isLoop=g,O._tag=this,E(this,"_riot_id",++Z),I(this,{parent:h,root:O,opts:d},w),E(this,"tags",{}),b(O.attributes,function(t){var e=t.value;gt.hasExpr(e)&&(C[t.name]=e)}),p=yt(t.tmpl,n),E(this,"update",function(t,e){return t=R(t),s(),t&&$(w)&&(i(t),w=t),I(l,t),r(),l.trigger("update",t),v(k,l),e&&l.parent?l.parent.one("updated",function(){l.trigger("updated")}):bt(function(){l.trigger("updated")}),this}),E(this,"mixin",function(){return b(arguments,function(t){var e;t=("undefined"==typeof t?"undefined":o(t))===at?Y.mixin(t):t,x(t)?(e=new t,t=t.prototype):e=t,b(Object.getOwnPropertyNames(t),function(t){"init"!=t&&(l[t]=x(e[t])?e[t].bind(l):e[t])}),e.init&&e.init.bind(l)()}),this}),E(this,"mount",function(){r();var e=Y.mixin(nt);if(e)for(var n in e)e.hasOwnProperty(n)&&l.mixin(e[n]);if(t.fn&&t.fn.call(l,d),m(p,l,k),u(!0),t.attrs&&D(t.attrs,function(t,e){P(O,t,e)}),(t.attrs||y)&&m(l.root,l,k),l.parent&&!g||l.update(w),l.trigger("before-mount"),g&&!y)O=p.firstChild;else{for(;p.firstChild;)O.appendChild(p.firstChild);O.stub&&(O=h.root)}E(l,"root",O),g&&f(l.root,l.parent,null,!0),!l.parent||l.parent.isMounted?(l.isMounted=!0,l.trigger("mount")):l.parent.one("mount",function(){J(l.root)||(l.parent.isMounted=l.isMounted=!0,l.trigger("mount"))})}),E(this,"unmount",function(t){var e,n=O,r=n.parentNode,o=tt.indexOf(l);if(l.trigger("before-unmount"),~o&&tt.splice(o,1),r){if(h)e=L(h),q(e.tags[A])?b(e.tags[A],function(t,n){t._riot_id==l._riot_id&&e.tags[A].splice(n,1)}):e.tags[A]=a;else for(;n.firstChild;)n.removeChild(n.firstChild);t?(j(r,it),j(r,ot)):r.removeChild(n)}this._virts&&b(this._virts,function(t){t.parentNode&&t.parentNode.removeChild(t)}),l.trigger("unmount"),u(),l.off("*"),l.isMounted=!1,delete O._tag}),f(p,this,_)}function g(t,e,n,r){n[t]=function(t){var o,a=r._parent,s=r._item;if(!s)for(;a&&!s;)s=a._item,a=a._parent;t=t||i.event,N(t,"currentTarget")&&(t.currentTarget=n),N(t,"target")&&(t.target=t.srcElement),N(t,"which")&&(t.which=t.charCode||t.keyCode),t.item=s,e.call(r,t)===!0||/radio|check/.test(n.type)||(t.preventDefault&&t.preventDefault(),t.returnValue=!1),t.preventUpdate||(o=s?L(a):r,o.update())}}function y(t,e,n){t&&(t.insertBefore(n,e),t.removeChild(e))}function v(t,e){b(t,function(t,n){var r=t.dom,i=t.attr,a=gt(t.expr,e),s=t.dom.parentNode;if(t.bool?a=!!a:null==a&&(a=""),t.value!==a){if(t.value=a,!i)return a+="",void(s&&("TEXTAREA"===s.tagName?(s.value=a,ft||(r.nodeValue=a)):r.nodeValue=a));if("value"===i)return void(r.value=a);if(j(r,i),x(a))g(i,a,r,e);else if("if"==i){var c=t.stub,u=function(){y(c.parentNode,c,r)},p=function(){y(r.parentNode,r,c)};a?c&&(u(),r.inStub=!1,J(r)||B(r,function(t){t._tag&&!t._tag.isMounted&&(t._tag.isMounted=!!t._tag.trigger("mount"))})):(c=t.stub=c||document.createTextNode(""),r.parentNode?p():(e.parent||e).one("updated",p),r.inStub=!0)}else"show"===i?r.style.display=a?"":"none":"hide"===i?r.style.display=a?"none":"":t.bool?(r[i]=a,a&&P(r,i,i),mt&&"selected"===i&&"OPTION"===r.tagName&&(r.__riot1374=a)):(0===a||a&&("undefined"==typeof a?"undefined":o(a))!==st)&&(X(i,rt)&&i!=ot&&(i=i.slice(rt.length)),P(r,i,a))}})}function b(t,e){for(var n,r=t?t.length:0,o=0;o<r;o++)n=t[o],null!=n&&e(n,o)===!1&&o--;return t}function x(t){return("undefined"==typeof t?"undefined":o(t))===ut||!1}function w(t){if(t.outerHTML)return t.outerHTML;var e=U("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}function k(t,e){if(o(t.innerHTML)!=ct)t.innerHTML=e;else{var n=(new DOMParser).parseFromString(e,"application/xml");t.appendChild(t.ownerDocument.importNode(n.documentElement,!0))}}function _(t){return~dt.indexOf(t)}function $(t){return t&&("undefined"==typeof t?"undefined":o(t))===st}function j(t,e){t.removeAttribute(e)}function S(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function O(t,e){return t.getAttribute(e)}function P(t,e,n){t.setAttribute(e,n)}function A(t){return t.tagName&&et[O(t,it)||O(t,ot)||t.tagName.toLowerCase()]}function C(t,e,n){var r=n.tags[e];r?(q(r)||r!==t&&(n.tags[e]=[r]),F(n.tags[e],t)||n.tags[e].push(t)):n.tags[e]=t}function M(t,e,n){var r,o=t.parent;o&&(r=o.tags[e],q(r)?r.splice(n,0,r.splice(r.indexOf(t),1)[0]):C(t,e,o))}function T(t,e,n,r){var o=new h(t,e,n),i=G(e.root),a=L(r);return o.parent=a,o._parent=r,C(o,i,a),a!==r&&C(o,i,r),e.root.innerHTML="",o}function L(t){for(var e=t;!A(e.root)&&e.parent;)e=e.parent;return e}function E(t,e,n,r){return Object.defineProperty(t,e,I({value:n,enumerable:!1,writable:!1,configurable:!0},r)),t}function G(t){var e=A(t),n=O(t,"name"),r=n&&!gt.hasExpr(n)?n:e?e.name:t.tagName.toLowerCase();return r}function I(t){for(var e,n=arguments,r=1;r<n.length;++r)if(e=n[r])for(var o in e)N(t,o)&&(t[o]=e[o]);return t}function F(t,e){return~t.indexOf(e)}function q(t){return Array.isArray(t)||t instanceof Array}function N(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return o(t[e])===ct||n&&n.writable}function R(t){if(!(t instanceof h||t&&o(t.trigger)==ut))return t;var e={};for(var n in t)lt.test(n)||(e[n]=t[n]);return e}function B(t,e){if(t){if(e(t)===!1)return;for(t=t.firstChild;t;)B(t,e),t=t.nextSibling}}function D(t,e){for(var n,r=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;n=r.exec(t);)e(n[1].toLowerCase(),n[2]||n[3]||n[4])}function J(t){for(;t;){if(t.inStub)return!0;t=t.parentNode}return!1}function U(t,e){return e?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(t)}function z(t,e){return(e||document).querySelectorAll(t)}function H(t,e){return(e||document).querySelector(t)}function V(t){function e(){}return e.prototype=t,new e}function W(t){return O(t,"id")||O(t,"name")}function Q(t,e,n){var r,o=W(t),i=function(i){F(n,o)||(r=q(i),i?(!r||r&&!F(i,t))&&(r?i.push(t):e[o]=[i,t]):e[o]=t)};o&&(gt.hasExpr(o)?e.one("mount",function(){o=W(t),i(e[o])}):i(e[o]))}function X(t,e){return t.slice(0,e.length)===e}function K(t,e,n){var r=et[e],o=t._innerHTML=t._innerHTML||t.innerHTML;return t.innerHTML="",r&&t&&(r=new h(r,{root:t,opts:n},o)),r&&r.mount&&(r.mount(),F(tt,r)||tt.push(r)),r}var Y={version:"v2.4.1",settings:{}},Z=0,tt=[],et={},nt="__global_mixin",rt="riot-",ot=rt+"tag",it="data-is",at="string",st="object",ct="undefined",ut="function",pt=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,lt=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,dt=["altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"],ft=0|(i&&i.document||{}).documentMode,mt=i&&!!i.InstallTrigger;Y.observable=function(t){function e(t,e){for(var n,r,o=t.split(" "),i=o.length,a=0;a<i;a++)n=o[a],r=n.indexOf("."),n&&e(~r?n.substring(0,r):n,a,~r?n.slice(r+1):null)}t=t||{};var n={},r=Array.prototype.slice;return Object.defineProperties(t,{on:{value:function(r,o){return"function"!=typeof o?t:(e(r,function(t,e,r){(n[t]=n[t]||[]).push(o),o.typed=e>0,o.ns=r}),t)},enumerable:!1,writable:!1,configurable:!1},off:{value:function(r,o){return"*"!=r||o?e(r,function(t,e,r){if(o||r)for(var i,a=n[t],s=0;i=a&&a[s];++s)(i==o||r&&i.ns==r)&&a.splice(s--,1);else delete n[t]}):n={},t},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,n){function r(){t.off(e,r),n.apply(t,arguments)}return t.on(e,r)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(o){for(var i,a=arguments.length-1,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+1];return e(o,function(e,o,a){i=r.call(n[e]||[],0);for(var c,u=0;c=i[u];++u)a&&c.ns!=a||c.apply(t,c.typed?[e].concat(s):s),i[u]!==c&&u--;n["*"]&&"*"!=e&&t.trigger.apply(t,["*",e].concat(s))}),t},enumerable:!1,writable:!1,configurable:!1}}),t},function(t){function e(t){return t.split(/[\/?#]/)}function n(t,e){var n=new RegExp("^"+e[$](/\*/g,"([^/?#]+?)")[$](/\.\./,".*")+"$"),r=t.match(n);if(r)return r.slice(1)}function r(t,e){var n;return function(){clearTimeout(n),n=setTimeout(t,e)}}function o(t){m=r(l,1),A[k](j,m),A[k](S,m),C[k](E,d),t&&l(!0)}function a(){this.$=[],t.observable(this),I.on("stop",this.s.bind(this)),I.on("emit",this.e.bind(this))}function s(t){return t[$](/^\/|\/$/,"")}function c(t){return"string"==typeof t}function u(t){return(t||T.href)[$](b,"")}function p(t){return"#"==h[0]?(t||T.href||"").split(h)[1]||"":(T?u(t):t||"")[$](h,"")}function l(t){var e=0==N;if(!(P<=N)&&(N++,q.push(function(){var e=p();(t||e!=g)&&(I[O]("emit",e),g=e)}),e)){for(;q.length;)q[0](),q.shift();N=0}}function d(t){if(!(1!=t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!=e.nodeName;)e=e.parentNode;!e||"A"!=e.nodeName||e[_]("download")||!e[_]("href")||e.target&&"_self"!=e.target||e.href.indexOf(T.href.match(b)[0])==-1||(e.href==T.href||e.href.split("#")[0]!=T.href.split("#")[0]&&("#"==h||0===u(e.href).indexOf(h))&&f(p(e.href),e.title||C.title))&&t.preventDefault()}}function f(t,e,n){return M?(t=h+s(t),e=e||C.title,n?M.replaceState(null,e,t):M.pushState(null,e,t),C.title=e,F=!1,l(),F):I[O]("emit",p(t))}var m,h,g,y,v,b=/^.+?\/\/+[^\/]+/,x="EventListener",w="remove"+x,k="add"+x,_="hasAttribute",$="replace",j="popstate",S="hashchange",O="trigger",P=3,A="undefined"!=typeof i&&i,C="undefined"!=typeof document&&document,M=A&&history,T=A&&(M.location||A.location),L=a.prototype,E=C&&C.ontouchstart?"touchstart":"click",G=!1,I=t.observable(),F=!1,q=[],N=0;L.m=function(t,e,n){!c(t)||e&&!c(e)?e?this.r(t,e):this.r("@",t):f(t,e,n||!1)},L.s=function(){this.off("*"),this.$=[]},L.e=function(t){this.$.concat("@").some(function(e){var n=("@"==e?y:v)(s(t),s(e));if("undefined"!=typeof n)return this[O].apply(null,[e].concat(n)),F=!0},this)},L.r=function(t,e){"@"!=t&&(t="/"+s(t),this.$.push(t)),this.on(t,e)};var R=new a,B=R.m.bind(R);B.create=function(){var t=new a,e=t.m.bind(t);return e.stop=t.s.bind(t),e},B.base=function(t){h=t||"#",g=p()},B.exec=function(){l(!0)},B.parser=function(t,r){t||r||(y=e,v=n),t&&(y=t),r&&(v=r)},B.query=function(){var t={},e=T.href||g;return e[$](/[?&](.+?)=([^&]*)/g,function(e,n,r){t[n]=r}),t},B.stop=function(){G&&(A&&(A[w](j,m),A[w](S,m),C[w](E,d)),I[O]("stop"),G=!1)},B.start=function(t){G||(A&&("complete"==document.readyState?o(t):A[k]("load",function(){setTimeout(function(){o(t)},1)})),G=!0)},B.base(),B.parser(),t.route=B}(Y);var ht=function(t){function e(t){return t}function n(t,e){return e||(e=y),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?u:"")}function r(t){if(t===m)return h;var e=t.split(" ");if(2!==e.length||/[\x00-\x1F<>a-zA-Z0-9'",;\\]/.test(t))throw new Error('Unsupported brackets "'+t+'"');return e=e.concat(t.replace(/(?=[[\]()*+?.^$|])/g,"\\").split(" ")),e[4]=n(e[1].length>1?/{[\S\s]*?}/:h[4],e),e[5]=n(t.length>3?/\\({|})/g:h[5],e),e[6]=n(h[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+d,u),e[8]=t,e}function o(t){return t instanceof RegExp?s(t):y[t]}function i(t){(t||(t=m))!==y[8]&&(y=r(t),s=t===m?e:n,y[9]=s(h[9])),g=t}function a(t){var e;t=t||{},e=t.brackets,Object.defineProperty(t,"brackets",{set:i,get:function(){return g},enumerable:!0}),c=t,i(e)}var s,c,u="g",p=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,l=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,d=l.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,f={"(":RegExp("([()])|"+d,u),"[":RegExp("([[\\]])|"+d,u),"{":RegExp("([{}])|"+d,u)},m="{ }",h=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+d,u),m,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],g=t,y=[];return o.split=function(t,e,n){function r(t){e||a?u.push(t&&t.replace(n[5],"$1")):u.push(t)}function o(t,e,n){var r,o=f[e];for(o.lastIndex=n,n=1;(r=o.exec(t))&&(!r[1]||(r[1]===e?++n:--n)););return n?t.length:o.lastIndex}n||(n=y);var i,a,s,c,u=[],p=n[6];for(a=s=p.lastIndex=0;i=p.exec(t);){if(c=i.index,a){if(i[2]){p.lastIndex=o(t,i[2],p.lastIndex);continue}if(!i[3])continue}i[1]||(r(t.slice(s,c)),s=p.lastIndex,p=n[6+(a^=1)],p.lastIndex=s)}return t&&s<t.length&&r(t.slice(s)),u},o.hasExpr=function(t){return y[4].test(t)},o.loopKeys=function(t){var e=t.match(y[9]);return e?{key:e[1],pos:e[2],val:y[0]+e[3].trim()+y[1]}:{val:t.trim()}},o.array=function(t){return t?r(t):y},Object.defineProperty(o,"settings",{set:a,get:function(){return c}}),o.settings="undefined"!=typeof Y&&Y.settings||{},o.set=i,o.R_STRINGS=l,o.R_MLCOMMS=p,o.S_QBLOCKS=d,o}(),gt=function(){function t(t,r){return t?(c[t]||(c[t]=n(t))).call(r,e):t}function e(e,n){t.errorHandler&&(e.riotData={tagName:n&&n.root&&n.root.tagName,_riot_id:n&&n._riot_id},t.errorHandler(e))}function n(t){var e=r(t);return"try{return "!==e.slice(0,11)&&(e="return "+e),new Function("E",e+";")}function r(t){var e,n=[],r=ht.split(t.replace(d,'"'),1);if(r.length>2||r[0]){var o,i,s=[];for(o=i=0;o<r.length;++o)e=r[o],e&&(e=1&o?a(e,1,n):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(s[i++]=e);e=i<2?s[0]:"["+s.join(",")+'].join("")'}else e=a(r[1],0,n);return n[0]&&(e=e.replace(f,function(t,e){return n[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}function a(t,e,n){function r(e,n){var r,o=1,i=m[e];for(i.lastIndex=n.lastIndex;r=i.exec(t);)if(r[0]===e)++o;else if(!--o)break;n.lastIndex=o?t.length:i.lastIndex}if(t=t.replace(l,function(t,e){return t.length>2&&!e?u+(n.push(t)-1)+"~":t}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var o,i=[],a=0;t&&(o=t.match(p))&&!o.index;){var c,d,f=/,|([[{(])|$/g;for(t=RegExp.rightContext,c=o[2]?n[o[2]].slice(1,-1).trim().replace(/\s+/g," "):o[1];d=(o=f.exec(t))[1];)r(d,f);d=t.slice(0,o.index),t=RegExp.rightContext,i[a++]=s(d,1,c)}t=a?a>1?"["+i.join(",")+'].join(" ").trim()':i[0]:s(t,e)}return t}function s(t,e,n){var r;return t=t.replace(g,function(t,e,n,o,i){return n&&(o=r?0:o+t.length,"this"!==n&&"global"!==n&&"window"!==n?(t=e+'("'+n+h+n,o&&(r="."===(i=i[o])||"("===i||"["===i)):o&&(r=!y.test(i.slice(o)))),t}),r&&(t="try{return "+t+"}catch(e){E(e,this)}"),n?t=(r?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+n+'":""':e&&(t="function(v){"+(r?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}var c={};t.haveRaw=ht.hasRaw,t.hasExpr=ht.hasExpr,t.loopKeys=ht.loopKeys,t.errorHandler=null;var u="⁗",p=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,l=RegExp(ht.S_QBLOCKS,"g"),d=/\u2057/g,f=/\u2057(\d+)~/g,m={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},h='"in this?this:'+("object"!==("undefined"==typeof i?"undefined":o(i))?"global":"window")+").",g=/[,{][$\w]+:|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,y=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return t.parse=function(t){return t},t.version=ht.version="v2.4.0",t}(),yt=function xt(){function xt(n,r){var o=n&&n.match(/^\s*<([-\w]+)/),i=o&&o[1].toLowerCase(),a=U("div",_(i));return n=e(n,r),s.test(i)?a=t(a,n,i):k(a,n),a.stub=!0,a}function t(t,e,n){var r="o"===n[0],o=r?"select>":"table>";if(t.innerHTML="<"+o+e.trim()+"</"+o,o=t.firstChild,r)o.selectedIndex=-1;else{var i=a[n];i&&1===o.childElementCount&&(o=H(i,o))}return o}function e(t,e){if(!n.test(t))return t;var a={};return e=e&&e.replace(o,function(t,e,n){return a[e]=a[e]||n,""}).trim(),t.replace(i,function(t,e,n){return a[e]||n||""}).replace(r,function(t,n){return e||n||""})}var n=/<yield\b/i,r=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,o=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,i=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,a={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},s=ft&&ft<10?pt:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;return xt}(),vt=function(t){if(!i)return{add:function(){},inject:function(){}};var e=function(){var t=U("style");P(t,"type","text/css");var e=H("style[type=riot]");return e?(e.id&&(t.id=e.id),e.parentNode.replaceChild(t,e)):document.getElementsByTagName("head")[0].appendChild(t),t}(),n=e.styleSheet,r="";return Object.defineProperty(t,"styleNode",{value:e,writable:!0}),{add:function(t){r+=t},inject:function(){r&&(n?n.cssText+=r:e.innerHTML+=r,r="")}}}(Y),bt=function(t){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame;if(!e||/iP(ad|hone|od).*OS 6/.test(t.navigator.userAgent)){var n=0;e=function(t){var e=Date.now(),r=Math.max(16-(e-n),0);setTimeout(function(){t(n=e+r)},r)}}return e}(i||{});Y.util={brackets:ht,tmpl:gt},Y.mixin=function(){var t={},e=t[nt]={},n=0;return function(r,i,a){if($(r))return void Y.mixin("__unnamed_"+n++,r,!0);var s=a?e:t;if(!i){if(o(s[r])===ct)throw new Error("Unregistered mixin: "+r);return s[r]}x(i)?(I(i.prototype,s[r]||{}),s[r]=i):s[r]=I(s[r]||{},i)}}(),Y.tag=function(t,e,n,r,o){return x(r)&&(o=r,/^[\w\-]+\s?=/.test(n)?(r=n,n=""):r=""),n&&(x(n)?o=n:vt.add(n)),t=t.toLowerCase(),et[t]={name:t,tmpl:e,attrs:r,fn:o},t},Y.tag2=function(t,e,n,r,o){return n&&vt.add(n),et[t]={name:t,tmpl:e,attrs:r,fn:o},t},Y.mount=function(t,e,n){function r(t){var e="";return b(t,function(t){/[^-\w]/.test(t)||(t=t.trim().toLowerCase(),e+=",["+it+'="'+t+'"],['+ot+'="'+t+'"]')}),e}function i(){var t=Object.keys(et);return t+r(t)}function a(t){if(t.tagName){var r=O(t,it)||O(t,ot);e&&r!==e&&(r=e,P(t,it,e),P(t,ot,e));var o=K(t,r||t.tagName.toLowerCase(),n);o&&u.push(o)}else t.length&&b(t,a)}var s,c,u=[];if(vt.inject(),$(e)&&(n=e,e=0),("undefined"==typeof t?"undefined":o(t))===at?("*"===t?t=c=i():t+=r(t.split(/, */)),s=t?z(t):[]):s=t,"*"===e){if(e=c||i(),s.tagName)s=z(e,s);else{var p=[];b(s,function(t){p.push(z(e,t))}),s=p}e=0}return a(s),u},Y.update=function(){return b(tt,function(t){t.update()})},Y.vdom=tt,Y.Tag=h,o(e)===st?t.exports=Y:o(n(115))===ut&&o(n(116))!==ct?(r=function(){return Y}.call(e,n,e,t),!(r!==a&&(t.exports=r))):i.riot=Y}("undefined"!=typeof window?window:void 0)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.connect=e.provide=e.Ninjia=e.router=void 0;var o=n(23),i=r(o),a=n(50),s=r(a),c=n(21);e.router=i["default"],e.Ninjia=s["default"],e.provide=c.provide,e.connect=c.connect},function(t,e,n){var r,o;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(i){r=i,o="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==o&&(t.exports=o))}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(n){function r(e,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if(i=t({path:"/"},r.defaults,i),"number"==typeof i.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(c){}return o=n.write?n.write(o,e):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),document.cookie=[e,"=",o,i.expires&&"; expires="+i.expires.toUTCString(),i.path&&"; path="+i.path,i.domain&&"; domain="+i.domain,i.secure?"; secure":""].join("")}e||(a={});for(var u=document.cookie?document.cookie.split("; "):[],p=/(%[0-9A-Z]{2})+/g,l=0;l<u.length;l++){var d=u[l].split("="),f=d.slice(1).join("=");'"'===f.charAt(0)&&(f=f.slice(1,-1));try{var m=d[0].replace(p,decodeURIComponent);if(f=n.read?n.read(f,m):n(f,m)||f.replace(p,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(c){}if(e===m){a=f;break}e||(a[m]=f)}catch(c){}}return a}}return r.set=r,r.get=function(t){return r(t)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(e,n){r(e,"",t(n,{expires:-1}))},r.withConverter=e,r}return e(function(){})})},function(t,e,n){(function(t){"use strict";function n(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(c){return void n(c)}return a.done?void t(s):Promise.resolve(s).then(function(t){return r("next",t)},function(t){return r("throw",t)})}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=this,i=function(t,e){return function(e,n){var r=n();if(!r.partakers.busy){e({type:"partakersBusy",payload:!0});var o=r.partakers.params;Object.assign(o,t,{limit:r.partakers.limit,page:r.partakers.page}),$.get("/partaker?"+$.util.querystring.stringify(o)).then(function(t){var n=t[0],o=t[1];return e({type:"partakersNextPage",payload:{count:n,items:o}}),r.partakers.items.length+o.length>=n?void e({type:"partakersBusy",payload:!0}):void e({type:"partakersUnBusy",payload:!0})})}}},a=function(t,e){return function(n,r){n({type:"resetPartakers",payload:null}),n(i(t,e))}},s=function(t){var e=arguments.length<=1||void 0===arguments[1]?function(){}:arguments[1];return function(n){$.get("/partaker/"+t).then(function(t){n({type:"setPartaker",payload:t.partaker}),n({type:"setPartakerQrcode",payload:t.qrcode}),e()})}},c=function(e){return function(){var i=n(regeneratorRuntime.mark(function a(n,i){var s,c;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.delegateYield(regeneratorRuntime.mark(function u(){var r,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,$.get("/partaker/i?group="+e);case 2:if(r=o.sent,!r.order||"1"!=r.order.status.pay){o.next=5;break}return o.abrupt("return",{v:t.route("/order/"+r.id,null,!0)});case 5:return n({type:"setDeliveryPayment",payload:r.freight}),o.next=8,$.get("/group/"+e);case 8:a=o.sent,n({type:"loadGroupById",payload:a}),s=a.commodity,"ladder"===s.model&&(n({type:"setGroupMoney",payload:{price:s.price,maxs:0}}),s.ladder.prices.forEach(function(t,e){var r=i().groupMoney;a.num_order>=t.people&&r.maxs<t.people&&n({type:"setGroupMoney",payload:{price:t.price,maxs:t.people}})}));case 12:case"end":return o.stop()}},u,o)})(),"t0",2);case 2:if(c=a.t0,"object"!==("undefined"==typeof c?"undefined":r(c))){a.next=5;break}return a.abrupt("return",c.v);case 5:a.next=10;break;case 7:a.prev=7,a.t1=a["catch"](0),widgets.Alert.add("danger","没有该团的信息");case 10:case"end":return a.stop()}},a,o,[[0,7]])}));return function(t,e){return i.apply(this,arguments)}}()},u=function(t){return function(e){$.post("/partaker/"+t+"/ask/refund").then(function(t){widgets.Alert.add("success",t.message)})}};e["default"]={partakersNextPage:i,resetPartakerAndNextPage:a,loadPartakerById:s,findPartakerAndGroupByGroupIdAndUserId:c,drawBack:u}}).call(e,n(1))},function(t,e){"use strict";function n(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(c){return void n(c)}return a.done?void t(s):Promise.resolve(s).then(function(t){return r("next",t)},function(t){return r("throw",t)})}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0});var r=this,o=function(t){return function(){var e=n(regeneratorRuntime.mark(function o(e,n){var i,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.busy){n.next=2;break}return n.abrupt("return");case 2:return e({type:"commodityListBusy"}),i={page:t.page,limit:t.limit},t.params&&t.params.tips&&(i.tips=!0),n.next=7,$.get("/commodity?"+$.util.querystring.stringify(i));case 7:if(a=n.sent,a.length){n.next=10;break}return n.abrupt("return",e({type:"commodityListUnBusy"}));case 10:if(e({type:"addCommodityList",payload:a}),!(a.length<t.limit)){n.next=14;break}return e({type:"commodityListBusy"}),n.abrupt("return");case 14:e({type:"commodityListNextPage"}),e({type:"commodityListUnBusy"});case 16:case"end":return n.stop()}},o,r)}));return function(t,n){return e.apply(this,arguments)}}()},i=function(t,e){return function(n,r){var o=r(),i=(document.body.clientHeight,o.commdityListView.list),a=o.commodityList.items,s=o.scroll.direction,c=o.commdityListView.marginTop,u=t-c,p=o.commdityListView.index,l=o.commdityListView.capacity/2-1;if("down"===s&&i[0]&&u>i[0].height){console.warn("scroll down");for(var d=0,f=0,m=0,h=i.length;m<h&&d+i[m].height<=u;m++)d+=i[m].height,f+=1;f>l&&!function(){var t=f-l,e=a.slice(p+t,o.commdityListView.capacity);console.warn(e),n({type:"updateCommdityListViewMarginTop",payload:c+i.filter(function(e,n){return n<t}).reduce(function(t,e){return t+e.height},0)}),n({type:"updateCommdityListViewList",payload:e}),n({type:"updateCommdityListViewIndex",payload:p+1})}()}else"up"===s&&i[i.length-1]&&u>i[i.length-1].height&&console.warn("....");e&&n({type:"updateCommdityListViewList",payload:e})}},a=function(){},s=function(t){return{type:"changeCommId",payload:t}},c=function(t){return $.get("/commodity/"+t).then(function(t){return{type:"getComm",payload:t}})},u=function(t,e){return function(n){$.get("/album/commodity/"+t).then(function(t){n({type:"getCommInfoAlbums",payload:t}),e&&setTimeout(e,0)})}},p=function(t){return function(){var e=n(regeneratorRuntime.mark(function o(e,n){var i,a,s,c;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t.py,e({type:"updateCommGroupAddress",payload:{province:t}}),r.next=4,$.get("/address/city?province="+i);case 4:a=r.sent,e({type:"changeCommCities",payload:a.city}),s=n().commGroupAddress,c=n().commSelectArea,s.city&&a.city&&a.city.forEach(function(t,n){t.id===s.city.id&&(e({type:"updateCommGroupAddress",payload:{city:t}}),s.district&&c.district&&c.district.forEach(function(t,n){t.id===s.district.id&&e({type:"updateCommGroupAddress",payload:{district:t}})}))});case 9:case"end":return r.stop()}},o,r)}));return function(t,n){return e.apply(this,arguments)}}()},l=function(t){return function(e,n){$.get("/address").then(function(r){e({type:"initCommGroupAddress",payload:r}),r.province&&n().commProvinces.forEach(function(t,n){t.id===r.province.id&&e(p(t))}),t(r)})}},d=function(t){return{type:"updateCommGroupAddress",payload:t}},f=function(){return{type:"getCommProvinces",payload:""}};e["default"]={nextPage:o,updateCommList:i,getComm:c,getCommInfoAlbums:u,changeCommId:s,getCommProvinces:f,getCommCities:p,updateCommGroupAddress:d,fetchCommGroupAddress:l,scrollToReloadComms:a}},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(c){return void n(c)}return a.done?void t(s):Promise.resolve(s).then(function(t){return r("next",t)},function(t){return r("throw",t)})}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=this,s=n(33),c=r(s),u=n(3),p=r(u),l=n(7),d=r(l),f=n(8),m=r(f),h=n(5),g=r(h),y=function(t){return function(){var e=o(regeneratorRuntime.mark(function n(e,r){var o,i,s,c,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e({type:"changeTitle",payload:"参团"}),e({type:"setDeliveryPayment",payload:null}),e({type:"setJoinGroupAddrStic",payload:{}}),e({type:"setJoinGroupAddrHad",payload:!1}),o=r().user,o&&P(o),e(A()),i=function(t,n){return e(_(t,n))},s=app.context.util.promisify(i),n.next=11,s(t.id);case 11:if(c=r().group,!c.commodity||!c.commodity.scene){n.next=26;break}u=null,n.t0=c.commodity.scene,n.next="poi"===n.t0?17:"logistics"===n.t0?19:"collection"===n.t0?21:"virtual"===n.t0?23:25;break;case 17:return u="poi",n.abrupt("break",25);case 19:return u="logistics",
n.abrupt("break",25);case 21:return u="collection",n.abrupt("break",25);case 23:return u="virtual",n.abrupt("break",25);case 25:e(O(u));case 26:c=r().group,c&&c.commodity&&c.commodity.scene&&c.commodity.scene.split("_").length&&c.commodity.scene.split("_").length>1&&e(O("poi"));case 28:case"end":return n.stop()}},n,a)}));return function(t,n){return e.apply(this,arguments)}}()},v=function(t){return function(){var e=o(regeneratorRuntime.mark(function n(e,r){var o,i,s,c,u,l,f,h,y,v,b,x,w,k,_,j,S,O,P;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return P=function(t){return String(t).replace(/<[^>]+>/gm,"")},o=r().group,i=o.commodity,s=P(i.info.name),c=o.commodity.partakers-o.num_order,u="已结束",l=null,f=null,h=i.info.name,y=o.address.name,v=y.substr(0,4)+"的团",b="原　价: "+i.price+"元",x="拼团价: "+i.discount+"元",w="",k=h.substr(0,16)+"~"+v+","+l,_=i.info.detail.replace(/img1.ifindu.cn\/photo/g,"photo.91pintuan.com"),_=$.util.filter.htmlSafe(_),l=c>0?"还差"+c+"人成团":"已有"+o.num_order+"人参团",o.isBefore&&(u="剩余时间: "+(Math.ceil(parseInt((0,m["default"])(o.time_end).fromNow())/864e5)+"天内")),f=i.info.cover?app.config.phtUri+i.info.cover+app.config.phtStl120:void 0,e({type:"refreshCommDetail",payload:_}),e({type:"scrollTop",payload:!0}),e({type:"changeTitle",payload:o.address.name+"的团"}),e({type:"groupCommDetailLoading",payload:'<p class="text-center"><i class="fa fa-spinner fa-pulse fa-2x"></i></p>'}),e({type:"changeCommId",payload:i.id}),p["default"].set("commId",i.id),j=function(t,n){return e(g["default"].getCommInfoAlbums(t,n))},S=app.context.util.promisify(j),n.next=30,S(i.id);case 30:"ladder"===i.model&&(w="",k=h.substr(0,16),l="已有"+o.num_order+"人参团",O=i.ladder.prices.reduce(function(t,e,n){return n<3&&(w+=e.people+"人价:"+e.price+"元\n",k+=" "+e.people+"人价"+e.price+"元"),o.num_order>=e.people?{key:n,price:e.price,people:e.people,order:o.num_order}:t},void 0),e({type:"groupCommLadderMoney",payload:O})),w=v+"\n"+l+"\n"+u,k=v+","+l+"["+h+"]",setTimeout(function(){d["default"].ready({url:window.location.href,title:h,desc:w,timeline:k,img:f})},50),t();case 35:case"end":return n.stop()}},n,a)}));return function(t,n){return e.apply(this,arguments)}}()},b=function(){return function(t,e){if(!e().groups.busy){t({type:"groupsBusy",payload:!0});var n=e().groups.params;Object.assign(n,{limit:e().groups.limit,page:e().groups.page}),$.get("/group?"+$.util.querystring.stringify(n)).then(function(n){var r=n[0],o=n[1];return t({type:"setGroupsCount",payload:r}),t({type:"addGroup",payload:o}),t({type:"groupsNextPage"}),e().partakers.items.length+o.length>=r?void t({type:"groupsBusy",payload:!0}):void t({type:"groupsUnBusy",payload:!0})})}}},x=function(t){return function(e){return e({type:"initGroups",payload:t})}},w=function(t){return function(){var e=o(regeneratorRuntime.mark(function n(e,r){var o,s,c,u,p,l,d,f;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=r().joinGroupAddress.province,s=t?"object"===("undefined"==typeof t?"undefined":i(t))?t:JSON.parse(t):null,e({type:"selectJoinGroupProvince",payload:s}),e({type:"updateJoinGroupAddress",payload:{province:s}}),e({type:"selectJoinGroupCity",payload:null}),e({type:"setDeliveryPayment",payload:0}),s){n.next=9;break}return e({type:"updateJoinGroupAddress",payload:{province:null,city:null,district:null}}),n.abrupt("return",e({type:"setJoinGroupCities",payload:null}));case 9:return c=r(),u=c.group,p=null,l=u.commodity&&u.commodity.logistic&&"1"===u.commodity.logistic.type||!1,p=l?$.get("/logistic/tpl/"+u.commodity.logistic.template.id+"/addr/city?pid="+s.id):$.get("/address/city?province="+s.py),n.next=17,p;case 17:if(d=n.sent,!l){n.next=28;break}if(f=null,e({type:"setJoinGroupCities",payload:d}),!d.length){n.next=26;break}return n.next=24,$.get("/logistic/tpl/"+u.commodity.logistic.template.id+"/addr/district?cities="+JSON.stringify(d.map(function(t){return t.id})));case 24:f=n.sent,f.map(function(t){e({type:"setJoinGroupDistricts",payload:{cid:t.cid,districts:t.districts}})});case 26:n.next=29;break;case 28:e({type:"setJoinGroupCities",payload:d.city});case 29:r().joinGroupCities.map(function(t,n){var o=r().joinGroupAddress.city;o&&t.id==o.id&&(e({type:"selectJoinGroupCity",payload:t}),t.district&&t.district.map(function(t,n){c.joinGroupAddress.district&&t.id===r().joinGroupAddress.district.id&&e({type:"selectJoinGroupDistrict",payload:t})}))});case 30:case"end":return n.stop()}},n,a)}));return function(t,n){return e.apply(this,arguments)}}()},k=function(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1];return function(){var n=o(regeneratorRuntime.mark(function r(n,o){var i,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n({type:"setDeliveryPayment",payload:0}),t){r.next=3;break}return r.abrupt("return");case 3:if(t=JSON.parse(t),n({type:"selectJoinGroupDistrict",payload:t}),e){r.next=7;break}return r.abrupt("return");case 7:return i=o().joinGroupTemplate,r.next=10,T(i.id,t.id);case 10:s=r.sent,n({type:"setDeliveryPayment",payload:s});case 12:case"end":return r.stop()}},r,a)}));return function(t,e){return n.apply(this,arguments)}}()},_=function(t,e){return function(){var n=o(regeneratorRuntime.mark(function r(n,i){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:S(t,function(){var t=o(regeneratorRuntime.mark(function r(t){var o,i,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n({type:"setJoinGroupProvinces",payload:c["default"].getProvinces()}),!(t.commodity.logistic&&"1"===t.commodity.logistic.type&&t.commodity.logistic.template&&t.commodity.logistic.template.id)){r.next=7;break}return r.next=4,$.get("/logistic/tpl/"+t.commodity.logistic.template.id+"/addr/province");case 4:o=r.sent,n({type:"setJoinGroupTemplate",payload:t.commodity.logistic.template}),n({type:"setJoinGroupProvinces",payload:o});case 7:if(n({type:"setJoinGroupPoiLoaded",payload:!1}),!t.commodity.status.lbs){r.next=12;break}wx.ready(function(){wx.getLocation({success:function(e){var r=$.util.querystring.stringify({tag:t.commodity.poitag,latitude:e.latitude||0,longitude:e.longitude||0});$.get("/wechat/poi?"+r).then(function(t){n({type:"setGroupPois",payload:t}),n({type:"setJoinGroupPoiLoaded",payload:!0})})},cancel:function(t){widgets.Alert.add("warning","您拒绝授权获取地理位置")},fail:function(t){window.location.reload()}})}),r.next=18;break;case 12:return i=t.commodity.poitag?"/wechat/poi?tag="+t.commodity.poitag:"/wechat/poi",r.next=15,$.get(i);case 15:s=r.sent,n({type:"setGroupPois",payload:s}),n({type:"setJoinGroupPoiLoaded",payload:!0});case 18:e&&e(t);case 19:case"end":return r.stop()}},r,a)}));return function(e){return t.apply(this,arguments)}}())(n);case 1:case"end":return r.stop()}},r,a)}));return function(t,e){return n.apply(this,arguments)}}()},j=function(){return function(){var e=o(regeneratorRuntime.mark(function n(e,r){var o,i,s,c,u,l,d,f,m,h;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e({type:"setJoinGroupSubmiting",payload:!0}),setTimeout(function(){return e({type:"setJoinGroupSubmiting",payload:!1})},5e3),o=r(),i=o.selectJoinGroupAddress,s=o.group,c=o.joinGroupAddrStic,u=o.joinGroupAddress,i.province&&e({type:"updateJoinGroupAddress",payload:{province:$.util.omit(i.province,"py","parent")}}),i.city&&e({type:"updateJoinGroupAddress",payload:{city:$.util.omit(i.city,"districts","parent")}}),i.district&&e({type:"updateJoinGroupAddress",payload:{district:$.util.omit(i.district,"city","parent")}}),u.remark&&e({type:"updateJoinGroupAddrStic",payload:{remark:u.remark}}),$.util.deepEqual(u,r().joinGroupAddrStic)||e({type:"updateJoinGroupAddress",payload:{id:""}}),l=s.commodity.scene,"poi"===l?e({type:"extractJoinGroupScene",payload:"poi"}):"logistics"===l?e({type:"extractJoinGroupScene",payload:"logistics"}):"collection"===l&&e({type:"extractJoinGroupScene",payload:"collection"}),d=r().group.selectScene,d&&("poi"===d?e({type:"extractJoinGroupScene",payload:"poi"}):"logistics"===d?e({type:"extractJoinGroupScene",payload:"logistics"}):"collection"===d&&e({type:"extractJoinGroupScene",payload:"collection"})),f="grp_sku_"+s.id,m=p["default"].get(f),m&&e({type:"updateJoinGroupAddress",payload:{sku:m}}),n.next=21,$.post("/group/"+s.id+"/join",r().joinGroupAddress);case 21:h=n.sent,wx.chooseWXPay({timestamp:h.timestamp,nonceStr:h.nonceStr,"package":h["package"],signType:h.signType,paySign:h.paySign,success:function(e){p["default"].remove(f),t.route("group/"+h.id)},cancel:function(n){widgets.Alert.add("warning","您取消了支付"),e({type:"setJoinGroupSubmiting",payload:!1}),t.route("group/"+h.id)},fail:function(n){widgets.Alert.add("warning","微信支付失败"),e({type:"setJoinGroupSubmiting",payload:!1}),t.route("group/"+h.id)}});case 23:case"end":return n.stop()}},n,a)}));return function(t,n){return e.apply(this,arguments)}}()},S=function(t,e){return function(n){$.get("/group/"+t).then(function(t){n({type:"loadGroupById",payload:t}),e&&e(t)})}},O=function(t,e){return function(){var e=o(regeneratorRuntime.mark(function n(e,r){var o,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e({type:"updateJoinGroupAddress",payload:{scene:t}}),e({type:"selectScene",payload:t}),"logistics"!==t){n.next=10;break}if(o=r().joinGroupAddress,!o.district){n.next=10;break}return i=r().joinGroupTemplate,n.next=8,T(i.id,o.district.id);case 8:s=n.sent,e({type:"setDeliveryPayment",payload:s});case 10:case"end":return n.stop()}},n,a)}));return function(t,n){return e.apply(this,arguments)}}()},P=function(t){return{type:"initJoinGroupAddress",payload:{name:t?t.name:"",telephone:t?t.telephone:"",address:t?t.address:"",province:t?t.province:"",city:t?t.city:"",district:t?t.district:""}}},A=function(){return function(){var t=o(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().commProvinces,e.next=3,$.get("/address");case 3:o=e.sent,t({type:"initJoinGroupAddress",payload:o}),t({type:"setJoinGroupAddrStic",payload:o}),t({type:"setJoinGroupAddrHad",payload:!0}),o.province&&r.forEach(function(e){e.id===o.province.id&&(t({type:"setJoinGroupProvince",payload:e}),t(w(e)))});case 8:case"end":return e.stop()}},e,a)}));return function(e,n){return t.apply(this,arguments)}}()},C=function(e){return function(n){$.post("/group/"+e+"/order").then(function(n){wx.chooseWXPay({timestamp:n.timestamp,nonceStr:n.nonceStr,"package":n["package"],signType:n.signType,paySign:n.paySign,success:function(n){t.route("/group/"+e)},cancel:function(n){t.route("/group/"+e)},fail:function(n){t.route("/group/"+e)}})})}},M=function(t){return{type:"updateJoinGroupAddress",payload:t}},T=function(){var t=o(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/logistic/tpl/"+t+"/freight?district="+n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,a)}));return function(e,n){return t.apply(this,arguments)}}();e["default"]={enterGrouopInfoJoin:y,enterGroupDetailView:v,nextPage:b,initGroups:x,loadGroupById:S,initJoinGroupAddress:P,loadJoinGroupAddress:A,loadGroupByIdAndInitArea:_,changeJoinGroupProvince:w,updateJoinGroupAddress:M,participate:j,replenishment:C,selectScene:O,selectJoinGroupDistrict:k}}).call(e,n(1))},function(t,e){"use strict";function n(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(c){return void n(c)}return a.done?void t(s):Promise.resolve(s).then(function(t){return r("next",t)},function(t){return r("throw",t)})}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0});var r={params:{url:window.location.href,title:document.title,desc:this.url,img:"http://static.91pintuan.com/logo.png"},config:function(){function t(){return e.apply(this,arguments)}var e=n(regeneratorRuntime.mark(function r(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=window.location.href,$.get("/wechat/sign/jssdk?type=jsapi&url="+encodeURIComponent(t).replace("%3A",":")).then(function(t){app.store.dispatch({type:"signature",payload:t.signature});var e={debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","chooseWXPay","editAddress","openAddress","getLocation","openLocation"]};wx.config(e)});case 2:case"end":return e.stop()}},r,this)}));return t}(),ready:function(t){t=t||{};var e=t.url?t.url:this.params.url,n=t.title?t.title:this.params.title,r=t.desc?t.desc:this.params.url,o=t.img?t.img:this.params.img,i={title:n,desc:r,link:e,imgUrl:o,success:function(t){},cancel:function(t){},fail:function(t){},complete:function(t){},trigger:function(t){}},a={title:t.timeline,link:e,imgUrl:o};wx.ready(function(){wx.onMenuShareTimeline(a),wx.onMenuShareAppMessage(i),wx.onMenuShareQQ(i),wx.onMenuShareWeibo(i)})}};e["default"]=r},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return new a(t)},a=function(){function t(e){return n(this,t),e?void(this._d=new Date(e)):void(this._d=new Date)}return t.prototype.isBefore=function(t){return this._d.getTime()<this.getDate(t)},t.prototype.fromNow=function(){return this._d.getTime()-this.getDate()},t.prototype.getDate=function(t){return t="string"==typeof t?new Date(t).getTime():"object"===("undefined"==typeof t?"undefined":r(t))?t.getTime():(new Date).getTime()},o(t,[{key:"data",get:function(){return this._d},set:function(t){this._d=t}}]),t}();e["default"]=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="/document",r=function(t){var e=t.type,r=t.meta;return function(t){return"url"===e?$.get(n+"/"+r).then(function(e){return t({type:"changeDocGroup",payload:e})})["catch"](function(t){console.warn(t)}):void t({type:"changeDocGroup",payload:r})}};e["default"]={changeDocGroup:r}},function(t,e,n){var r,o;r=[e],o=function(t){"use strict";function e(t){var e=[];for(var n in t)e.push(n);return e}function n(t,e){var n=function(n){n&&n instanceof Event?(n.preventUpdate=!0,t[e](n),t.update()):t[e](n)};return n._inherited=!0,n}var r={triggerDomEvent:function(t){var e=this;return setTimeout(function(){var n;"function"==typeof Event?n=new Event(t):(n=document.createEvent("Event"),n.initEvent(t,!0,!0)),e.root.dispatchEvent(n)},0),this}},o={init:function(){var t=this;this._shouldSyncFromOpts=!0,this.on("update",function(){t._shouldSyncFromOpts&&t.trigger("sync"),t._shouldSyncFromOpts=!0})},skipSync:function(){return this._shouldSyncFromOpts=!1,this}},i={init:function(){var t=this;this.one("update",function(){t._ownPropKeys=e(t),t._ownOptsKeys=e(t.opts)}),this.on("update",function(){var r=["root","triggerDomEvent"];e(t.parent).filter(function(e){return!~t._ownPropKeys.concat(r).indexOf(e)}).forEach(function(e){t[e]="function"!=typeof t.parent[e]||t.parent[e]._inherited?t.parent[e]:n(t.parent,e)}),e(t.parent.opts).filter(function(e){return!~t._ownOptsKeys.indexOf(e)&&"riotTag"!=e}).forEach(function(e){t.opts[e]="function"!=typeof t.parent.opts[e]||t.parent.opts[e]._inherited?t.parent.opts[e]:n(t.parent,e)})})}};t.domEvent=r,t.syncEvent=o,t.parentScope=i}.apply(e,r),!(void 0!==o&&(t.exports=o))},function(t,e,n){function r(t){return n(o(t))}function o(t){return i[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var i={"./address/address.reducers":12,"./app.reducers":13,"./bill/bill.reducers":14,"./commodity/commodity.reducers":15,"./document/document.reducers":16,"./fx/fx.reducers":17,"./group/group.reducers":18,"./order/order.reducers":19,"./partaker/partaker.reducers":20};r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=11},function(t,e){"use strict"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function u(){var u=arguments.length<=0||void 0===arguments[0]||arguments[0],t=arguments[1];switch(t.type){case"maskShow":return u=!0;case"maskHidden":return u=!1;default:return u}},r=function p(){var p=arguments.length<=0||void 0===arguments[0]?"91拼团":arguments[0],t=arguments[1];return"changeTitle"===t.type?p=t.payload:p},o=function(){var t=(arguments.length<=0||void 0===arguments[0]?null:arguments[0],arguments[1]);return t},i=function l(){var l=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return"user"===t.type?l=t.payload:l},a=function d(){var d=arguments.length<=0||void 0===arguments[0]||arguments[0],t=arguments[1];switch(t.type){case"hideBar":return!1;default:return d}},s=function f(){var f=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case"fetchMerchant":return Object.assign({},f,t.payload);default:return f}},c=function m(){var m=arguments.length<=0||void 0===arguments[0]?{pos:0,direction:"down"}:arguments[0],t=arguments[1];if("scroll"===t.type){if(t.payload-m.pos>0)return m={pos:t.payload,direction:"down"};m={pos:t.payload,direction:"up"}}return m};e["default"]={mask:n,merchant:s,user:i,title:r,showBar:a,scroll:c,lastAction:o}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={items:[],busy:!1,page:1,limit:10,params:{},count:0},r=function o(){var o=arguments.length<=0||void 0===arguments[0]?n:arguments[0],t=arguments[1];switch(t.type){case"initBills":return Object.assign({},n,t.payload);case"setBillsParams":return Object.assign({},o,{params:t.payload});case"billsNextPage":return Object.assign({},o,{page:o.page+1});case"billsBusy":return Object.assign({},o,{busy:!0});case"billsUnBusy":return Object.assign({},o,{busy:!1});case"addBills":return Object.assign({},o,{items:[].concat(o.items,t.payload)});case"setBillCount":return Object.assign({},o,{count:t.payload});default:return o}};e["default"]={bills:r}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r={items:[],busy:!1,page:1,limit:10,params:{}},o=function y(){var y=arguments.length<=0||void 0===arguments[0]?r:arguments[0],t=arguments[1];switch(t.type){case"commodityListSetParams":return Object.assign({},y,{params:t.payload});case"commodityListNextPage":return Object.assign({},y,{page:y.page+1});case"commodityListBusy":return Object.assign({},y,{busy:!0});case"commodityListUnBusy":return Object.assign({},y,{busy:!1});case"addCommodityList":return Object.assign({},y,{items:[].concat(y.items,t.payload)});default:return y}},i={list:[],capacity:10,marginTop:0,index:0},a=function v(){var v=arguments.length<=0||void 0===arguments[0]?i:arguments[0],t=arguments[1];switch(t.type){case"updateCommdityListViewList":return Object.assign({},v,{list:t.payload});case"updateCommdityListViewMarginTop":return Object.assign({},v,{marginTop:t.payload});case"updateCommdityListViewIndex":return Object.assign({},v,{index:t.payload});default:return v}},s=[{id:11e4,name:"北京",py:"beijing"},{id:31e4,name:"上海",py:"shanghai"},{id:33e4,name:"浙江",py:"zhejiang"},{id:32e4,name:"江苏",py:"jiangsu"},{id:44e4,name:"广东",py:"guangdong"},{id:21e4,name:"辽宁",py:"liaoning"},{id:52e4,name:"贵州",py:"guizhou"},{id:34e4,name:"安徽",py:"anhui"},{id:5e5,name:"重庆",py:"chongqing"},{id:35e4,name:"福建",py:"fujian"},{id:51e4,name:"四川",py:"sichuan"},{id:12e4,name:"天津",py:"tianjin"},{id:13e4,name:"河北",py:"hebei"},{id:43e4,name:"湖南",py:"hunan"},{id:46e4,name:"海南",py:"hainan"},{id:37e4,name:"山东",py:"shandong"},{id:14e4,name:"山西",py:"shanxi"},{id:61e4,name:"陕西",py:"shan3xi"},{id:23e4,name:"黑龙江",py:"heilongjiang"},{id:22e4,name:"吉林",py:"jilin"},{id:41e4,name:"河南",py:"henan"},{id:42e4,name:"湖北",py:"hubei"},{id:36e4,name:"江西",py:"jiangxi"},{id:15e4,name:"内蒙古",py:"neimenggu"},{id:64e4,name:"宁夏",py:"ningxia"},{id:63e4,name:"青海",py:"qinghai"},{id:65e4,name:"新疆",py:"xinjiang"},{id:54e4,name:"西藏",py:"xizang"},{id:53e4,name:"云南",py:"yunnan"},{id:62e4,name:"甘肃",py:"ganshu"},{id:45e4,name:"广西",py:"guangxi"}],c=function b(){var b=arguments.length<=0||void 0===arguments[0]?s:arguments[0],t=arguments[1];return"getCommProvinces"===t.type?[].concat(b):b},u=function x(){var x=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments[1];switch(t.type){case"changeCommCities":return[].concat(t.payload);default:return x}},p=function w(){var w=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case"commGroupProvince":return t.payload;default:return w}},l={province:{},city:{},distinct:{}},d=function k(){var k=arguments.length<=0||void 0===arguments[0]?l:arguments[0],t=arguments[1];switch(t.type){case"commSelectProvince":return Object.assign({},k,{province:t.payload});case"commSelectCity":return Object.assign({},k,{city:t.payload});case"commSelectDistrict":return Object.assign({},k,{district:t.payload});default:return k}},f=function _(){var _=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case"getComm":return Object.assign({},t.payload);default:return _}},m=function $(){var $=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments[1];return"changeCommId"===t.type?t.payload:$},h=function j(){var j=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments[1];switch(t.type){case"getCommInfoAlbums":return[].concat(t.payload);default:return j}},g=function S(){var S=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case"initCommGroupAddress":return Object.assign({},t.payload);case"updateCommGroupAddress":return Object.assign({},S,n({},t.payload));default:return S}};e["default"]={commodityList:o,commdityListView:a,comm:f,commCities:u,commInfoAlbums:h,commId:m,commProvinces:c,commSelectArea:d,commGroupAddress:g,commGroupProvince:p}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function r(){var r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return"changeDocGroup"===t.type?t.payload||"":r};e["default"]={docGroup:n}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function o(){var o=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case"getFxInfo":return t.payload;default:return o}},r=function i(){var i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case"getMyFxer":return t.payload;default:return i}};e["default"]={fxer:n,myFxer:r}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r=function k(){var k=arguments.length<=0||void 0===arguments[0]?"all":arguments[0],t=arguments[1];switch(t.type){case"setGroupsFilter":return t.payload;default:return k}},o={items:[],busy:!1,page:1,limit:10,params:{},count:0},i=function _(){var _=arguments.length<=0||void 0===arguments[0]?o:arguments[0],t=arguments[1];switch(t.type){case"initGroups":return Object.assign({},o,t.payload);case"setGroupsParams":return Object.assign({},_,{params:t.payload});case"groupsNextPage":return Object.assign({},_,{page:_.page+1});case"groupsBusy":return Object.assign({},_,{busy:!0});case"groupsUnBusy":return Object.assign({},_,{busy:!1});case"setGroupsCount":return Object.assign({},_,{count:t.payload});case"addGroup":return Object.assign({},_,{items:[].concat(_.items,t.payload)});default:return _}},a=function j(){var j=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case"loadGroupById":return Object.assign({},t.payload);case"selectScene":return Object.assign({},j,{selectScene:t.payload});case"refreshCommDetail":return Object.assign({},j,{commDetail:t.payload});case"groupCommDetailLoading":return Object.assign({},j,{groupCommDetailLoading:t.payload});case"groupCommLadderMoney":return Object.assign({},j,{groupCommLadderMoney:t.payload});default:return j}},s=function S(){var S=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments[1];return"setDeliveryPayment"===t.type?t.payload:S},c={submitted:!1,submiting:!1,poiLoaded:!1,addrHad:!1},u=function O(){var O=arguments.length<=0||void 0===arguments[0]?c:arguments[0],t=arguments[1];switch(t.type){case"setJoinGroupAddrHad":return Object.assign({},O,{addrHad:t.payload});case"setJoinGroupSubmited":return Object.assign({},O,{submitted:t.payload});case"setJoinGroupSubmiting":return Object.assign({},O,{submiting:t.payload});case"setJoinGroupPoiLoaded":return Object.assign({},O,{poiLoaded:t.payload});default:return O}},p=function P(){var P=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments[1];switch(t.type){case"loadPoisByLbs":return[].concat(t.payload);case"setGroupPois":return[].concat(t.payload);default:return P}},l=function A(){var A=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case"setJoinGroupAddrStic":return Object.assign({},t.payload);case"updateJoinGroupAddrStic":return Object.assign({},A,n({},t.payload));default:return A}},d={name:"",telephone:"",address:"",province:"",city:"",district:"",addr:""},f=function C(){var C=arguments.length<=0||void 0===arguments[0]?d:arguments[0],t=arguments[1];switch(t.type){case"initJoinGroupAddress":return Object.assign({},t.payload);case"updateJoinGroupAddress":return Object.assign({},C,n({},t.payload));case"extractJoinGroupScene":if("poi"===t.payload)return Object.assign({},$.util.omit(C,"province","city","district","addr"));if("logistics"===t.payload)return Object.assign({},$.util.omit(C,"poi"));if("collection"===t.payload)return Object.assign({},$.util.omit(C,"poi"));default:return C}},m=function M(){var M=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case"setJoinGroupTemplate":return Object.assign({},t.payload);default:return M}},h=function T(){var T=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments[1];switch(t.type){case"setJoinGroupAddresses":return[].concat(t.payload);default:return T}},g=function L(){var L=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments[1];switch(t.type){case"setJoinGroupCities":return t.payload?[].concat(t.payload):null;case"setJoinGroupDistricts":return L.length?L.map(function(e){return e.id===t.payload.cid&&(e.districts=[].concat(t.payload.districts)),e}):L;default:return L}},y={province:{},city:{},district:{}},v=function E(){var E=arguments.length<=0||void 0===arguments[0]?y:arguments[0],t=arguments[1];switch(t.type){case"selectJoinGroupProvince":return Object.assign({},E,{province:t.payload});case"selectJoinGroupCity":return Object.assign({},E,{city:t.payload});case"selectJoinGroupDistrict":return Object.assign({},E,{district:t.payload});default:return E}},b=function G(){var G=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments[1];switch(t.type){case"setJoinGroupProvinces":return[].concat(t.payload);default:return G}},x={price:0,maxs:0},w=function I(){var I=arguments.length<=0||void 0===arguments[0]?x:arguments[0],t=arguments[1];switch(t.type){case"setGroupMoney":return Object.assign({},I,t.payload);default:return I}};e["default"]={groupsFilter:r,groups:i,group:a,joinGroupViewMeta:u,groupPois:p,joinGroupAddress:f,joinGroupAddrStic:l,joinGroupProvinces:b,deliveryPayment:s,joinGroupCities:g,joinGroupAddresses:h,selectJoinGroupAddress:v,joinGroupTemplate:m,groupMoney:w}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function r(){var r=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=arguments[1];switch(t.type){case"setOrderQrcode":return t.payload;default:return r}};e["default"]={orderQrcode:n}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={items:[],busy:!1,page:1,limit:10,params:{},count:0},r=function a(){var a=arguments.length<=0||void 0===arguments[0]?n:arguments[0],t=arguments[1];switch(t.type){case"resetPartakers":return{items:[],busy:!1,page:1,limit:10,params:{},count:0};case"partakersSetParams":return Object.assign({},a,{params:t.payload});case"partakersNextPage":return Object.assign({},a,{items:[].concat(a.items,t.payload.items),page:a.page+1,count:t.payload.count});case"partakersBusy":return Object.assign({},a,{busy:!0});case"partakersUnBusy":return Object.assign({},a,{busy:!1});case"addPartakers":return Object.assign({},a,{items:[].concat(a.items,t.payload)});default:return a}},o=function s(){var s=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case"setPartaker":return Object.assign({},t.payload);default:return s}},i=function c(){var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];switch(t.type){case"setPartakerQrcode":return t.payload||c;default:return c}};e["default"]={partakers:r,partaker:o,partakerQrcode:i}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=null,i=!1,a=function(){function t(){n(this,t),this.container=[],this.modern=!1}return r(t,[{key:"del",value:function(t){if(this.modern===!0)return this.container["delete"].apply(this.container,[t]);if(!t._riot_redux_id)throw new Error("delete tag from container expected a identity");return this.container=this.container.filter(function(e){return e._riot_redux_id!=t._riot_redux_id}),this}},{key:"add",value:function(t){if(this.modern===!0)return this.container.add.apply(this.container,[t]);if(!(t._riot_redux_id&&this.container.indexOf(t)>=0))return t._riot_redux_id=this.genIdentity(16),this.container.push(t),this}},{key:"genIdentity",value:function(t){for(var e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n="",r=0;r<t;r++){var o=Math.ceil(35*Math.random());n+=e[o]}return n}},{key:"loop",value:function(t){if(this.modern!==!0)return this.container.forEach(t),this;for(var e=0,n=this.container.length;e<n;e++){var r=this.container[e];t(r)}}},{key:"get",value:function(t){var e=this;return this.modern===!0?this.container.get(t):Object.keys(this.container).filter(function(n){return e.container[n]===t})[0]}}]),t}();Array.from||(Array.from=function(){var t=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},n=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},r=Math.pow(2,53)-1,o=function(t){var e=n(t);return Math.min(Math.max(e,0),r)};return function(t){var n=this,r=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,a=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof a){if(!e(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2])}for(var s,c=o(r.length),u=e(n)?Object(new n(c)):new Array(c),p=0;p<c;)s=r[p],a?u[p]="undefined"==typeof i?a(s,p):a.call(i,s,p):u[p]=s,
p+=1;return u.length=c,u}}());var s=new a,c=(e.connect=function(t,e){return function(n){if(!n)throw new Error("riot redux connector expected a tag instance.");n.on("unmount",function(){s.del(n)}),n.opts.mapStateToOpts=t,n.opts.mapDispatchToOpts=e,s.add(n);var r=o||v(n);t&&Object.assign(n.opts,t(r.opts.store.getState(),n.opts)),e&&Object.assign(n.opts,e(r.opts.store.dispatch,n.opts))}},e.provide=function(t){var e=t.getState();return function(n){o=n;var r={};t.subscribe(function(n){var o=t.getState(),l=new a;l.state=o,s.loop(function(t){var n=t.opts.mapStateToOpts;if(n){var s=n(e,t.opts),d=n(o,t.opts),f=b(s,d),m=!f||!f.length;if(!m&&(f.forEach(function(e){i&&(r[p(t)]||(r[p(t)]=new a),r[t.opts&&t.opts.riotTag||t.root.localName].add(e)),t.opts[e]=d[e]}),c(t,o)||u(t,o))){o.lastAction.payload;u(t,o)&&o.lastAction.payload===t&&(t.ensureToUpdate=o.lastAction.type),l.add(t)}}}),i&&console.warn(r);var d=[];l.loop(function(t){d.push(t)}),f(d),e=o})}},function(t,e){return t.opts.show||t.opts.$show}),u=function(t,e){return"$enter"===e.lastAction.type||"$leave"===e.lastAction.type},p=function(t){return t.opts&&t.opts.riotTag||t.root.localName},l=!1,d=[],f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t&&(d.push(t),l||(l=!0,m(0,e)))},m=function x(t,e){d[t];setTimeout(function(){return d[t+1]?x(t+1):(h(d.splice(0,t+1)),void(l=!l))},e)},h=function(t){var e=y(Array.from(g(t)),function(t){return t.$routePath||p(t)});e.map(function(t){t.isMounted&&(c(t)||t.ensureToUpdate)&&setTimeout(function(){t.ensureToUpdate&&("$enter"===t.ensureToUpdate?t.trigger("entered"):t.trigger("leaved"),delete t.ensureToUpdate),t.update()},0)})},g=function(t){return t.reduce(function(t,e){return t.concat(e)},[])},y=function w(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!t.length)return n;var r=t[0];return n.map(function(t){return e(t)}).indexOf(e(r))<0?(n.push(r),w(t.slice(1),e,n)):w(t.slice(1),e,n)},v=function k(t){return t.parent?k(t.parent):t},b=function(t,e){return Object.keys(e).filter(function(n){return!t.hasOwnProperty(n)||(!Array.isArray(t[n])||!Array.isArray(e[n])||0!==t[n].length||0!==e[n].length)&&t[n]!=e[n]})}},function(t,e,n){(function(t){"use strict";function n(t){return function(t){return function(t){return function(e){return"route"===e.type,t(e)}}}}function r(e,n){e.off("state-search").on("state-search",function(e){var r=e.param,o=e.value,i=n.getState().route,a=i.data.req.query;a[r]=o,t.route(i.$location+"?"+$.util.querystring.stringify(a),null,!0)}),e.off("state-change").on("state-change",function(t){n.dispatch({type:"$route",payload:{route:t}})}),e.off("sync-state-query").on("sync-state-query",function(t){n.dispatch({type:"$query",payload:t})}),e.off("busy-pending").on("busy-pending",function(){}),e.off("busy-resolve").on("busy-resolve",function(){})}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={routerMiddlewareCreator:n,syncHistoryWithStore:r}}).call(e,n(1))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(t){return"undefined"==typeof t?"undefined":i(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":"undefined"==typeof t?"undefined":i(t)},s=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),p=r(u),l=n(54),d=r(l),f=function(){function t(e){o(this,t),this._root=null,this._view=null,this._busy=!1,this._routes=[],this._defaultRoute=null,this._location=null,this._prev=null,this.state={},this._title=null,this._emitter=e,this.refinedRoutes=[]}return c(t,[{key:"startup",value:function(){return this._parseRoute(),p["default"].route.base("/"),p["default"].route(this.doRoute.bind(this)),m.nextTick(function(){p["default"].route.start(),p["default"].route.exec()}),this}},{key:"matches",value:function(t){var e=t.routes,n=t.location,r=this.parse(n);return this.doRoute(r,e)}},{key:"parse",value:function(t){var e={},n=t.split("?"),r=s(n,2),o=r[0],i=r[1],a=null;this.location&&(a=m.compareUrl(this.location,o));var c=""===o||"/"===o?["/"]:o.split("/");if(e.query={},i&&i.split("&").map(function(t){return e.query[t.split("=")[0]]=t.split("=")[1]}),this.location&&this.location==="/"+o)return this.trigger("sync-state-query",e.query),null;if(e.hints=[],c.length)for(var u=0,p=c.length;u<p;u++){var l=c[u];0===u?e.hints.push(m.completePart(l)):e.hints.indexOf(l)<0&&e.hints.push(m.combineUriParts(c,u,l))}return a&&(e.hints=e.hints.filter(function(t){return t.length>a.length}),!e.hints.length)?null:e}},{key:"_parseRoute",value:function(){return p["default"].route.parser(this.parse.bind(this)),this}},{key:"routeTo",value:function(t,e,n,r,o){var i=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments[5];if(this.busy=!1,this.trigger("busy-resolve"),a)return p["default"].route(t.path);if(t.tag.opts.show||t.tag.opts.$show||m.completePart(t.path)!==this.location){var c=t.path,u=n;if(this.trigger("state-change",{$state:c,$location:u,ctx:e}),t.redirectTo)return p["default"].route(t.redirectTo),!0;var l={hints:e.req.hints,req:e.req,route:t,tag:t.tag,$state:c,$location:u,index:o};return t.resolve?t.resolve.apply(t.tag,[function(t){i.routeToDone(t,e,l,s)},e]):void this.routeToDone(null,e,l,s)}}},{key:"match",value:function(t,e){var n=t.split("/").map(function(t){return m.completePart(t)}),r=e.split("/").map(function(t){return m.completePart(t)});if(!(t&&e&&n&&n.length&&r&&r.length&&r.length==n.length))return!1;var o=n.map(function(t,e){return t.startsWith("/:")?{key:t.slice(1),index:e}:t===r[e]||null}).filter(function(t){return t});return o.length!=n.length?null:o.filter(function(t){return"object"===("undefined"==typeof t?"undefined":a(t))}).reduce(function(t,e){return t[e.key.slice(1)]=r[e.index].slice(1),t},{})}},{key:"recurMatch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=this,o=arguments[3],i=arguments[4],a=t.req,s=a.hints,c=s[n];if(!e||!c)return{ctx:t,components:i};for(var u=null,l=o?o:this.routes,d=0,f=l.length;d<f;d++){var h=l[d],g=this.match(m.completePart(h.path),m.completePart(c));if(g){t.req.params||(t.req.params={}),Object.assign(t.req.params,g),!t.req.body&&(t.req.body={}),Object.assign(t.req.body,m.omit(h,"resolve","redirectTo","tag","path","name")||{}),u=h;break}}return u||n!==s.length?u?void!function(){var e=function(){var e=this,r=l.root.querySelector('div[data-tag-name="'+u.component+'"]');if(!u.tag||!u.tag.isMounted){var a=p["default"].mount(r,""+u.component)[0];a&&(a.$routePath=u.path,l.parent.tags[a.opts.riotTag]=a,a.parent=l.parent,u.tag=a)}return u.tag?this.routeTo(u,t,c,!1,n,function(){if(s[n+1])return e.recurMatch(t,u.tag,n+1,o,i.concat(u))}):this.recurMatch(t,u,n+1,o,i.concat(u))};r.state.hint=u.path;var a=o.filter(function(t){return t.id===u.parent})[0],l=(a&&a.tag||r.root).tags["router-outlet"];l.$isMounted?e.apply(r):l.one("$mounted",e.bind(r))}():(console.info("404"),this.recurMatch(t,e,n+1,o,i)):e.defaultRoute?(this.routeTo(e.defaultRoute,t,c,!0,n),{ctx:t,components:i.concat(u)}):(console.info("404"),this.busy=!1,this.trigger("busy-resolve"),{ctx:t,components:i})}},{key:"doRoute",value:function(t,e){if(t){this.busy=!0,this.trigger("busy-pending");var n={req:t};return this.recurMatch(n,this.root||{},0,this.refinedRoutes,[])}}},{key:"routeToDone",value:function(t,e,n,r){var o=n.hints,i=n.req,a=n.route,s=n.tag,c=n.$state,u=n.index,p=n.$location,l=this;e&&t&&(!e.body&&(e.body={}),Object.assign(e.body,t)),l.trigger("history-pending",l.prev,c,p,e,l.executeMiddlewares(s,s.$mws,e,function(){l.routeSuccess(t,e,{hints:o,req:i,route:a,tag:s,$state:c,$location:p,index:u},r)}))}},{key:"routeSuccess",value:function(t,e,n,r){var o=n.hints,i=(n.req,n.route),a=(n.tag,n.$state,n.index),s=n.$location,c=this,u=c.getMetaDataFromRouteMap(c.location).route,p=i;c.trigger("history-resolve",c.prev,p,e,o,a,function(){c.trigger("history-success",u,p),c.location=s,c.prev=i,r()})}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments[2];return!e&&this.title&&(e=this.title()),p["default"].route(t,e,n),this}},{key:"setTitle",value:function(t){this.title=t}},{key:"getMetaDataFromRouteMap",value:function(t){t=t&&t.startsWith("/")?t:"/"+t;for(var e=Object.keys(this.routes),n=0,r=e.length;n<r;n++){var o=e[n],i=this.routes[o];if(m.toPattern(o)===m.toPattern(t)){var a=(m.extractParams(o)||[]).map(function(t){return t.slice(2)}),s=(m.extractParams(t)||[]).map(function(t){return t.slice(1)});return{route:i,$state:o,$location:t,params:m.composeObject(a,s)}}}return{tag:null,params:null}}},{key:"executeMiddlewares",value:function(t,e,n,r){var o=this;return function(){return e&&e.length?void e[0].call(t,function(){return o.executeMiddlewares(t,e.slice(1),n,r)()},n):r()}}},{key:"search",value:function(t,e){return this.trigger("state-search",{param:t,value:e}),this}},{key:"trigger",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._emitter.trigger.apply(this._emitter,e)}},{key:"on",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._emitter.on.apply(this._emitter,e)}},{key:"off",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._emitter.off.apply(this._emitter,e)}},{key:"one",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._emitter.one.apply(this._emitter,e)}},{key:"view",get:function(){return this._view},set:function(t){this._view=t}},{key:"root",get:function(){return this._root},set:function(t){this._root=t}},{key:"prev",get:function(){return this._prev},set:function(t){this._prev=t}},{key:"busy",get:function(){return this._busy},set:function(t){this._busy=t}},{key:"title",get:function(){return this._title},set:function(t){this._title=t}},{key:"routes",get:function(){return this._routes},set:function(t){this._routes=t,m.flatAndComposePrefix(this.routes,this.refinedRoutes)}},{key:"defaultRoute",get:function(){return this._defaultRoute},set:function(t){this._defaultRoute=t}},{key:"location",get:function(){return this._location},set:function(t){this._location=t}}]),t}(),m=function(){function t(){o(this,t)}return c(t,null,[{key:"distinct",value:function(t){for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];e.indexOf(o)<0&&e.push(o)}return e}},{key:"genId",value:function(t){for(var e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n="",r=0;r<t;r++){var o=Math.ceil(35*Math.random());n+=e[o]}return n}},{key:"completePart",value:function(t){return t.startsWith("/")?t:"/"+t}},{key:"assert",value:function(t,e){if(!t)throw new Error(e)}},{key:"omit",value:function(t){for(var e={},n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var i in t)r.indexOf(i)<0&&(e[i]=t[i]);return e}},{key:"compareUrl",value:function(t,e){for(var n=[],r=t.split("/"),o=e.split("/"),i=0,a=r.length;i<a&&r[i]===o[i];i++)n.push(r[i]);return n.join("/")}},{key:"combineUriParts",value:function(e,n,r){if(!e.length||n<=0)return r;var o=e[n-1]+"/"+r;return t.combineUriParts(e,--n,o)}},{key:"composeObject",value:function(t,e){var n={};return Array.isArray(t)&&Array.isArray(e)&&t.length==e.length?(t.forEach(function(t,r){n[t]=e[r]}),n):n}},{key:"extractParams",value:function(t){return t.match(/_[a-zA-Z0-9:]+/g)}},{key:"toPattern",value:function(t){return t.replace(/_[a-zA-Z0-9:]+/g,"*")}},{key:"nextTick",value:function(t){return setTimeout(t,0)}}]),t}();m.flatAndComposePrefix=function(t,e){var n=t.children;if(n)for(var r=0,o=n.length;r<o;r++){var i=n[r];i.path=(t.path||"")+i.path,i.parent=t.id||"",i.id=m.genId(8),e.push(i),m.flatAndComposePrefix(i,e)}};var h=new f(p["default"].observable());h.view=(0,d["default"])(h),e["default"]={hub:h,$use:function(t){!this.$mws&&(this.$mws=[]),this.$mws.push(t)}}},function(t,e){"use strict";function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};var o=function(){var t=e[e.length-1],n=e.slice(0,-1);return{v:function(){return n.reduceRight(function(t,e){return e(t)},t.apply(void 0,arguments))}}}();return"object"===("undefined"==typeof o?"undefined":r(o))?o.v:void 0}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){function r(){v===y&&(v=y.slice())}function a(){return g}function c(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return r(),v.push(t),function(){if(e){e=!1,r();var n=v.indexOf(t);v.splice(n,1)}}}function l(t){if(!(0,s["default"])(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(b)throw new Error("Reducers may not dispatch actions.");try{b=!0,g=h(g,t)}finally{b=!1}for(var e=y=v,n=0;n<e.length;n++)e[n]();return t}function d(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");h=t,l({type:p.INIT})}function f(){var t,e=c;return t={subscribe:function(t){function n(){t.next&&t.next(a())}if("object"!==("undefined"==typeof t?"undefined":i(t)))throw new TypeError("Expected the observer to be an object.");n();var r=e(n);return{unsubscribe:r}}},t[u["default"]]=function(){return this},t}var m;if("function"==typeof e&&"undefined"==typeof n&&(n=e,e=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(o)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var h=t,g=e,y=[],v=y,b=!1;return l({type:p.INIT}),m={dispatch:l,subscribe:c,getState:a,replaceReducer:d},m[u["default"]]=f,m}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.__esModule=!0,e.ActionTypes=void 0,e["default"]=o;var a=n(27),s=r(a),c=n(64),u=r(c),p=e.ActionTypes={INIT:"@@redux/INIT"}},function(t,e){"use strict";function n(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}e.__esModule=!0,e["default"]=n},function(t,e,n){"use strict";function r(t){if(!a(t)||d.call(t)!=s||i(t))return!1;var e=o(t);if(null===e)return!0;var n=p.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}var o=n(60),i=n(61),a=n(62),s="[object Object]",c=Object.prototype,u=Function.prototype.toString,p=c.hasOwnProperty,l=u.call(Object),d=c.toString;t.exports=r},function(t,e,n){(function(t){t.tag2("commodity-sku",'<div class="comm-sku" if="{opts.commodity.sku.length}"><div each="{sku in opts.commodity.sku}"><span class="sku-name">{sku.norms.name}</span><span class="sku-cont" each="{item, index in sku.items}">{item.name}<span class="sku-color">{index === parent.sku.items.length - 1 ? \'\' : \'，\'}</span></span></div></div>',"","",function(t){})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("radio",'<button type="button" __disabled="{opts.disabled || opts.__disabled}" data-selected="{selected ? \'yes\' : \'no\'}" data-size="{opts.size}" onclick="{onClick}"><input type="radio" __checked="{selected}" onclick="{onClick}"><yield></yield></button></style>','radio button,[riot-tag="radio"] button,[data-is="radio"] button{ display: inline-block; padding: 6px 12px; margin-bottom: 0; font-size: 14px; font-weight: normal; line-height: 1.42857143; text-align: center; white-space: nowrap; vertical-align: middle; cursor: pointer; background-image: none; border: 1px solid transparent; border-radius: 4px; } radio button:focus,[riot-tag="radio"] button:focus,[data-is="radio"] button:focus{ outline: thin dotted; outline: 5px auto -webkit-focus-ring-color; outline-offset: -2px; } radio button:hover,[riot-tag="radio"] button:hover,[data-is="radio"] button:hover,radio button:focus,[riot-tag="radio"] button:focus,[data-is="radio"] button:focus{ color: #333; text-decoration: none; } radio button:active,[riot-tag="radio"] button:active,[data-is="radio"] button:active{ background-image: none; outline: 0; box-shadow: inset 0 3px 5px rgba(0, 0, 0, .125); } radio button[disabled],[riot-tag="radio"] button[disabled],[data-is="radio"] button[disabled]{ pointer-events: none; cursor: not-allowed; box-shadow: none; opacity: .65; } radio button,[riot-tag="radio"] button,[data-is="radio"] button{ color: #333; background-color: #fff; border-color: #ccc } radio button:hover,[riot-tag="radio"] button:hover,[data-is="radio"] button:hover,radio button:focus,[riot-tag="radio"] button:focus,[data-is="radio"] button:focus,radio button:active,[riot-tag="radio"] button:active,[data-is="radio"] button:active,radio button[data-selected="yes"],[riot-tag="radio"] button[data-selected="yes"],[data-is="radio"] button[data-selected="yes"]{ color: #FFFFFF; background-color: #F0373D; border-color: #F0373D } radio button[data-size="lg"],[riot-tag="radio"] button[data-size="lg"],[data-is="radio"] button[data-size="lg"]{ padding: 10px 16px; font-size: 18px; line-height: 1.3333333; border-radius: 6px; } radio button[data-size="sm"],[riot-tag="radio"] button[data-size="sm"],[data-is="radio"] button[data-size="sm"]{ padding: 5px 10px; font-size: 12px; line-height: 1.5; border-radius: 3px; } radio button[data-size="xs"],[riot-tag="radio"] button[data-size="xs"],[data-is="radio"] button[data-size="xs"]{ padding: 1px 5px; font-size: 12px; line-height: 1.5; border-radius: 3px; }',"",function(t){"use strict";var e=this,r=n(10);this.mixin(r.parentScope),this.onClick=function(n){n.stopPropagation(),e.selected=!0,e.trigger("radioClicked",t.value||e.root.innerText)},this.on("update",function(){e.selected=t.value==e.parent.value})})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("group-info-join",'<div><div if="{opts.group.commodity.scene === \'poi_logi\' || opts.group.commodity.scene === \'poi_coll\'}" class="more-select"><label onclick="{onClickSelectScene}" class="{\'bg-color\' : opts.group.selectScene === \'poi\'}" value="poi" if="{opts.group.commodity.status.poi}"><span class="img-icon icon1"></span>门店自提 </label><label onclick="{onClickSelectScene}" class="{\'bg-color\' : opts.group.selectScene === \'logistics\'}" value="logistics" if="{opts.group.commodity.scene === \'poi_logi\' && opts.group.commodity.status.logistics}"><span class="img-icon icon2"></span>快递配送 </label><label onclick="{onClickSelectScene}" class="{\'bg-color\' : opts.group.selectScene === \'collection\'}" value="collection" if="{opts.group.commodity.scene === \'poi_coll\' && opts.group.commodity.status.collection}">团长代收 </label></div><div if="{opts.group.commodity.scene !== \'poi_logi\' && opts.group.commodity.scene !== \'poi_coll\'}" class="one-select"><label value="poi" if="{opts.group.commodity.scene === \'poi\'}"><img class="img-icon" src="https://img.91pintuan.com/poi.png"><span>门店自提</span></label><label value="logistics" if="{opts.group.commodity.scene === \'logistics\'}"><img class="img-icon" src="https://img.91pintuan.com/logistic.png"><span>快递配送</span></label><label value="collection" if="{opts.group.commodity.scene === \'collection\'}"><span>团长代收</span></label><label value="virtual" if="{opts.group.commodity.scene === \'virtual\'}"><img class="img-icon" src="https://img.91pintuan.com/code.png"><span>虚拟商品</span></label></div><form class="form-horizontal address_form" name="joinForm" novalidate><div class="form-grey"></div><div class="form-group bgcolor-white" class="{\'has-error\' : forms[\'joinForm\'].name.$invalid && opts.stateView.submitted}"><label class="col-xs-3 control-label">姓名</label><div class="col-xs-9"><input value="{opts.address.name}" type="text" name="name" class="form-control noborder" placeholder="{forms[\'joinForm\'].name.$error.required && submitted?\'姓名必须填写\':\'\'}" onchange="{onChangeName}" minlength="2" maxlength="20" required><p if="{forms[\'joinForm\'].name.$error.minlength}" class="help-block">姓名字数太少.</p><p if="{forms[\'joinForm\'].name.$error.maxlength}" class="help-block">姓名字数太多.</p></div></div><div class="form-group bgcolor-white" class="{\'has-error\' : forms[\'joinForm\'].telephone.$invalid && opts.stateView.submitted}"><label class="col-xs-3 control-label">手机号</label><div class="col-xs-9"><input value="{opts.address.telephone}" type="telephone" name="telephone" class="form-control noborder" placeholder="{forms[\'joinForm\'].telephone.$error.required && opts.stateView.submitted?\'手机号必须填写\':\'\'}" oninput="{onChangeTelephone}" minlength="6" maxlength="20" required><p if="{forms[\'joinForm\'].telephone.$error.minlength}" class="help-block">电话最少6位.</p><p if="{forms[\'joinForm\'].telephone.$error.maxlength}" class="help-block">电话最多20位.</p></div></div><div if="{opts.group.selectScene === \'logistics\' || opts.group.commodity.scene === \'logistics\'}"><div class="form-group bgcolor-white" class="{\'has-error\' : forms[\'joinForm\'].province.$invalid && opts.stateView.submitted}"><label class="col-xs-3 control-label">所在省</label><div class="col-xs-3" id="province-width"><select name="province" class="form-control form-select" required onchange="{onSelectJoinGroupProvince}"><option value="">选择省</option><option __selected="{parent.opts.address.province.id == province.id}" value="{JSON.stringify(province)}" each="{province in opts.provinces}">{province.name}</option></select><p if="{forms[\'joinForm\'].province.$error.required}" class="help-block">请选择省份.</p></div><div class="col-xs-1" id="province-down"><img src="https://img.91pintuan.com/down.png" alt=""></div></div><div class="form-group bgcolor-white" class="{\'has-error\' : forms[\'joinForm\'].city.$invalid && opts.stateView.submitted}"><label class="col-xs-3 control-label">所在市</label><div class="col-xs-3" id="province-width"><select name="city" class="form-control form-select" onchange="{onSelectJoinGroupCity}" required><option value="">选择市</option><option __selected="{parent.opts.address.city.id == city.id}" value="{JSON.stringify(city)}" each="{city in opts.cities}">{city.name}</option></select><p if="{forms[\'joinForm\'].city.$error.required}" class="help-block">请选择城市.</p></div><div class="col-xs-1" id="province-down"><img src="https://img.91pintuan.com/down.png" alt=""></div></div><div class="form-group bgcolor-white" class="{\'has-error\' : forms[\'joinForm\'].district.$invalid && opts.stateView.submitted}"><label class="col-xs-3 control-label">区&nbsp;/&nbsp;县</label><div class="col-xs-3" id="province-width"><select name="district" class="form-control form-select" onchange="{onSelectJoinGroupDistrict}" required><option value="">区县</option><option value="{JSON.stringify(district)}" __selected="{parent.opts.address.district.id == district.id}" each="{district in (opts.area.city.districts || opts.area.city.district)}">{district.name} </option></select><p if="{forms[\'joinForm\'].district.$error.required}" class="help-block">请选择区县.</p></div><div class="col-xs-1" id="province-down"><img src="https://img.91pintuan.com/down.png" alt=""></div></div><div class="form-group bgcolor-white" class="{\'has-error\' : forms[\'joinForm\'].address.$invalid && opts.stateView.submitted}"><label class="col-xs-3 control-label">详细地址</label><div class="col-xs-9"><input value="{opts.address.address}" type="text" onchange="{onChangeAddress}" name="address" class="form-control noborder" placeholder="{forms[\'joinForm\'].address.$error.required && opts.stateView.submitted?\'请填写收获地址\':\'\'}" maxlength="255" required><p if="{forms[\'joinForm\'].address.$error.required}" class="help-block">请填写详细地址.</p><p if="{forms[\'joinForm\'].address.$error.maxlength}" class="help-block">收货地址字数太多.</p></div></div><div if="{opts.group.commodity.status.model === \'share\'}"><div class="form-group bgcolor-white" if="{opts.deliveryPayment}"><label class="col-xs-3 control-label">配送邮费</label><div class="col-xs-9"><input type="hidden" name="postage" class="form-control noborder form-font" value="{opts.deliveryPayment}" required><span>{$.util.filter.currency(opts.deliveryPayment)}</span></div></div></div><div if="{opts.group.commodity.status.model === \'distribution\'}"><div class="form-group bgcolor-white" if="{opts.deliveryPayment}"><label class="col-xs-3 control-label">配送邮费</label><div class="col-xs-9"><input type="hidden" name="postage" class="form-control noborder form-font" value="{opts.deliveryPayment}" required><span>{$.util.filter.currency(opts.deliveryPayment)}</span></div></div></div></div><div if="{opts.group.selectScene === \'poi\' || opts.group.commodity.scene === \'poi\'}" class="form-group bgcolor-white" class="{\'has-error\': forms[\'joinForm\'].poi.$invalid && opts.stateView.submitted}" if="{opts.group.commodity.poitag && opts.group.commodity.poitag.length > 0}"><label class="col-xs-3 control-label">自提门店</label><div class="col-xs-8" onclick="{poiSelModal}"><input name="poi" type="hidden" value="{JSON.stringify(opts.address.poi)}" required><p class="form-control-static sjdjtcont" onclick="{poiSelModal}" if="{opts.address.poi}">{opts.address.poi.base_info.business_name + (opts.address.poi.base_info.branch_name ? \'(\' + opts.address.poi.base_info.branch_name + \')\' : \'\')} </p><p class="form-control-static" if="{!opts.address.poi}"><span class="sjdjt" if="{opts.pois}" onclick="{poiSelModal}"> {(forms[\'joinForm\'].poi.$error.required && opts.stateView.submitted) ? \'请选择门店\' : \'选择门店\'} </span><span class="sjdjt" if="{!opts.pois}">门店加载中</span></p><p if="{forms[\'joinForm\'].poi.$error.required}" class="help-block">请选择门店</p></div><div class="col-xs-1 span-right"><span onclick="{poiSelModal}"><img src="https://img.91pintuan.com/right.png" alt=""></span></div></div><div class="form-group bgcolor-white"><div class="col-xs-11"><textarea type="text" id="textarea" class="form-control" onchange="{onChangeRemark}" placeholder="{opts.group.commodity.remark ? opts.group.commodity.remark : \'给卖家留言\'}"></textarea></textarea></div></div><div class="col-xs-12" id="virtual" if="{opts.group.commodity.scene === \'virtual\'}"><p>注：参团且拼团成功时，直接在线发送虚拟商品消费凭证</p></div><div class="form-group sevenpx" if="{!opts.group.commodity.coll}"></div><div class="group-pay"><span if="{opts.group.commodity.status.model === \'ladder\'}"><span class="myspan">需支付定金:</span><span class="myspan">{$.util.filter.currency(opts.group.commodity.ladder.prepay)}</span></span><span if="{opts.group.commodity.status.model === \'share\'}"><span class="myspan">合计&nbsp;</span><span class="myspan">{$.util.filter.currency(opts.totalFee + opts.deliveryPayment)}</span><span if="{opts.deliveryPayment}" class="postage"> (包括邮费: {$.util.filter.currency(opts.deliveryPayment)}) </span></span><span if="{opts.group.commodity.status.model === \'distribution\'}"><span class="myspan">合计&nbsp;</span><span class="myspan">{$.util.filter.currency(opts.totalFee + ((opts.group.selectScene === \'logistics\' || opts.group.commodity.scene === \'logistics\') ? opts.deliveryPayment : 0))}</span><span if="{opts.deliveryPayment && (opts.group.selectScene === \'logistics\' || opts.group.commodity.scene === \'logistics\')}" class="postage"> (包括邮费: {$.util.filter.currency(opts.deliveryPayment)}) </span></span><button onclick="{participate}" class="btn btn-pay" __disabled="{opts.stateView.submiting}"> {opts.stateView.submiting ? \'支付中...\' : \'确认支付\'} </button></div></form></div>',"","",function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}var r=this,o=n(2),i=n(5),a=e(i),s=n(9),c=e(s),u=n(6),p=e(u),l=n(3),d=(e(l),n(10),this);this.mixin("router"),this.mixin("form"),this.useForm();var f=function(t){return t.commodity&&t.commodity.logistic&&"1"===t.commodity.logistic.type||!1},m=function(t){return t&&t.commodity?"ladder"===t.commodity.model?t.commodity.ladder.prepay:t.commodity.prepay:0};(0,o.connect)(function(t){return{group:t.group,stateView:t.joinGroupViewMeta,merchant:t.merchant,commInfoAlbums:t.commInfoAlbums,route:t.route,user:t.user,pois:t.groupPois,provinces:t.joinGroupProvinces,cities:t.joinGroupCities,area:t.selectJoinGroupAddress,deliveryPayment:t.deliveryPayment,address:t.joinGroupAddress,addr_stic:t.joinGroupAddrStic,isLimitPurchase:f(t.group),totalFee:m(t.group)}},function(t){return{enter:function(e){return t(p["default"].enterGrouopInfoJoin(e))},participate:function(){return t(p["default"].participate())},loadGroupById:function(e,n){return t(p["default"].loadGroupById(e,n))},updateJoinGroupAddress:function(e){return t(p["default"].updateJoinGroupAddress(e))},loadJoinGroupAddress:function(){return t(p["default"].loadJoinGroupAddress())},changeJoinGroupProvince:function(e,n){return t(p["default"].changeJoinGroupProvince(e,n))},initJoinGroupAddress:function(e){return t(p["default"].initJoinGroupAddress(e))},loadGroupByIdAndInitArea:function(e,n){return t(p["default"].loadGroupByIdAndInitArea(e,n))},getComm:function(e,n){return t(a["default"].getComm(e,n))},getCommInfoAlbums:function(e,n){return t(a["default"].getCommInfoAlbums(e,n))},changeDocGroup:function(e,n){return t(c["default"].changeDocGroup(e,n))},changeCommId:function(e){return t(a["default"].changeCommId(e))},selectScene:function(e){return t(p["default"].selectScene(e,d))},selectJoinGroupDistrict:function(e,n){return t(p["default"].selectJoinGroupDistrict(e,n))}}})(this),this.on("mount",function(){return r.opts.enter(r.opts)}),this.onChangePoi=function(t){return t.target.value&&r.opts.updateJoinGroupAddress({poi:JSON.parse(t.target.value)})},this.onChangeTelephone=function(t){return r.opts.updateJoinGroupAddress({telephone:t.target.value})},this.onChangeName=function(t){return r.opts.updateJoinGroupAddress({name:t.target.value})},this.onChangeRemark=function(t){return r.opts.updateJoinGroupAddress({remark:t.target.value})},this.onChangeAddress=function(t){return r.opts.updateJoinGroupAddress({address:t.target.value})},this.onClickSelectScene=function(t){return r.opts.selectScene(t.currentTarget.getAttribute("value"))},this.onSelectJoinGroupProvince=function(t){return r.opts.changeJoinGroupProvince(t.target.value,r)},this.onSelectJoinGroupCity=function(t){var e=app.store.dispatch;return e({type:"setDeliveryPayment",payload:0}),t.target.value?(e({type:"setDeliveryPayment",payload:0}),void e({type:"selectJoinGroupCity",payload:JSON.parse(t.target.value)})):e({type:"selectJoinGroupCity",payload:null})},this.onSelectJoinGroupDistrict=function(t){return r.opts.selectJoinGroupDistrict(t.target.value,r.opts.isLimitPurchase)},this.participate=function(){return r.forms.joinForm.$validate()?void r.opts.participate():(app.store.dispatch({type:"setJoinGroupSubmited",payload:!0}),!1)},this.poiSelModal=function(t){var e=widgets.Modal.open({tag:"group-poi-modal",
size:"lg"});e.one("dismiss",function(t){function e(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),setTimeout(function(){e.dispatchEvent(n)},0)}app.store.dispatch({type:"updateJoinGroupAddress",payload:{poi:t}}),r.poi.value=t,e("input",r.poi)})}})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("group-sku",'<div class="comm-sku" if="{opts.group.commodity.sku.length}"><div each="{sku in opts.group.commodity.sku}"><span class="sku-name">{sku.norms.name}</span><span class="sku-cont" each="{item, index in sku.items}">{item.name}<span class="sku-color">{index === parent.sku.items.length - 1 ? \'\' : \'，\'}</span></span></div></div>',"","",function(t){})}).call(e,n(1))},function(t,e,n){function r(t){return n(o(t))}function o(t){return i[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var i={"./app/address/address.reducers.js":12,"./app/app.reducers.js":13,"./app/bill/bill.reducers.js":14,"./app/commodity/commodity.reducers.js":15,"./app/document/document.reducers.js":16,"./app/fx/fx.reducers.js":17,"./app/group/group.reducers.js":18,"./app/order/order.reducers.js":19,"./app/partaker/partaker.reducers.js":20,"./framework/riot-router-redux/riot.router.reducers.js":47};r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=32},function(t,e){"use strict";var n=this;e.getProvinces=function(){return[{id:11e4,name:"北京",py:"beijing"},{id:31e4,name:"上海",py:"shanghai"},{id:33e4,name:"浙江",py:"zhejiang"},{id:32e4,name:"江苏",py:"jiangsu"},{id:44e4,name:"广东",py:"guangdong"},{id:21e4,name:"辽宁",py:"liaoning"},{id:52e4,name:"贵州",py:"guizhou"},{id:34e4,name:"安徽",py:"anhui"},{id:5e5,name:"重庆",py:"chongqing"},{id:35e4,name:"福建",py:"fujian"},{id:51e4,name:"四川",py:"sichuan"},{id:12e4,name:"天津",py:"tianjin"},{id:13e4,name:"河北",py:"hebei"},{id:43e4,name:"湖南",py:"hunan"},{id:46e4,name:"海南",py:"hainan"},{id:37e4,name:"山东",py:"shandong"},{id:14e4,name:"山西",py:"shanxi"},{id:61e4,name:"陕西",py:"shan3xi"},{id:23e4,name:"黑龙江",py:"heilongjiang"},{id:22e4,name:"吉林",py:"jilin"},{id:41e4,name:"河南",py:"henan"},{id:42e4,name:"湖北",py:"hubei"},{id:36e4,name:"江西",py:"jiangxi"},{id:15e4,name:"内蒙古",py:"neimenggu"},{id:64e4,name:"宁夏",py:"ningxia"},{id:63e4,name:"青海",py:"qinghai"},{id:65e4,name:"新疆",py:"xinjiang"},{id:54e4,name:"西藏",py:"xizang"},{id:53e4,name:"云南",py:"yunnan"},{id:62e4,name:"甘肃",py:"ganshu"},{id:45e4,name:"广西",py:"guangxi"}]},e.isEqual=function(t,e){return t.id===e.id},e.format=function(t,e,n){return t.map(function(t){return t[n]=t[e],delete t[e],t})},e.distinct=function(t){var e=n;return t.reduce(function(t,n){return t.filter(function(t){return e.isEqual(t,n)}).length<=0&&t.push(n),t},[])},e.getChildren=function(t,e){return t.filter(function(t){return t.parent===e})}},function(t,e,n){"use strict";function r(t,e){for(var n in e)t[n]=e[n]}Object.defineProperty(e,"__esModule",{value:!0});var o={};o["wx.dev.91pintuan.com"]="https://apidev.91pintuan.com",o["99.dev.91pintuan.com"]="https://api99dev.91pintuan.com";var i={};i["wx.91pintuan.com"]="https://api.91pintuan.com",i["91pintuan.com"]="https://api.91pintuan.com",i["99.91pintuan.com"]="https://api99.91pintuan.com";var a={phtStlList:"@1e_1c_0o_0l_300h_430w_100q.src",phtStlList2:"@1e_1c_0o_0l_100sh_240h_360w_90q.src",phtStlList3:"@1e_1c_0o_0l_100sh_125h_180w_90q.src",phtStlList4:"@1e_1c_0o_0l_100sh_85h_120w_90q.src",phtStlComm:"@1e_1c_0o_0l_600h_860w_100q.src",phtStlSmll:"@1e_1c_0o_1l_399sh_84h_120w_100q.src",phtStl120:"@1e_1c_0o_0l_100sh_120h_120w_90q.src",phtStl500:"@0o_1l_500w_90q.src"},s={development:{uri:"https://apidev.91pintuan.com",imgUri:"https://img.91pintuan.com",phtUri:"https://photo.91pintuan.com",phtUriExotic:"http://photo.91pintuan.com",component:"5726bf8700bbe21526c4ccbe",apiUri:o,debug:!0,from:"client"},production:{uri:"https://api.91pintuan.com",imgUri:"https://img.91pintuan.com",phtUri:"https://photo.91pintuan.com",phtUriExotic:"http://photo.91pintuan.com",component:"5581117b5f225e4c401c9259",apiUri:i,debug:!1,from:"client"}};r(s.development,a),r(s.production,a),e["default"]=s.production},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return function(t,e){if(!e().bills.busy){t({type:"billsBusy",payload:!0});var n=e().bills.params;Object.assign(n,{type:"group_redpacket",limit:e().bills.limit,page:e().bills.page}),$.get("/bill?"+$.util.querystring.stringify(n)).then(function(n){var r=n[0],o=n[1];return t({type:"addBills",payload:o}),t({type:"setBillCount",payload:r}),t({type:"billsNextPage"}),e().bills.items.length+o.length>=r?void t({type:"billsBusy",payload:!0}):void t({type:"billsUnBusy",payload:!0})})}}};e["default"]={nextPage:n}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(c){return void n(c)}return a.done?void t(s):Promise.resolve(s).then(function(t){return r("next",t)},function(t){return r("throw",t)})}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0});var i=this,a=n(3),s=r(a),c=n(68),u=r(c),p=function(){var t=o(regeneratorRuntime.mark(function e(t,r){var o,a,c,p,l,d,f,m,h,g,y,v,b,x,w,k=r.origin;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.env,a=t.store,c=u["default"][o],p=a.dispatch,l=n(7)["default"],Object.assign($,$.ajax.base(c.apiUri[k]+"/api")),$.setErrorInterceptor(function(t,e){var n=t.response;if(!n)return console.error("[action Failed]"),void console.error(t);if(n&&401===n.status){s["default"].remove("token");var r=a.getState().route,o=r.$location.replace("_","");return o=o.startsWith("/")?o:"/"+o,s["default"].set("referer",o),$.get("/wechat/client?referer="+o).then(function(t){return location.href=t.link})}try{n.json().then(function(t){widgets.Alert.add("danger",t.errmsg)})}catch(t){widgets.Alert.add("danger","系统错误")}}),$.addResponseInterceptor(function(t){if(205===t.status)return s["default"].remove("token"),void location.reload();if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.response=t,e}),d={"X-API-From":c.from},Object.assign($,$.withProps({headers:d})),f=function(t){return $.util.querystring.parse(window.location.search.replace("?",""))[t]},m=f("fxer"),m&&s["default"].set("fxer",m),s["default"].get("fxer")&&(d["X-FXER"]=s["default"].get("fxer")),Object.assign($,$.withProps({headers:d})),h=f("code"),!h){e.next=28;break}return e.next=19,fetch(c.apiUri[k]+"/api/wechat/token?code="+h,{method:"get",headers:{"X-API-From":c.from,"X-Component":c.component}});case 19:return g=e.sent,e.next=22,g.json();case 22:return y=e.sent,v=y.token,v&&s["default"].set("token",v),b=s["default"].get("referer"),window.location.href=""+window.location.origin+b,e.abrupt("return");case 28:if(x=s["default"].get("token"),!x){e.next=36;break}return d.Authorization=x,Object.assign($,$.withProps({headers:d})),e.next=34,$.get("/wechat/userinfo");case 34:w=e.sent,p({type:"user",payload:w});case 36:l.config(),l.ready(),wx.error(function(t){widgets.Alert.add("warn",t.errMsg),l.config()}),$.get("/merchant").then(function(e){p({type:"fetchMerchant",payload:e}),t.trigger("merchant",e);var n=e.pubno.nick_name+"的火爆拼团",r="拼团购买更优惠，一起到"+e.pubno.nick_name+"来拼吧";l.ready({title:n,desc:r,timeline:r}),p({type:"isAndriod",payload:navigator.userAgent.match(/Android/i)})});case 40:case"end":return e.stop()}},e,i)}));return function(e,n){return t.apply(this,arguments)}}();e["default"]=p},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return function(e){$.get("/fx/info?id="+t).then(function(t){return e({type:"getFxInfo",payload:t})})}},r=function(){return function(t){$.get("/fx/my").then(function(e){return t({type:"getMyFxer",payload:e})})}};e["default"]={getFxInfo:n,getMyFxer:r}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(c){return void n(c)}return a.done?void t(s):Promise.resolve(s).then(function(t){return r("next",t)},function(t){return r("throw",t)})}return r("next")})}}var i=this,a=n(46);n(43),n(45);var s=n(1),c=r(s),u=n(3),p=r(u),l=n(36),d=r(l),f=n(34),m=r(f),h=n(2),g=n(41),y=r(g),v=n(39),b=r(v),x=n(42),w=r(x),k=(0,h.Ninjia)({container:window,reducer:y["default"],middlewares:b["default"],state:{}});k.config=m["default"],k.set("env","production"),k.set("mode","browser"),k.set("context",{store:k.store,hub:h.router.hub,tags:{},util:{promisify:a.promisify,promisifyAll:a.promisifyAll}}),n(63),k.mixin("form",form),h.router.hub.routes=w["default"],h.router.hub.view.setHandler(function(t,e){var n="enter"===t?"$enter":"$leave";k.store.dispatch({type:n,payload:e})}),k.router(h.router),k.start(o(regeneratorRuntime.mark(function _(){var t,e;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return window.app=k,t=location.host.replace(location.host.split(".")[0],"").slice(1),r.next=4,(0,d["default"])(k,{origin:t});case 4:k.hub.on("history-pending",function(t,e,n,r,o){if(r.req.body.authenticate&&!p["default"].get("token")){var i=r.req.query,a=p["default"].get("fxer");a&&!i.hasOwnProperty("fxer")&&(i.fxer=a),"/wepay"===n&&(n="/wepay/");var s=Object.keys(i).length?n+"?"+$.util.querystring.stringify(i):""+n;return s=s.startsWith("/")?s:"/"+s,p["default"].set("referer",s),$.get("/wechat/client?referer="+s).then(function(t){window.location.href=t.link})}o&&o()}),k.hub.on("history-resolve",function(t,e,n,r,o){p["default"].get("fxer")&&r.length>=1&&o===r.length-1&&h.router.hub.search("fxer",p["default"].get("fxer")),setTimeout(function(){document.body.scrollTop=document.documentElement.scrollTop=0},0)}),n(70),n(82),n(81),n(76),n(86),n(80),n(79),n(77),n(85),n(78),n(83),n(84),n(29),n(87),n(75),n(73),n(72),n(100),n(108),n(114),n(103),n(111),n(113),n(91),n(99),n(98),n(97),k.registerWidget({name:"alert",methods:["add"]}),k.registerWidget({name:"modal",methods:["open"]}),window.widgets.Alert=k.context.tags.alert,window.widgets.Modal=k.context.tags.modal,e=c["default"].mount("app",{store:k.store})[0],k.hub.root=e,k.set("entry",e),(0,h.provide)(k.store)(k.entry);case 41:case"end":return r.stop()}},_,i)})))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=function(t){return function(e){return function(n){var o=null,i=null;"object"===("undefined"==typeof n?"undefined":r(n))&&(o=n.type,i=n),"function"==typeof n&&(o=(n.name||n.toString().match(/function\s*([^(]*)\(/)[1])+"[Async-Thunk]",i="thunk is pending"),n.then&&"function"==typeof n.then&&(o="[Async-Promise]",i=n),console.group(o),console.info("dispatching",i);var a=e(n);return console.log("next state",t.getState()),console.groupEnd(o),a}}},i=function(t){return function(t){return function(e){return"changeTitle"===e.type&&(document.title=e.payload),t(e)}}},a=function(t){return function(t){return function(e){if(!e.meta||!e.meta.delay)return t(e);var n=setTimeout(function(){return t(e)},e.meta.delay);return function(){clearTimeout(n)}}}},s=function(t){return function(e){return function(n){return"function"!=typeof n.then?e(n):Promise.resolve(n).then(t.dispatch)}}},c=function(t){return function(t){return function(e){function n(t,n){var r=Object.assign({},e,{ready:t},n);return delete r.promise,r}return e.promise?(t(n(!1)),e.promise.then(function(e){return t(n(!0,{result:e}))},function(e){return t(n(!0,{error:e}))})):t(e)}}},u=function(t){return function(e){return function(n){return"function"==typeof n?n(t.dispatch,t.getState):e(n)}}},p={logger:o,timeoutScheduler:a,vanillaPromise:s,readyStatePromise:c,thunk:u,changeTitle:i};p={timeoutScheduler:a,vanillaPromise:s,readyStatePromise:c,thunk:u,changeTitle:i},e["default"]=p},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return{type:"setOrderQrcode",payload:t}};e["default"]={setOrderQrcode:n}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return t.keys().map(t)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(51),a=r(i),s=("undefined"==typeof t||!t.exports,{}),c=n(32);s=o(c).concat([{"default":a["default"]}]).reduce(function(t,e){for(var n in e["default"])t[n]=e["default"][n];return t},{}),e["default"]=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),i=r(o),a=n(4),s=r(a);e["default"]={component:"app",path:"",children:[{path:"/",defaultRoute:!0,component:"commodity-list"},{path:"/commodity/:id",component:"commodity-info"},{path:"/commodity/:id/group",component:"commodity-info-group",authenticate:!0},{path:"/commodity/list",component:"commodity-list"},{path:"/commodity/tips",component:"commodity-list"},{path:"/group",component:"group",children:[{path:"/miss",component:"group-list"},{path:"/list",component:"group-list"},{path:"/:id",component:"group-info",resolve:function(t,e){app.store.dispatch(i["default"].loadGroupById(e.req.params.id,function(n){e.req.body.group=n,t()}))}}]},{path:"/wepay/",component:"wepay",authenticate:!0},{path:"/order",component:"order",children:[{path:"/list",component:"order-list",authenticate:!0},{path:"/:id",component:"order-detail",authenticate:!0,resolve:function(t,e){return app.store.dispatch(s["default"].loadPartakerById(e.req.params.id,t))}},{path:"/:id/refund",component:"order-refund",authenticate:!0},{path:"/:id/tmplmsg",component:"order-tmplmsg",authenticate:!0}]},{path:"/help",component:"help",children:[{path:"/more",component:"help-more"},{path:"/merchant",component:"help-merchant"}]},{path:"/partaker",component:"partaker",children:[{path:"/my",component:"partaker-my"},{path:"/list",component:"partaker-list"}]},{path:"/user",component:"user",children:[{path:"/redpacket",component:"user-redpacket"}]},{path:"/fx",component:"fx",children:[{path:"/info",component:"fx-info"},{path:"/apply",component:"fx-apply"},{path:"/result",component:"fx-result"}]}]}},function(t,e){"use strict";!function(){String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),Object.assign=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){var r={Accept:"application/json","Content-Type":"application/json"};return n&&n.headers&&Object.assign(r,n.headers),fetch(t,{method:"post",headers:r,body:JSON.stringify(e)}).then(function(t){return c(t)}).then(function(t){return u(t)}).then(function(t){return p(t)})}function i(t){var e=(arguments.length<=1||void 0===arguments[1]?{}:arguments[1],arguments[2]),n={method:"get",headers:{}};return e&&e.headers&&Object.assign(n.headers,e.headers),fetch(t,n).then(function(t){return c(t)}).then(function(t){return u(t)}).then(function(t){return p(t)})}function a(t,e,n){var r={Accept:"application/json","Content-Type":"application/json"};return n&&n.headers&&Object.assign(r,n.headers),fetch(t,{method:"put",headers:r,body:JSON.stringify(e)}).then(function(t){return c(t)}).then(function(t){return u(t)}).then(function(t){return p(t)})}function s(t){var e=(arguments.length<=1||void 0===arguments[1]?{}:arguments[1],arguments[2]),n={method:"del",headers:{}};return e&&e.headers&&Object.assign(n.headers,e.headers),fetch(t,n).then(function(t){return c(t)}).then(function(t){return u(t)}).then(function(t){return p(t)})}function c(t){if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.response=t,e}function u(t){var e=t.headers.get("Content-Type");if(/json/.test(e))return t.json();if(/text/.test(e))return t.text();var n=new Error("unknown data from remote");throw n.response=t,n}function p(t){if("object"===("undefined"==typeof t?"undefined":d(t))&&t.errmsg)throw new Error(t.errmsg);return t}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},f=n(1),m=r(f),h={get:i,post:o,put:a,del:s},g=function(t,e){var n=null;return this&&this.hasOwnProperty("path")?(n=this,t&&(n.path=t),e&&(n.props=e)):n={path:t,props:e,withProps:x,base:w},["get","post","put","del"].forEach(function(t){n[t]=function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=r[0],a=r[1],s=r[2],c=s||{};n.path&&(i=n.path+(i||"")),n.props&&Object.assign(c,n.props);var u=h[t].call(null,i,a,c||{});return u["catch"](function(t){y&&y(t,u)}),u}}),n},y=(m["default"].observable({}),null),v=function(t){y=t},b=function(t){c=t},x=function(t){return g.bind(this)(null,t)},w=function(t){return g.bind(this)(t)};e["default"]=l({setErrorInterceptor:v,addResponseInterceptor:b,base:w,withProps:x},h)},function(t,e,n){(function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},i=n(44),a=r(i),s=n(48),c=e(s);!function(e,n){e="undefined"!=typeof window?window:t;var r=e.jQuery;if(r)return r;var i=function u(t){if(t){var e={append:function(t){var e=this,n=document.createElement("div");for(n.innerHTML=t;n.children.length>0;)e.appendChild(n.children[0]);return this},css:function(t){if("string"==typeof t)return this.style[t];for(var e in t)this.style[e]=t[e];return this},find:function(t){var e=document.querySelectorAll(t);return e=[].slice.apply(e),u(1===e.length?e[0]:e)},parent:function(){return u(this.parentNode)},next:function(){return u(this.nextSbiling)},remove:function(){this.parentNode&&this.parentNode.removeChild(this)},addClass:function(t){return this.hasClass(t)||(this.className+=" "+t),this},removeClass:function(t){if(this.hasClass(t)){var e=new RegExp("(\\s|^)"+t+"(\\s|$)");this.className=this.className.replace(e," ")}return this},hasClass:function(t){return this.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},outerWidth:function(){return this.css&&(this.css("marginLeft")||this.css("marginRight"))?this.offsetWidth+parseInt(this.css("marginLeft")||0,10)+parseInt(this.css("marginRight")||0,10):this.offsetWidth},height:function(){return this.offsetHeight}};return Array.isArray(t)?(t.each=t.forEach,t.map(function(t){return c["default"].mixin(t,e)})):c["default"].mixin(t,e)}},s=function(t){if("object"===("undefined"==typeof t?"undefined":o(t)))return i(t);var e=document.querySelectorAll(t);return e=[].slice.apply(e),i(1===e.length?e[0]:e)};s=c["default"].mixin.apply(c["default"],[s].concat(a["default"])),s.ajax={},s.ajax.base=a["default"].base,s.ajax.withProps=a["default"].withProps,s.util=c["default"],e.$=s}()}).call(e,function(){return this}())},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=this,r=function(t){return function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=n;return new Promise(function(e,n){var o=function(t){return e(t)};t.apply(i,[].concat(r,[o]))})}},o=function(t){for(var e={},n=0,o=Object.keys(t).length;n<o;n++){var i=Object.keys(t)[n];"function"==typeof t[i]&&(e[i+"Async"]=r(t[i]))}return e};e.promisify=r,e.promisifyAll=o,e["default"]={promisify:r,promisifyAll:o}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={$prev_state:"/",$prev_location:"/",$state:"/",$location:"/",$protocol:"http://",$host:location.host,data:{},stack:[]},r=function o(){var o=arguments.length<=0||void 0===arguments[0]?n:arguments[0],t=arguments[1];switch(t.type){case"$route":return Object.assign({},o,{$prev_state:o.$state,$prev_location:o.$location,$state:t.payload.route.$state,$location:t.payload.route.$location,$protocol:t.payload.route.$protocol||o.$protocol,$host:o.$host,data:t.payload.route.ctx});case"$query":return Object.assign({},o,{$prev_state:o.$state,$prev_location:o.$location,$state:o.$state,$location:o.$location,$protocol:o.$protocol,$host:o.$host,data:Object.assign({},{request:{body:o.data.req.body,params:o.data.req.params,query:t.payload}})});case"$routeBusy":return Object.assign({},o,{busy:!0});case"$routeUnBusy":return Object.assign({},o,{busy:!1});default:return o}};e["default"]={route:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=function(t){return Object.keys(t).map(function(e){return t[e]})},i=function(){return Object.assign.apply(Object,arguments)},a=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Object.keys(t).filter(function(t){return n.indexOf(t)>=0}).map(function(e){return{key:e,val:t[e]}}).reduce(function(t,e){return t[e.key]=e.val,t},{})},s=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Object.keys(t).filter(function(t){return n.indexOf(t)<0}).map(function(e){return{key:e,val:t[e]}}).reduce(function(t,e){return t[e.key]=e.val,t},{})},c=function m(t){if(!t)return t;var e,n=[Number,String,Boolean];if(n.forEach(function(n){t instanceof n&&(e=n(t))}),"undefined"==typeof e)if("[object Array]"===Object.prototype.toString.call(t))e=[],t.forEach(function(t,n,r){e[n]=m(t)});else if("object"==("undefined"==typeof t?"undefined":r(t)))if(t.nodeType&&"function"==typeof t.cloneNode)var e=t.cloneNode(!0);else if(t.prototype)e=t;else if(t instanceof Date)e=new Date(t);else{e={};for(var o in t)e[o]=m(t[o])}else e=t;return e},u={stringify:function(t){return Object.keys(t).map(function(e){return e+"="+t[e]}).join("&")},parse:function(t){return t.split("&").reduce(function(t,e){var n=e.split("=");return t[n[0]]=n[1],t},{})}},p=null,l=function(t,e){clearTimeout(p),p=setTimeout(function(){t.apply(null),p=null},e)},d={ago:function(t){"string"==typeof t&&(t=new Date(t));var e=parseFloat(t.getTime()-(new Date).getTime(),10),n=e<0,r=Math.abs(e),o=Math.ceil(r/6e4);if(o<60)return n?o+"分钟前":o+"分钟内";var i=Math.ceil(r/36e5);if(i<24)return n?i+"小时前":i+"小时内";var a=Math.ceil(r/864e5);if(a<30)return n?a+"天前":a+"天内";var s=Math.ceil(a/30);if(s<12)return n?s+"个月前":s+"个月内";var c=Math.ceil(s/12);return n?c+"年前":c+"年内"},currency:function(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1];return(e?"￥":"")+(t.toFixed(2)||0).toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")},date:function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e},htmlSafe:function(t){return t.replace(/<!--[\s\S]*?-->/g,"").replace(/<style.*\/style>/g,"").replace(/<script/g,'<p style="display:none;" ').replace(/script>/g,"p>")}},f=function h(t,e){return t&&e&&"object"===("undefined"==typeof t?"undefined":r(t))&&"object"===("undefined"==typeof e?"undefined":r(e))?Object.keys(t).length===Object.keys(e).length&&Object.keys(t).reduce(function(n,r){return n&&h(t[r],e[r])},!0):t===e};e["default"]={values:o,mixin:i,querystring:u,throttle:l,filter:d,clone:c,deepEqual:f,omit:s,pick:a}},function(t,e,n){(function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t){function o(t,e,n,r){var o=Object.create((e||a).prototype),i=new h(r||[]);return o._invoke=d(t,n,i),o}function i(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function a(){}function s(){}function c(){}function u(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function p(t){this.arg=t}function l(t){function e(e,n){var r=t[e](n),o=r.value;return o instanceof p?Promise.resolve(o.arg).then(a,s):Promise.resolve(o).then(function(t){return r.value=t,r})}function o(t,n){function r(){return e(t,n)}return i=i?i.then(r,r):new Promise(function(t){t(r())})}"object"===("undefined"==typeof n?"undefined":r(n))&&n.domain&&(e=n.domain.bind(e));var i,a=e.bind(t,"next"),s=e.bind(t,"throw");e.bind(t,"return");this._invoke=o}function d(t,e,n){var r=_;return function(o,a){if(r===j)throw new Error("Generator is already running");if(r===S){if("throw"===o)throw a;return y()}for(;;){var s=n.delegate;if(s){if("return"===o||"throw"===o&&s.iterator[o]===v){n.delegate=null;var c=s.iterator["return"];if(c){var u=i(c,s.iterator,a);if("throw"===u.type){o="throw",a=u.arg;continue}}if("return"===o)continue}var u=i(s.iterator[o],s.iterator,a);if("throw"===u.type){n.delegate=null,o="throw",a=u.arg;continue}o="next",a=v;var p=u.arg;if(!p.done)return r=$,p;n[s.resultName]=p.value,n.next=s.nextLoc,n.delegate=null}if("next"===o)n._sent=a,r===$?n.sent=a:n.sent=v;else if("throw"===o){if(r===_)throw r=S,a;n.dispatchException(a)&&(o="next",a=v)}else"return"===o&&n.abrupt("return",a);r=j;var u=i(t,e,n);if("normal"===u.type){r=n.done?S:$;var p={value:u.arg,done:n.done};if(u.arg!==O)return p;n.delegate&&"next"===o&&(a=v)}else"throw"===u.type&&(r=S,o="throw",a=u.arg)}}}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function m(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function h(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function g(t){if(t){var e=t[x];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function o(){for(;++n<t.length;)if(b.call(t,n))return o.value=t[n],o.done=!1,o;return o.value=v,o.done=!0,o};return r.next=r}}return{next:y}}function y(){return{value:v,done:!0}}var v,b=Object.prototype.hasOwnProperty,x="function"==typeof Symbol&&Symbol.iterator||"@@iterator",w="object"===r(e),k=t.regeneratorRuntime;if(k)return void(w&&(e.exports=k));k=t.regeneratorRuntime=w?e.exports:{},k.wrap=o;var _="suspendedStart",$="suspendedYield",j="executing",S="completed",O={},P=c.prototype=a.prototype;s.prototype=P.constructor=c,c.constructor=s,s.displayName="GeneratorFunction",k.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===s||"GeneratorFunction"===(e.displayName||e.name))},k.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):t.__proto__=c,t.prototype=Object.create(P),t},k.awrap=function(t){return new p(t)},u(l.prototype),k.async=function(t,e,n,r){var i=new l(o(t,e,n,r));return k.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},u(P),P[x]=function(){return this},P.toString=function(){return"[object Generator]"},k.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},k.values=g,h.prototype={constructor:h,reset:function(t){if(this.prev=0,this.next=0,this.sent=v,this.done=!1,this.delegate=null,this.tryEntries.forEach(m),!t)for(var e in this)"t"===e.charAt(0)&&b.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=v)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return i.type="throw",i.arg=t,n.next=e,!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=b.call(o,"catchLoc"),s=b.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&b.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?this.next=o.finallyLoc:this.complete(i),O},complete:function(t,e){if("throw"===t.type)throw t.arg;"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=t.arg,this.next="end"):"normal"===t.type&&e&&(this.next=e)},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),m(n),O}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;m(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:g(t),resultName:e,nextLoc:n},O}}}("object"===("undefined"==typeof t?"undefined":r(t))?t:"object"===("undefined"==typeof window?"undefined":r(window))?window:"object"===("undefined"==typeof self?"undefined":r(self))?self:this)}).call(e,function(){return this}(),n(66)(t),n(55))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(c){return void n(c)}return a.done?void t(s):Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)})}return r("next")})}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.provide=e.connect=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(1),c=r(s),u=n(52),p=n(22),l=r(p),d=n(23),f=r(d),m=n(21),h=function(){function t(e){var n=e.container,r=e.reducer,o=e.middlewares,a=e.state,s=void 0===a?{}:a;if(i(this,t),!n)throw new Error("a container expected.");this.framework=c["default"],this.container=n,this.reducer=r,this.middlewares=o,this.buildInProps=["env","entry","context","mode"],this._mode="hash",this._store=(0,u.configureStore)(s,r,o,this._mode),this.router(f["default"]),this._context={store:this._store,hub:{},tags:{}},this.emitter=c["default"].observable({}),n.widgets=this._widgets={}}return a(t,[{key:"set",value:function(t,e){switch(this["_"+t]=e,this.accseptSet(t)){case"mode":var n={};this.store&&(n=this.store.getState()),this._store=(0,u.configureStore)(n,this.reducer,this.middlewares,this._mode),this._router&&(l["default"].syncHistoryWithStore(this._router.hub,this._store),this.mixin("router",this._router));case"context":this.container=this._context}}},{key:"accseptSet",value:function(t){return this.buildInProps.indexOf(t)>=0?t:null}},{key:"router",value:function(t){return this._router=t,l["default"].syncHistoryWithStore(this._router.hub,this._store),this}},{key:"registerWidget",value:function(t){
var e=this,n=t.name,r=t.methods,o=c["default"].mount(n)[0];this._context.tags[n]=o;var i=n.replace(/(\w)/,function(t){return t.toUpperCase()});this._widgets[i]={},r.forEach(function(t){e._widgets[i][t]=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];o[t].apply(o,n)}})}},{key:"start",value:function(){function t(t){return e.apply(this,arguments)}var e=o(regeneratorRuntime.mark(function n(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(this.entry){e.next=4;break}throw new Error("application expected a entry component");case 4:this._router.hub.startup();case 5:case"end":return e.stop()}},n,this)}));return t}()},{key:"mixin",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.framework.mixin.apply(this.framework,e)}},{key:"on",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.emitter.on.apply(this.emitter,e)}},{key:"one",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.emitter.one.apply(this.emitter,e)}},{key:"off",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.emitter.off.apply(this.emitter,e)}},{key:"trigger",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.emitter.trigger.apply(this.emitter,e)}},{key:"container",get:function(){return this._container},set:function(t){this._container=t}},{key:"hub",get:function(){return this._router.hub}},{key:"context",get:function(){return this._context}},{key:"store",get:function(){return this._store},set:function(t){this._store=t}},{key:"mode",get:function(){return this._mode}},{key:"entry",get:function(){return this._entry}},{key:"env",get:function(){return this._env}}]),t}(),g=function(t){return new h(t)};e["default"]=g,e.connect=m.connect,e.provide=m.provide},function(t,e){"use strict";function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o={$prev_state:"/",$prev_location:"/",$state:"/",$location:"/",$protocol:"http://",$host:"undefined"!=typeof window&&location&&location.host||"",data:{},stack:[],$views:{}},i=function a(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"$enter":var e=t.payload.$routePath,i=n({},e,!0);return Object.assign({},a,{$views:r({},a.$views,i)});case"$leave":var e=t.payload.$routePath;return Object.assign({},a,{$views:Object.keys(a.$views).filter(function(t){return t!=e}).reduce(function(t,e){return t[e]=!0,t},{})});case"$route":return Object.assign({},a,{$prev_state:a.$state,$prev_location:a.$location,$state:t.payload.route.$state,$location:t.payload.route.$location,$protocol:t.payload.route.$protocol||a.$protocol,$host:a.$host,data:t.payload.route.ctx});case"$query":return Object.assign({},a,{$prev_state:a.$state,$prev_location:a.$location,$state:a.$state,$location:a.$location,$protocol:a.$protocol,$host:a.$host,data:Object.assign({},{request:{body:a.data.req.body,params:a.data.req.params,query:t.payload}})});case"$routeBusy":return Object.assign({},a,{busy:!0});case"$routeUnBusy":return Object.assign({},a,{busy:!1});default:return a}};e["default"]={route:i}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.configureStore=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(53),s=r(a),c=n(59),u=n(22),p=r(u);e.configureStore=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"browser",a=(0,c.combineReducers)(i({},e)),u=p["default"].routerMiddlewareCreator(r);return(0,c.compose)(c.applyMiddleware.apply(void 0,[u].concat(o(s["default"].values(n)))))(c.createStore)(a,t)}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return"undefined"==typeof t?"undefined":r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":"undefined"==typeof t?"undefined":r(t)},i=function(t){return Object.keys(t).map(function(e){return t[e]})},a=function(){return Object.assign.apply(Object,arguments)},s=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Object.keys(t).filter(function(t){return n.indexOf(t)>=0}).map(function(e){return{key:e,val:t[e]}}).reduce(function(t,e){return t[e.key]=e.val,t},{})},c=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Object.keys(t).filter(function(t){return n.indexOf(t)<0}).map(function(e){return{key:e,val:t[e]}}).reduce(function(t,e){return t[e.key]=e.val,t},{})},u=function h(t){if(!t)return t;var e,n=[Number,String,Boolean];if(n.forEach(function(n){t instanceof n&&(e=n(t))}),"undefined"==typeof e)if("[object Array]"===Object.prototype.toString.call(t))e=[],t.forEach(function(t,n,r){e[n]=h(t)});else if("object"==("undefined"==typeof t?"undefined":o(t)))if(t.nodeType&&"function"==typeof t.cloneNode)var e=t.cloneNode(!0);else if(t.prototype)e=t;else if(t instanceof Date)e=new Date(t);else{e={};for(var r in t)e[r]=h(t[r])}else e=t;return e},p={stringify:function(t){return Object.keys(t).map(function(e){return e+"="+t[e]}).join("&")},parse:function(t){return t.split("&").reduce(function(t,e){var n=e.split("=");return t[n[0]]=n[1],t},{})}},l=null,d=function(t,e){clearTimeout(l),l=setTimeout(function(){t.apply(context),l=null},e)},f={ago:function(t){"string"==typeof t&&(t=new Date(t));var e=parseFloat(t.getTime()-(new Date).getTime(),10),n=e<0,r=Math.abs(e),o=Math.ceil(r/6e4);if(o<60)return n?o+"分钟前":o+"分钟内";var i=Math.ceil(r/36e5);if(i<24)return n?i+"小时前":i+"小时内";var a=Math.ceil(r/864e5);if(a<30)return n?a+"天前":a+"天内";var s=Math.ceil(a/30);if(s<12)return n?s+"个月前":s+"个月内";var c=Math.ceil(s/12);return n?c+"年前":c+"年内"},currency:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(e?"￥":"")+(t.toFixed(2)||0).toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")},date:function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e}},m=function g(t,e){return t&&e&&"object"===("undefined"==typeof t?"undefined":o(t))&&"object"===("undefined"==typeof e?"undefined":o(e))?Object.keys(t).length===Object.keys(e).length&&Object.keys(t).reduce(function(n,r){return n&&g(t[r],e[r])},!0):t===e};e["default"]={values:i,mixin:a,querystring:p,throttle:d,filter:f,clone:u,deepEqual:m,omit:c,pick:s}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){var e={setHandler:function(t){e.handler=t},enter:function(t,n,r){if(t)return t.trigger("enter",n),e.handler?e.handler("enter",t):void t.update()},leaveUpstream:function(t){if(t&&t.parent&&t.parent.tags&&t.parent.tags["router-outlet"]){var n=(t.parent.tags["router-outlet"].routes,t.parent.tags["router-outlet"].routes.filter(function(e){return e.tag&&e.tag!=t}));return!(!n||!n.length)&&(n.map(function(t){return t.tag}).forEach(function(n){n&&(n.opts.show||n.opts.$show)&&e.leaveDownstream(n,t)}),e.leaveUpstream(t.parent))}},leaveDownstream:function(t,n){if(t){e.leave(t,n);var r=t.tags["router-outlet"];if(r){var o=r.routes;o&&o.map(function(t){return t.tag}).forEach(function(n){if(n&&n.opts.$show&&!n.cache)return e.leave(n,t),e.leaveDownstream(n,t)})}}},leave:function(t,n,r){if(t&&(t.trigger("leave",t),t.opts.$show)){if(e.handler)return e.handler("leave",t);t.update()}},init:function(t,e){t.opts.hidden=!0,t.opts.show=!1}};return t.on("history-pending",function(t,e){t&&t.tag&&t.tag.trigger("before-leave")}),t.on("history-resolve",function(t,n,r,o,i,a){var s=t&&t.tag||null,c=n&&n.tag||null;e.enter(c,s),e.leaveUpstream(c),a()}),t.on("history-success",function(t,e){}),e};e["default"]=n},function(t,e){"use strict";function n(){l&&u&&(l=!1,u.length?p=u.concat(p):d=-1,p.length&&r())}function r(){if(!l){var t=a(n);l=!0;for(var e=p.length;e;){for(u=p,p=[];++d<e;)u&&u[d].run();d=-1,e=p.length}u=null,l=!1,s(t)}}function o(t,e){this.fun=t,this.array=e}function i(){}var a,s,c=t.exports={};!function(){try{a=setTimeout}catch(t){a=function(){throw new Error("setTimeout is not defined")}}try{s=clearTimeout}catch(t){s=function(){throw new Error("clearTimeout is not defined")}}}();var u,p=[],l=!1,d=-1;c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new o(t,e)),1!==p.length||l||a(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=i,c.addListener=i,c.once=i,c.off=i,c.removeListener=i,c.removeAllListeners=i,c.emit=i,c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,o){var a=t(n,r,o),c=a.dispatch,u=[],p={getState:a.getState,dispatch:function(t){return c(t)}};return u=e.map(function(t){return t(p)}),c=s["default"].apply(void 0,u)(a.dispatch),i({},a,{dispatch:c})}}}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e["default"]=o;var a=n(24),s=r(a)},function(t,e){"use strict";function n(t,e){return function(){return e(t.apply(void 0,arguments))}}function r(t,e){if("function"==typeof t)return n(t,e);if("object"!==("undefined"==typeof t?"undefined":o(t))||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":"undefined"==typeof t?"undefined":o(t))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(t),i={},a=0;a<r.length;a++){var s=r[a],c=t[s];"function"==typeof c&&(i[s]=n(c,e))}return i}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.__esModule=!0,e["default"]=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n=e&&e.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:s.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+e+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:o}))throw new Error('Reducer "'+e+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function a(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var a=e[r];"function"==typeof t[a]&&(n[a]=t[a])}var s,c=Object.keys(n);try{i(n)}catch(u){s=u}return function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments[1];if(s)throw s;for(var r=!1,i={},a=0;a<c.length;a++){var u=c[a],p=n[u],l=t[u],d=p(l,e);if("undefined"==typeof d){var f=o(u,e);throw new Error(f)}i[u]=d,r=r||d!==l}return r?i:t}}e.__esModule=!0,e["default"]=a;var s=n(25),c=n(27),u=(r(c),n(26));r(u)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.compose=e.applyMiddleware=e.bindActionCreators=e.combineReducers=e.createStore=void 0;var o=n(25),i=r(o),a=n(58),s=r(a),c=n(57),u=r(c),p=n(56),l=r(p),d=n(24),f=r(d),m=n(26);r(m);e.createStore=i["default"],e.combineReducers=s["default"],e.bindActionCreators=u["default"],e.applyMiddleware=l["default"],e.compose=f["default"]},function(t,e){"use strict";function n(t){return r(Object(t))}var r=Object.getPrototypeOf;t.exports=n},function(t,e){"use strict";function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=n},function(t,e){"use strict";function n(t){return!!t&&"object"==("undefined"==typeof t?"undefined":r(t))}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};t.exports=n},function(t,e){"use strict";function n(t,e){if(!(t&&t.attributes&&t.attributes.name&&t.attributes.name.nodeValue))throw new Error("form expected a name attribute");var n=t.attributes.name.nodeValue,r=!1,o={$name:n,$dirty:!1,$pristine:!0,$valid:!1,$invalid:!0,$submitted:!1,$error:{},$ok:function(){var t=g(this),e=Object.keys(t).filter(function(e){return t&&t[e].$error&&Object.keys(t[e].$error).length>0});return!e.length},$allPristine:function(){var t=g(this);return Object.keys(t).map(function(e){return t&&t[e].$pristine}).reduce(function(t,e){return t&&e},!0)},$allDirty:function(){var t=g(this);return Object.keys(t).map(function(e){return t[e].$dirty}).reduce(function(t,e){return t&&e},!0)},$validate:function(){if(!r){r=!r;var t=g(this),n=!!Object.keys(t).map(function(t){return e[t]}).reduce(function(t,e){if(e)return t},{});n&&Object.keys(t).map(function(n){var r=t[n];""===r.$rule.required&&(e[n]&&Array.isArray(e[n])&&(e[n]=document.getElementsByName(e[n][0].getAttribute("name"))[0]),l(e[n].value,e[n],r,e))})}return this.$ok()}};e.forms||(e.forms={}),e.forms[o.$name]=o}function r(t){var e=Object.keys(t.attributes).map(function(e){var n=t.attributes[e].nodeName,r=t.attributes[e].nodeValue;return!!v[n]&&{name:n,val:r}}).filter(function(t){return 0!=t});return e.length}function o(t,e){if(t.attributes.type&&"submit"===t.attributes.type.nodeValue)return i(t,e);var n=Object.keys(t.attributes).map(function(e){var n=t.attributes[e].nodeName,r=t.attributes[e].nodeValue;return!!v[n]&&{name:n,val:r}}).filter(function(t){return 0!=t});n.length&&n.forEach(function(n){a(t,n,e)});var r=t.form.attributes.name.value;if(e.forms[r]&&t.attributes.name&&t.attributes.name.nodeValue&&e.forms[r][t.attributes.name.nodeValue]){var o=e.forms[r][t.attributes.name.nodeValue];s(t,o,e)}}function i(t,e){}function a(t,e,n){var r=t.attributes.name.nodeValue,o=t.form.attributes.name.value,i=n.forms[o][r];i||(n.forms[o][r]={$name:r,$dirty:!1,$pristine:!0,$valid:!0,$invalid:!1,$error:{},$rule:{},$originVal:n[r].value}),n.forms[o][r].$rule[e.name]=e.val}function s(t,e,n){var r=function(r){var o=r.target.value.trim();o===e.$originVal?(e.$pristine=!0,e.$dirty=!1):(e.$pristine=!1,e.$dirty=!0),p(t,n),l(o,t,e,n)};t.addEventListener("input",r),!n.formInputListenersMap&&(n.formInputListenersMap={});var o=c(16);t.dataset.eid=o,!n.formInputListenersMap[o]&&(n.formInputListenersMap[o]={input:t,handlers:[]}),n.formInputListenersMap[o].handlers.push(r)}function c(t){for(var e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n="",r=0;r<t;r++){var o=Math.ceil(35*Math.random());n+=e[o]}return n}function u(t){if(t.formInputListenersMap){for(var e=Object.keys(t.formInputListenersMap),n=0,r=e.length;n<r;n++){var o=e[n],i=t.formInputListenersMap[o].input,a=t.formInputListenersMap[i.dataset.eid].handlers;a.forEach(function(t){i.removeEventListener("input",t)})}i.dataset.eid=void 0,delete i.dataset.eid,t.formInputListenersMap&&delete t.formInputListenersMap}}function p(t,e){var n=t.form.attributes.name.value,r=Object.keys(g(e.forms[n])).map(function(t){return e.forms[n][t]}).reduce(function(t,e){return e.$pristine?t:e},{$pristine:!0,$dirty:!1}).$dirty;e.forms[n].$dirty=r,e.forms[n].$pristine=!r}function l(t,e,n,r){function o(t,e){t.$invalid=!0,t.$valid=!1,t.$error[e]=!0}function i(t,e){t.$invalid=!1,t.$valid=!0,t.$error[e]&&delete t.$error[e]}function a(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function s(t,e){t.classList?t.classList.add(e):a(t,e)||(t.className+=" "+e)}function c(t,e){if(t.classList)t.classList.remove(e);else if(a(t,e)){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}var u=n.$rule;Object.keys(u).forEach(function(r){var a=v[r].apply(null,[t,u[r]]);a?(o(n,r),s(e,"f-invalid-"+r)):(i(n,r),c(e,"f-invalid-"+r))}),Object.keys(n.$error).length>0?(c(e,"f-valid"),s(e,"f-invalid")):(c(e,"f-invalid"),s(e,"f-valid")),n.$dirty&&(s(e,"f-dirty"),c(e,"f-pristine")),n.$pristine&&(s(e,"f-pristine"),c(e,"f-dirty")),r._shouldSync=!0,r.update()}function d(){function t(){if(s.opts.$show&&!s._shouldSync){var t=s.root.querySelectorAll("form"),n=[].slice.apply(s.root.querySelectorAll("input")).filter(r),o=[].slice.apply(s.root.querySelectorAll("select")).filter(r),i=e(s,t,n,o);i&&0==i.add.length&&0==i.del.length||c(t,n,o)}s._shouldSync=!1}function e(t,e,n,r){if(!t.forms)return!1;for(var o=([].slice.call(e).map(function(t){return t.getAttribute("name")}),n&&a([].slice.call(n),function(t){return t.form.getAttribute("name")},function(t){return t.getAttribute("name")})||{}),s=r&&a([].slice.call(r),function(t){return t.form.getAttribute("name")},function(t){return t.getAttribute("name")})||{},c=[],u=Object.keys(t.forms)||[],p=0,l=e.length;p<l;p++){var d=e[p],f=d.getAttribute("name"),m=t.forms[f];if(u=u.filter(function(t){return t!=f}),m)for(var h=g(m),y=Object.keys(h),v=0,b=y.length;v<b;v++){var x=y[v];if(i(f,x,o,s)||b!=(o[f]&&o[f].length||0)+(s[f]&&s[f].length||0)){c.push(f);break}}else c.push(d)}return{add:c,del:u}}function i(t,e,n,r){var o=n&&n[t]&&n[t].length&&n[t].indexOf(e)<0||!1,i=r&&r[t]&&r[t].length&&r[t].indexOf(e)<0||!1;return o&&i}function a(t,e,n){for(var r={},o=0,i=t.length;o<i;o++){var a=e(t[o]);!r[a]&&(r[a]=[]),r[a].push(n(t[o]))}return r}var s=this,c=function(t,e,r){s.isMounted&&s.opts.$show&&(s.resetForm(),t.length&&f(t,function(t){n(t,s)}),e.length&&f(e,function(t){o(t,s)}),r.length&&f(r,function(t){o(t,s)}),s.update())};s.on("updated",t)}function f(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n])}function m(){u(this),delete this.forms}function h(){var t=[].slice.apply(arguments),e=t[0],n=t.slice(1),r={};for(var o in e)n.indexOf(o)<0&&(r[o]=e[o]);return r}function g(t){return h(t,"$name","$dirty","$pristine","$valid","$invalid","$submitted","$error","$ok","$allPristine","$allDirty","$validate")}function y(t,e){v[t]=e}var v={},b=[{name:"required",fn:function(t){return""===t.trim()}},{name:"max",fn:function(t,e){return parseInt(t.trim(),10)>e}},{name:"min",fn:function(t,e){return parseInt(t.trim(),10)<e}},{name:"maxlength",fn:function(t,e){return t.length>e}},{name:"minlength",fn:function(t,e){return t.length<e}},{name:"pattern",fn:function(t,e){return!new RegExp(e).test(t.trim())}}];b.map(function(t){y(t.name,t.fn)}),window.form={useForm:d,resetForm:m}},function(t,e,n){(function(e){"use strict";t.exports=n(65)(e||window||this)}).call(e,function(){return this}())},function(t,e){"use strict";t.exports=function(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}},function(t,e){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){"use strict";!function(t){function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return h.iterable&&(e[Symbol.iterator]=function(){return e}),e}function o(t){this.map={},t instanceof o?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function i(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader;return e.readAsArrayBuffer(t),a(e)}function c(t){var e=new FileReader;return e.readAsText(t),a(e)}function u(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(h.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(h.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(h.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(t){if(!h.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h.blob?(this.blob=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=i(this);return t?t:Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(t){var e=t.toUpperCase();return g.indexOf(e)>-1?e:t}function l(t,e){e=e||{};var n=e.body;if(l.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new o(t.headers)),this.method=t.method,this.mode=t.mode,n||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new o(e.headers)),this.method=p(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}}),e}function f(t){var e=new o,n=(t.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(t){var n=t.trim().split(":"),r=n.shift().trim(),o=n.join(":").trim();e.append(r,o)}),e}function m(t,e){e||(e={}),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof o?e.headers:new o(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var h={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};o.prototype.append=function(t,r){t=e(t),r=n(r);var o=this.map[t];o||(o=[],this.map[t]=o),o.push(r)},o.prototype["delete"]=function(t){delete this.map[e(t)]},o.prototype.get=function(t){var n=this.map[e(t)];return n?n[0]:null},o.prototype.getAll=function(t){return this.map[e(t)]||[]},o.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},o.prototype.set=function(t,r){this.map[e(t)]=[n(r)]},o.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){t.call(e,r,n,this)},this)},this)},o.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},o.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},o.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},h.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];l.prototype.clone=function(){return new l(this)},u.call(l.prototype),u.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},m.error=function(){var t=new m(null,{status:0,statusText:""});return t.type="error",t};var y=[301,302,303,307,308];m.redirect=function(t,e){if(y.indexOf(e)===-1)throw new RangeError("Invalid status code");return new m(null,{status:e,headers:{location:t}})},t.Headers=o,t.Request=l,t.Response=m,t.fetch=function(t,e){return new Promise(function(n,r){function o(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var i;i=l.prototype.isPrototypeOf(t)&&!e?t:new l(t,e);var a=new XMLHttpRequest;a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:f(a),url:o()},e="response"in a?a.response:a.responseText;n(new m(e,t))},a.onerror=function(t){console.warn(t),r(new TypeError("Network request failed error"))},a.ontimeout=function(t){console.warn(t),r(new TypeError("Network request failed timeout"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&h.blob&&(a.responseType="blob"),i.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(t,e){"use strict";var n={};n["wx.dev2.91pintuan.com"]="https://apidev.91pintuan.com",n["99.dev2.91pintuan.com"]="https://api99dev.91pintuan.com";var r={};r["wx.91pintuan.com"]="https://api.91pintuan.com",r["91pintuan.com"]="https://api.91pintuan.com",r["99.91pintuan.com"]="https://api99.91pintuan.com",r["v2.91pintuan.com"]="https://apidev.91pintuan.com",r["cunyoupin.com"]="http://api.cunyoupin.com",e=t.exports={development:{uri:"https://apidev.91pintuan.com",imgUri:"https://img.91pintuan.com",phtUri:"https://photo.91pintuan.com",phtUriExotic:"http://photo.91pintuan.com",component:"5726bf8700bbe21526c4ccbe",apiUri:n,debug:!0,from:"client"},production:{uri:"https://api.91pintuan.com",imgUri:"https://img.91pintuan.com",phtUri:"https://photo.91pintuan.com",phtUriExotic:"http://photo.91pintuan.com",component:"5581117b5f225e4c401c9259",apiUri:r,debug:!1,from:"client"}}},function(t,e){},function(t,e,n){(function(t){t.tag2("app","<router-outlet></router-outlet>","","",function(t){})}).call(e,n(1))},function(t,e,n){(function(t){n(28),t.tag2("commodity-distribution",'<div if="{opts.commodity.coll!==1}" style="height: 20px;"></div><div if="{opts.commodity.coll===1}" style="height: 20px;"></div><div class="cont-distribution"><div class="commodity-name">{opts.commodity.name}</div><div><span class="boxred"><span class="group_num1"></span><span class="group_price">{$.util.filter.currency(opts.commodity.discount)}</span><span class="partakers">{opts.commodity.partakers}人团</span></span><span class="del_l"><span>{$.util.filter.currency(opts.commodity.price)}</span></span></div><div class="clear"></div></div><commodity-sku commodity="{opts.commodity}"></commodity-sku><div class="box_model"><div><div class="fontColor"><span class="font-icon"><img src="https://img.91pintuan.com/home/ymyimg/grouptime.png" alt=""></span><span>成团时间&nbsp;&nbsp;</span><span class="color-black">{opts.commodity.times_str}</span></div></div><div if="{opts.commodity.model === \'distribution\'}"><div class="fontColor"><span class="font-icon"><img src="https://img.91pintuan.com/home/ymyimg/groupperson.png" alt=""></span><span>团长外快 &nbsp;</span><span class="color-black">{$.util.filter.currency(opts.commodity.earnest)}+</span></div></div><div if="{opts.commodity.coll===1}"><div class="text-primary"><span class="font-icon"><img src="https://img.91pintuan.com/home/ymyimg/groupperson.png" alt=""></span><span>团长代收团员快递</span></div></div></div>',"","",function(t){})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("commodity-info-group",'<div class="commodity-info-group"><div class="header_banners11">开团当团长</div><form class="form-horizontal address_form" name="postForm" novalidate><div class="form-grey"></div><div class="form-group bgcolor-white" class="{\'has-error\' : postForm.name.$invalid && submitted}"><label class="col-xs-3 control-label">姓名</label><div class="col-xs-9"><input value="{opts.address.name}" type="text" name="name" class="form-control noborder" placeholder="输入姓名" onchange="{opts.onChangeAddressName}" minlength="2" maxlength="20" required><p show="{forms[\'postForm\'].name.$invalid && submitted}" class="help-block">姓名必须填写.</p><p show="{forms[\'postForm\'].name.$error.minlength && submitted}" class="help-block">姓名字数太少.</p><p show="{forms[\'postForm\'].name.$error.maxlength && submitted}" class="help-block">姓名字数太多.</p></div></div><div class="form-group bgcolor-white" class="{\'has-error\' : postForm.telephone.$invalid && submitted}"><label class="col-xs-3 control-label">手机号</label><div class="col-xs-9"><input value="{opts.address.telephone}" oninput="{opts.onChangeAddressPhone}" pattern="^1[3|4|5|7|8]\\d\\{9\\}$" name="telephone" class="form-control noborder" placeholder="输入手机号" required type="{\'number\'}"><p show="{forms[\'postForm\'].telephone.$invalid && forms[\'postForm\'].telephone.$error.required && submitted}" class="help-block">手机号必须填写.</p><p show="{forms[\'postForm\'].telephone.$invalid && forms[\'postForm\'].telephone.$error.pattern && submitted}" class="help-block">手机号格式有误.</p></div></div><div class="coll" if="{opts.comm.coll}"><div class="form-group bgcolor-white"><label class="col-xs-3 control-label">所在省</label><div class="col-xs-8" id="province-width"><select name="province" required class="form-control form-select" onchange="{onProvinceChange}"><option value="">选择省</option><option __selected="{parent.opts.address.province.id === province.id}" each="{province in opts.provinces}" value="{JSON.stringify(province)}" name="{province.id}">{province.name}</option></select><p show="{forms[\'postForm\'].province.$invalid && forms[\'postForm\'].province.$error.required && submitted}" class="help-block">必须选择省.</p></div><div class="col-xs-1" id="province-down"><img src="https://img.91pintuan.com/down.png" alt=""></div></div><div class="form-group bgcolor-white"><label class="col-xs-3 control-label">所在市</label><div class="col-xs-8" id="province-width"><select name="city" required class="form-control form-select" onchange="{onChangeAddressCity}"><option value="">选择市</option><option __selected="{parent.opts.address.city.id === city.id}" each="{city in opts.cities}" name="{city.id}" value="{JSON.stringify(city)}">{city.name}</option></select><p show="{forms[\'postForm\'].city.$invalid && forms[\'postForm\'].city.$error.required && submitted}" class="help-block">必须选择市.</p></div><div class="col-xs-1" id="province-down"><img src="https://img.91pintuan.com/down.png" alt=""></div></div><div class="form-group bgcolor-white"><label class="col-xs-3 control-label">区&nbsp;/&nbsp;县</label><div class="col-xs-8" id="province-width"><select name="district" required class="form-control form-select" onchange="{onChangeAddressDistrict}"><option value="">选择区&nbsp;/&nbsp;县</option><option __selected="{parent.opts.address.district.id === district.id}" each="{district in opts.address.city.district}" value="{JSON.stringify(district)}">{district.name}</option></select><p show="{forms[\'postForm\'].district.$invalid && forms[\'postForm\'].district.$error.required && submitted}" class="help-block">必须选择区县.</p></div><div class="col-xs-1" id="province-down"><img src="https://img.91pintuan.com/down.png" alt=""></div></div><div class="form-group bgcolor-white" class="{\'has-error\' : forms[\'postForm\'].address.$invalid && submitted}"><label class="col-xs-3 control-label">详细地址</label><div class="col-xs-9"><input type="text" oninput="{opts.onChangeAddressDetail}" name="address" class="form-control" placeholder="请输入邮寄地址" maxlength="255" style="border: none;"><p show="{forms[\'postForm\'].address.$error.maxlength}" class="help-block">邮寄地址字数太多.</p></div></div></div><div class="form-group form-coll" if="{opts.comm.coll}"></div><div class="wantbe2"><button class="wantbe1 " onclick="{onSubmit}">确定开团</button></div></form></div>',"",'if="{opts.$show}"',function(e){
"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=this,i=n(2),a=n(5),s=r(a),c=n(9),u=r(c);(0,i.connect)(function(t){return{user:t.user,route:t.route,provinces:t.commProvinces,cities:t.commCities,area:t.commSelectArea,comm:t.comm,address:t.commGroupAddress,$show:t.route.$views["/commodity/:id/group"]||!1}},function(t){return{onChangeAddressName:function(e){return t(s["default"].updateCommGroupAddress({name:e.target.value}))},onChangeAddressPhone:function(e){return t(s["default"].updateCommGroupAddress({telephone:e.target.value}))},onChangeAddressDetail:function(e){return t(s["default"].updateCommGroupAddress({address:e.target.value}))},onChangeAddressProvince:function(e){return t({type:"commGroupProvince",payload:e})},onChangeAddressCity:function(e){return t({type:"commSelectArea",payload:e.item})},onChangeAddressDistrict:function(e){return t({type:"commSelectArea",payload:e.item})},getCommProvinces:function(){return t(s["default"].getCommProvinces())},getCommCities:function(){return disptach(s["default"].getCommCities())},fetchCommGroupAddress:function(e){return t(s["default"].fetchCommGroupAddress(e))},changeDocGroup:function(e){var n=e.type,r=e.meta;return t(u["default"].changeDocGroup({type:n,meta:r}))},updateCommGroupAddress:function(e){return t(s["default"].updateCommGroupAddress(e))}}})(this);var p=this;this.mixin("router"),this.mixin("form"),this.useForm(),this.submitted=!1,this.on("mount",function(){o.opts.getCommProvinces()}),this.onProvinceChange=function(t){var e=app.store.dispatch;if(t.target.value){var n=JSON.parse(t.target.value);e(s["default"].getCommCities(n))}},this.onChangeAddressCity=function(t){var e=app.store.dispatch;if(t.target.value){var n=JSON.parse(t.target.value);e({type:"updateCommGroupAddress",payload:{city:n}})}},this.onChangeAddressDistrict=function(t){var e=app.store.dispatch;if(t.target.value){var n=JSON.parse(t.target.value);e({type:"updateCommGroupAddress",payload:{district:n}})}},this.$use(function(t){var e=app.store.dispatch;this.submitted=!1,e({type:"changeTitle",payload:"开团"}),e({type:"hideBar",payload:!0}),p.addr_stic={},p.addr_had=!1;var n=p.opts.user;e({type:"initCommGroupAddress",payload:{name:n?n.name:"",telephone:n?n.telephone:"",address:n?n.address:"",province:n?n.province:"",city:n?n.city:"",district:n?n.district:""}}),p.opts.fetchCommGroupAddress(function(t){p.addr_stic=$.util.clone(t),p.addr_had=!0}),"share"===p.opts.comm.model&&p.opts.changeDocGroup({type:"url",meta:"model4groupLong"}),"distribution"===p.opts.comm.model&&p.opts.changeDocGroup({type:"url",meta:"groupLong"}),t()}),this.onSubmit=function(e){o.submitted=!0,o.forms.postForm.$validate()&&($.util.deepEqual(o.opts.address,o.addr_stic)||p.opts.updateCommGroupAddress({id:""}),o.opts.address.city&&(o.opts.address.province=$.util.omit(o.opts.address.province,"py")),o.opts.address.city&&(o.opts.address.city=$.util.omit(o.opts.address.city,"district")),$.post("/commodity/"+o.opts.comm.id+"/group",o.opts.address).then(function(e){return t.route("/group/"+e.id)}))}})}).call(e,n(1))},function(t,e,n){(function(t){n(74),n(71),t.tag2("commodity-info",'<div><img-lazy-loader width="{document.body.offsetWidth}" height="{(3*document.body.offsetWidth/4.3).toFixed(2)}" if="{!opts.commInfoAlbums.length}" class="img-responsive" holder="svg:holder.js/100px186?theme=gray&text=91拼团"></img-lazy-loader><carousel width="{document.body.offsetWidth}" height="{(3*document.body.offsetWidth/4.3).toFixed(2)}" auto="5" addons="{opts.commInfoAlbums.length > 1}" item-for-loop="{opts.commInfoAlbums}" prefix="{app.config.phtUri}" field="cover" class="carousel" if="{opts.commInfoAlbums.length}" indicator-class="group-indicator"><img-lazy-loader width="{document.body.offsetWidth}" height="{(3*document.body.offsetWidth/4.3).toFixed(2)}" class="img-responsive" holder="svg:holder.js/100px186?theme=gray&text=91pintuan.com[91拼团]"></img-lazy-loader></carousel><div if="{opts.commInfoAlbums.length}"><div if="{opts.commInfoAlbums.length <= 1}" style="margin-top: -10px"></div></div><commodity-ladder if="{opts.comm.model === \'ladder\'}" commodity="{opts.comm}"></commodity-ladder><commodity-distribution if="{opts.comm.model === \'distribution\' || opts.comm.model === \'share\'}" commodity="{opts.comm}"></commodity-distribution><div if="{!opts.isOffShelves}"><a href="{\'/commodity/\' + this.opts.comm.id + \'/group\'}" class="btn-block b_middle22">开团</a></div><div class="selled" if="{opts.isOffShelves}"> 抱歉，这个商品已经卖光了！ </div><div class="shop-details"><div class="spxq">商品详情</div><img class="imgSrc" riot-src="{\'https://img.91pintuan.com/home/ymyimg/kt-fxt.png\'}" if="{opts.comm.status.model === \'share\'}"><img class="imgSrc" riot-src="{\'https://img.91pintuan.com/home/ymyimg/kt-yjt.png\'}" if="{opts.comm.status.model === \'distribution\'}"><img class="imgSrc" riot-src="{\'https://img.91pintuan.com/home/ymyimg/kt-jtt.png\'}" if="{opts.comm.status.model === \'ladder\'}"><raw class="wc" holder="详情加载中..." content="{opts.comm_detail}"></raw><div class="m-footer1"> 联系商家: {opts.merchant.info.phone? opts.merchant.info.phone : opts.merchant.info.telephone} </div><div class="line-bottom"></div></div><bottom class="bgwhite"></bottom></div><icobar></icobar>',"",'if="{opts.$show}"',function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(c){return void n(c)}return a.done?void t(s):Promise.resolve(s).then(function(t){return r("next",t)},function(t){return r("throw",t)})}return r("next")})}}var o=n(2),i=n(5),a=e(i),s=n(9),c=e(s),u=n(7),p=e(u),l=n(8),d=e(l),f=n(3),m=e(f),h=function(t){return!t||!t.time_end||(0,d["default"])().isBefore(t.time_end)&&1===t.stat},g=function(t){return!!(t&&t.piece>0)&&t.order>=t.piece},y=function(t){return t&&t.info&&t.info.detail?$.util.filter.htmlSafe(t.info.detail.replace(/img1.ifindu.cn\/photo/g,"photo.91pintuan.com")):'<p class="text-center"><i class="fa fa-spinner fa-pulse fa-2x"></i></p>'};(0,o.connect)(function(t){return{comm:t.comm,merchant:t.merchant,commInfoAlbums:t.commInfoAlbums,route:t.route,isOffShelves:!h(t.comm)||g(t.comm)||!1,comm_detail:y(t.comm),$show:t.route.$views["/commodity/:id"]||!1}},function(t){return{getComm:function(e){return t(a["default"].getComm(e))},getCommInfoAlbums:function(e,n){return t(a["default"].getCommInfoAlbums(e,n))},changeDocGroup:function(e,n){return t(c["default"].changeDocGroup(e,n))},changeCommId:function(e){return t(a["default"].changeCommId(e))}}})(this);var v=this;this.mixin("router"),this.$use(function(){var t=r(regeneratorRuntime.mark(function e(t,n){var r,o,i,a,s,c,u,l,d,f,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=app.store.dispatch,r({type:"changeTitle",payload:"商品详细信息"}),o=n.req.params.id,v.opts.getCommInfoAlbums(o),v.opts.changeCommId(o),e.next=7,v.opts.getComm(o);case 7:if(t(),i=v.opts.comm,a=void 0,s=void 0,!i.code){e.next=12;break}return e.abrupt("return",widgets.Alert.add("warn",i.message));case 12:i.info&&i.info.cover?(s=app.config.phtUri+i.info.cover+app.config.phtStl120,a=app.config.phtUri+i.info.cover+app.config.phtStlList):(s="http://static.ifindu.cn/91pintuan/images/logo.png",a=null),i.cover=a,c=i.partakers+"人成团",u=i.info.name,r({type:"changeTitle",payload:u}),l="原　价: "+i.price+"元",d="拼团价: "+i.discount+"元",f=c+"\n"+l+"\n"+d,h="["+c+" "+d+"]"+u.substr(0,16),"share"===i.model&&v.opts.changeDocGroup({type:"url",meta:"model4rewardRules"}),"distribution"===i.model&&v.opts.changeDocGroup({type:"url",meta:"rewardRules"}),"ladder"===i.model&&!function(){v.opts.changeDocGroup({type:"text",meta:"开团当团长，率领众好友享受优惠！"});var t={price:i.price,ladder:0,cheaper:0};f="阶梯团人越多价越低！\n",h=u.substr(0,16),i.ladder.prices&&i.ladder.prices.length&&i.ladder.prices.forEach(function(e,n){e.price<t.ladder&&(t.cheaper=t.price-e.price),n<3&&(f+=e.people+"人价: "+e.price+"元   ",h+=" "+e.people+"人价:"+e.price+"元"),t.ladder=e.price})}(),v.update(),m["default"].set("commId",i.id),p["default"].ready({url:window.location.href,title:u,desc:f,timeline:h,img:s});case 27:case"end":return e.stop()}},e,this)}));return function(e,n){return t.apply(this,arguments)}}())})}).call(e,n(1))},function(t,e,n){(function(t){n(28),t.tag2("commodity-ladder",'<div if="{opts.commodity.model === \'ladder\'}" style="margin-top: 20px;"></div><div class="comm_ladder"><div class="name">{opts.commodity.name}</div><span class="old_p"><span>原&nbsp;&nbsp;&nbsp;&nbsp;价</span><span>{$.util.filter.currency(opts.commodity.price)}</span></span><div><div class="ladder_img"><div class="ptimg"><img src="https://img.91pintuan.com/home/ymyimg/ladder-icon.png"></div></div><div class="ladder_price" each="{ldprc in opts.commodity.ladder.prices}"><span>{$.util.filter.currency(ldprc.price)}</span><span>{ldprc.people}人以上</span></div></div></div><div class="clear"></div><commodity-sku></commodity-sku><div class="clear"></div><div class="box_text1"><div if="{opts.commodity.ladder.commission}"><div class="fontcolor"><span class="font-icon"><img src="https://img.91pintuan.com/home/ymyimg/groupperson.png" alt=""></span><span>参团定金</span><span class="zi-color">{opts.commodity.model===\'ladder\' ? $.util.filter.currency(opts.commodity.ladder.prepay) : $.util.filter.currency(opts.commodity.prepay)}</span></div><div class="fontcolor"><span class="font-icon"><img src="https://img.91pintuan.com/home/ymyimg/grouppayment.png" alt=""></span><span>团长外快</span><span class="zi-color">{$.util.filter.currency(opts.commodity.ladder.commission)}+</span></div></div><div><div class="fontcolor"><span class="font-icon"><img src="https://img.91pintuan.com/home/ymyimg/grouptime.png" alt=""></span><span>成团时间</span><span class="zi-color">{opts.commodity.times_str}</span></div></div><div if="{opts.commodity.coll===1}"><span class="font-icon"><img src="https://img.91pintuan.com/home/ymyimg/groupperson.png" alt=""></span><span class="text-primary">团长代收团员快递 </span></div></div>',"","",function(t){})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("commodity-list",'<on-scroll if="{opts.merchant.pubno.status.shelf === 1}" infinite-scroll="{nextPage}" infinite-scroll-disabled="{opts.commodityList.busy}" infinite-scroll-distance="{100}"><div id="single-shelp"><div id="c_{commodity.id}" class="panel" each="{commodity in parent.opts.commodityList.items}" no-reorder><div><div class="comm-list-img"><a href="{\'/commodity/\' + commodity.id}"><img-lazy-loader height="{(3*document.body.offsetWidth/4.3).toFixed(2)}" width="{document.body.offsetWidth}" holder="svg:holder.js/100px186?theme=gray&text=91拼团" riot-src="{app.config.phtUri + commodity.cover}" style="margin:auto" class="img-responsive" alt="{commodity.name}"></img-lazy-loader><div class=" {\'comm_bt\' : !commodity.cover} comm-title">{commodity.name}</div></div><div if="{commodity.model === \'ladder\'}"><div class="comm-coll" if="{commodity.ladder.commission}"><span><img src="https://img.91pintuan.com/home/ymyimg/groupperson.png"><span class="earnest">团长外快{$.util.filter.currency(commodity.ladder.commission)}+</span></span></div></div><div if="{commodity.model !== \'ladder\'}"><div class="comm-coll" if="{commodity.coll || commodity.earnest}"><span if="{commodity.earnest}"><img src="https://img.91pintuan.com/home/ymyimg/groupperson.png"><span class="earnest">团长外快{$.util.filter.currency(commodity.earnest)}+</span></span></div></div><div class="img-bottom"><div class="comm-list-price"><div class="comm-boxred" if="{commodity.model !== \'ladder\'}"><div class="comm-list-line"></div><div class="comm-count " class="ng-binding">{$.util.filter.currency(commodity.discount)}</div><div class="comm-font ng-binding">{commodity.partakers}人团</div><span class="clear"></span></div><span class="mydel_l" if="{commodity.model !== \'ladder\'}"><span class="price through ng-binding">{$.util.filter.currency(commodity.price)}</span></span><div class="bg-primary comm-list-ladder-price {\'clpl\' : commodity.ladder.prices.length >= 4}" if="{commodity.model === \'ladder\'}"><div class="comm-list-line1"></div><span>￥</span><span each="{ldprc, index in commodity.ladder.prices}">{(ldprc.price).toFixed(2)} <i if="{index != (commodity.ladder.prices.length-1)}">/ </i></span></div><span class="mydel_l" if="{commodity.model === \'ladder\'}"><span class="price ng-binding">{$.util.filter.currency(commodity.price)}</span></span><span class="clear"></span></div></div></div></a><div class="panel-interval"></div></div></div><div class="foot-height"></div></on-scroll><on-scroll if="{opts.merchant.pubno.status.shelf === 2}" infinite-scroll="{nextPage}" scroll="{onScroll}" infinite-scroll-disabled="{false}" infinite-scroll-distance="{100}"><div><div class="panel-two col-xs-6" each="{commodity in parent.opts.commodityList.items}" no-reorder><a href="{\'commodity/\' + commodity.id}"><div class="shelf-img" riot-style="height: {(document.body.offsetWidth/3).toFixed(2)}px"><img-lazy-loader height="{(document.body.offsetWidth/3).toFixed(2)}" width="{(document.body.offsetWidth/2 - 7)}" holder="svg:holder.js/100px186?theme=gray&text=91拼团" riot-src="{app.config.phtUri + commodity.cover + app.config.phtStlList3}" style="margin:auto" class="img-responsive" alt="{commodity.name}"></img-lazy-loader></div><div class="shelf-main"><div class="name">{commodity.name}</div><div class="price" if="{commodity.model === \'ladder\'}"><span>{$.util.filter.currency(commodity.price)}</span></div><div class="ladder {\'three\' : commodity.ladder.prices.length > 3}" if="{commodity.model === \'ladder\'}"><span class="font-14">￥</span><span class="font-14" each="{ldprc, index in commodity.ladder.prices}">{(ldprc.price).toFixed(2)}<span class="xg" if="{index != (commodity.ladder.prices.length-1)}">/</span></span></div><div class="price through" if="{commodity.model !== \'ladder\'}"><span>{$.util.filter.currency(commodity.price)}</span></div><div class="no-ladder" if="{commodity.model !== \'ladder\'}"><div class="float-l left"><span>{$.util.filter.currency(commodity.discount)}</span></div><div class="float-l right"><span>{commodity.partakers}人团</span></div><div class="float-r icon" if="{commodity.model === \'distribution\'}">佣</div><span class="clear"></span></div></div></a></div></div></on-scroll><icobar></icobar>',"",'if="{opts.$show}"',function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(c){return void n(c)}return a.done?void t(s):Promise.resolve(s).then(function(t){return r("next",t)},function(t){return r("throw",t)})}return r("next")})}}var o=this,i=n(2),a=n(5),s=e(a);this.mixin("router"),(0,i.connect)(function(t){return{merchant:t.merchant,title:t.title,route:t.route,commodityList:t.commodityList,$show:t.route.$views["/"]||!1}},function(t){return{changeTitle:function(e){t({type:"changeTitle",payload:e})},updateCommList:function(e){return t(s["default"].updateCommList(e))}}})(this),this.nextPage=function(){return app.store.dispatch(s["default"].nextPage(o.opts.commodityList))},this.$use(function(){var t=r(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t(),n={},o.opts.merchant&&o.opts.merchant.info&&o.opts.merchant.info.name?o.opts.changeTitle(""+o.opts.merchant.info.name):app.one("merchant",function(t){return o.opts.changeTitle(""+t.info.name)}),"/commodity.tips"===o.opts.route.$state&&(n={tips:!0}),app.store.dispatch({type:"commodityListSetParams",payload:n});case 5:case"end":return e.stop()}},e,o)}));return function(e){return t.apply(this,arguments)}}())})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("alert",'<div class="alert-container" if="{_alerts.length}"><div class="alert"><ul class="alert-list"><li each="{_alerts}"><b class="{icon: true, success: state === \'success\', warn: state === \'warn\', error: state === \'error\'}"></b><span>{msg}</span></li></ul></div></div>','alert .alert-container,[riot-tag="alert"] .alert-container,[data-is="alert"] .alert-container{ position: fixed; width: 100%; top: 0px; left: 0px; bottom: 0px; right: 0px; margin: auto; z-index: 9999; color: #82683A; } alert .alert,[riot-tag="alert"] .alert,[data-is="alert"] .alert{ margin: 0px auto; } alert .alert-list,[riot-tag="alert"] .alert-list,[data-is="alert"] .alert-list{ margin: 0px auto; padding: 0px; list-style-type: none; } alert .alert-list >li,[riot-tag="alert"] .alert-list >li,[data-is="alert"] .alert-list >li{ width: 200px; height: 40px; border-radius: 5px; line-height: 40px; padding: 0px 10px; margin: 10px auto; text-align: center; } alert .icon,[riot-tag="alert"] .icon,[data-is="alert"] .icon{ width: 8px; height: 8px; border: none; border-radius: 50em; display: inline-block; } alert .success,[riot-tag="alert"] .success,[data-is="alert"] .success{ width: 10px; height: 10px; margin-right: 5px; background: green; } alert .warn,[riot-tag="alert"] .warn,[data-is="alert"] .warn{ width: 10px; height: 10px; margin-right: 5px; background: yellow; } alert .error,[riot-tag="alert"] .error,[data-is="alert"] .error{ width: 10px; height: 10px; margin-right: 5px; background: red; }',"",function(t){"use strict";var e=this;this._alerts=[],this._busy=!1,this._during=3e3,this.add=function(t,n){e._alerts.push({state:t,msg:n}),e._busy||(e._busy=!0,e.routine())},this.routine=function(){return e.update(),e._alerts.length?void setTimeout(function(){e._alerts.splice(0,1),e.routine(),e.update()},e._during):e._busy=!1}})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("bottom",'<div class="bottom-ico"><a href="http://www.91pintuan.com/"></a></div>',"","",function(t){})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("carousel",'<div class="{\'carousel-bt\' : itemForLoop.length > 1} carousel-container" riot-style="width: {document.body.offsetWidth}px; height: {(3*document.body.offsetWidth/4.3).toFixed(2)}px;"><yield if="{!itemForLoop}"></yield><div if="{itemForLoop}"><ul class="carousel-ul carousel-transition" riot-style="width: {(itemForLoop.length || 0)*100}%;"><li riot-style="width: {100/parent.itemForLoop.length}%" uid="id-{id}" each="{item in itemForLoop}"><div riot-style="height: {parent.opts.height}px; background-image: url({parent.opts.field ? parent.opts.prefix + item[parent.opts.field] + app.config.phtStlList : opts.default})" class="bgimage"></div></li></ul><div if="{itemForLoop.length > 1}" class="carousel-nav-container"><ul class="carousel-nav" riot-style="width: {itemForLoop.length*5 + (itemForLoop.length -1)*5}"><li each="{item, index in itemForLoop}"><b class="{\'carousel-nav-active\': index === 0, \'carousel-nav-default\': index != 0}" uid="id-{item.id}"></b></li></ul></div></div></div>',".carousel-container b{ width: 5px; height: 5px; display: block; border-radius: 50%; } .carousel-nav-container{ width: 100%; top: 50px; } .carousel-nav{ margin: 0px auto; padding: 0px; list-style-type: none; overflow: hidden; position: relative; top: -20px; } .carousel-nav li{ width: 5px; height: 5px; float: left; margin-right: 5px; } .carousel-nav li b{ display: block; width: 100%; height: 100%; border-radius: 50%; } .carousel-nav li:last-child{ margin-right: 0px; } .carousel-nav-default{ background: #000000; } .carousel-nav-active{ background: #FFFFFF; } .carousel-container{ overflow: hidden; } .carousel-transition{ transition: margin .5s; -moz-transition: margin .5s; -webkit-transition: margin .5s; -o-transition: margin .5s; } .carousel-ul{ margin: 0px; padding: 0px; list-style-type: none; } .carousel-ul li{ float: left; } .carousel-ul li div{ background-size: cover; background-repeat: no-repeat; background-position:center; } .carousel-bt{margin-bottom: -10px;}","",function(t){"use strict";var e=this;this.timer=null,this.busy=!1,this.itemForLoop=null,this.during=5e3,this.on("unmount",function(){return e.cancel()}),this.parent.on("update",function(){return setTimeout(e.init,10)}),this.parent.on("unmount",function(){return e.cancel()}),this.parent.on("leave",function(){return e.cancel()}),this.init=function(){e.parent.opts.$show&&e.snapshot!==e.opts.itemForLoop&&(e.itemForLoop=e.opts.itemForLoop,e.currItem=e.opts.itemForLoop[0],e.itemForLoop.length>1&&(setTimeout(function(){e.root.addEventListener("touchstart",n),e.root.addEventListener("touchmove",r),e.root.addEventListener("touchend",o)},50),e.routine()),e.update())},this.startPosX=null,this.moveDistance=null,this.inTouching=!1,this.getListNode=function(){return e.root.querySelector(".carousel-ul")};var n=function(t){e.busy||(e.clear(),e.busy=!0,e.inTouching=!0,e.startPosX=t.touches[0].clientX,$(e.getListNode()).removeClass("carousel-transition"))},r=function(t){if(e.inTouching){var n=t.touches[0].clientX,r=e.root.querySelector(".carousel-container");e.moveDistance=n-e.startPosX;var o=e.moveDistance/r.clientWidth*100,i=e.opts.itemForLoop.indexOf(e.currItem),a="-"+100*i;e.getListNode().style.marginLeft=parseFloat(a,10)+o+"%"}},o=function(t){if(e.inTouching){var n=(e.getListNode(),parseFloat(e.moveDistance,10).toFixed(2)),r=30;$(e.getListNode()).addClass("carousel-transition"),!n||Math.abs(n)<=r?e.flyback():Math.abs(n)>r&&(n>0&&e.prevItem(),n<0&&e.nextItem()),e.busy=!1,e.inTouching=!1,e.moveDistance=null,e.startPosX=null,e.routine()}};this.routine=function(){e.timer||(e.timer=setInterval(function(){e.busy||e.nextItem()},e.during))},this.flyback=function(){e.resetStyle(e.opts.itemForLoop.indexOf(e.currItem),0),setTimeout(function(){e.busy=!1},500)},this.prevItem=function(){e.busy=!0;var t=e.getPrevNode(e.currItem);t?(e.currItem=t.node,e.resetStyle(t.index),setTimeout(function(){e.busy=!1},500)):e.cancel()},this.nextItem=function(){e.busy=!0;var t=e.getNextNode(e.currItem);t?(e.currItem=t.node,e.resetStyle(t.index),setTimeout(function(){e.busy=!1},500)):e.cancel()},this.resetStyle=function(t){var n=e.root.querySelector(".carousel-ul"),r=100;n.style.marginLeft="-"+t*r+"%",[].slice.call(e.root.querySelectorAll(".carousel-nav>li>b")).forEach(function(t){$(t).removeClass("carousel-nav-active").addClass("carousel-nav-default")}),$(e.root.querySelector('.carousel-nav>li>b[uid="id-'+e.currItem.id+'"]')).removeClass("carousel-nav-default").addClass("carousel-nav-active")},this.clear=function(){clearInterval(e.timer),e.timer=null,e.snapshot=e.itemForLoop?e.itemForLoop:e.snapshot,e.itemForLoop=null},this.cancel=function(){e.busy=!1,e.clear(),e.root.removeEventListener("touchstart",n),e.root.removeEventListener("touchmove",r),e.root.removeEventListener("touchend",o)},this.getPrevNode=function(t){var n=e.opts.itemForLoop,r=n.indexOf(t);return 0===r?{node:n[n.length-1],index:n.length-1}:{node:n[r-1],index:r-1}},this.getNextNode=function(t){var n=e.opts.itemForLoop,r=n.indexOf(t);return r===n.length-1?{node:n[0],index:0}:{node:n[r+1],index:r+1}}})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("icobar",'<table class="table-bar"><tr><td style="width: 33.33%;" class="{active: opts.$state === \'/\'} bar-ico bar-group"><a href="/"><span class="icobar-font">火爆拼团</span></a></td><td style="width: 33.33%;" class="{active: opts.$state === \'/order/list\'} bar-ico bar-my-order"><a href="/order/list" ui-sref="order.list"><span class="icobar-font">我的订单</span></a></td><td style="width: 33.33%;" class="{active: opts.$state === \'/help/more\'} bar-ico bar-more"><a href="/help/more" ui-sref="help.more"><span class="icobar-font">更多</span></a></td></tr></table>',"",'class="navbar-fixed-bottom navbar-foot" show="{true}"',function(t){"use strict";var e=n(2);(0,e.connect)(function(t){return{$state:t.route.$state}})(this)})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("img-lazy-loader",'<img class="fade-in" riot-style="height: {opts.height}px; width: {opts.width}px; margin-bottom: -10px;" riot-src="{holder}" alt="{opts.alt}">',"<![CDATA[ #holder_${sid} text { fill: ${themeMap[theme].color}; font-weight: bold; font-family: Arial, Helvetica, Open Sans, sans-serif, monospace; font-size: ${ this.fontSize } } ]]>","",function(t){"use strict";var e=this;this.holder=null,this.mounted=!1,this.prevSrc=null,this.hasImage=function(){return!(!e.opts.riotSrc||/undefined/gi.test(e.opts.riotSrc))},this.pretreatment=function(){if(e.fontSize=(e.opts.width/15).toFixed()+"pt",/svg:/.test(e.opts.holder)){var t=e.buildSvg();e.holder=t}else e.holder=e.opts.holder},this.extractOpts=function(t){function e(t){var e=t.split("?"),n=(e[0],e[1]);return n&&(n=n.split("&").reduce(function(t,e){var n=e.split("=");return t[n[0]]=n[1],t},{})),{query:n}}var n=e(t);return{theme:n&&n.query&&n.query.theme||null,text:n&&n.query&&n.query.text||null}};var n={gray:{color:"#AAAAAA",bgColor:"rgb(238, 238, 238)"}};this.getStringLength=function(t){var n=document.createElement("canvas"),r=n.getContext("2d");return r.font=e.fontSize+" Arial bold",r.measureText(t).width},this.buildSvg=function(){function t(t){for(var e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n="",r=0;r<t;r++){var o=Math.ceil(35*Math.random());n+=e[o]}return n}var r=e.extractOpts(e.opts.holder),o=r.theme,i=r.text,a=(r.maxWidth,t(9)),s=(e.opts.width-e.getStringLength(i))/2,c=e.opts.height/2,u='<svg xmlns="http://www.w3.org/2000/svg" width="'+e.opts.width+'" height="'+e.opts.height+'" viewBox="0 0 '+e.opts.width+" "+e.opts.height+'" preserveAspectRatio="none">\n                <defs>\n                    \n                </defs>\n                <g id="holder_'+a+'">\n                    <rect width="'+e.opts.width+'" height="'+e.opts.height+'" fill="'+n[o].bgColor+'"/>\n                    <g>\n                        <text\n                            fill="'+n[o].color+'"\n                            style="\n                                font-size: '+e.fontSize+';\n                                font-family:Arial, Helvetica, Open Sans, sans-serif, monospace;\n                                font-weight: bold;"\n                            x="'+s+'"\n                            y="'+c+'">'+i+"</text>\n                    </g>\n                </g>\n            </svg>";return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(u)},this.buildImage=function(){var t=document.createElement("img");t.src=e.opts.riotSrc,t.style.opacity=0,t.style.height=e.opts.height+"px",t.style.width=e.opts.width+"px",t.style.WebkitTransition="opacity .5s",t.style.MozTransition="opacity .5s",t.style.display="none",t.onload=function(){setTimeout(function(){$(e.root.childNodes[0]).removeClass("fade-in").addClass("fade-out")},50),setTimeout(function(){e.root.appendChild(t),t.style.display="inline",setTimeout(function(){t.style.opacity=1},50),e.root.removeChild(e.root.childNodes[0])},500)}},this.on("update",function(){e.mounted&&e.opts.riotSrc&&e.prevSrc===e.opts.riotSrc||(e.pretreatment(),e.hasImage()&&(e.buildImage(),e.mounted=!0,e.prevSrc=e.opts.riotSrc))})})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("modal",'<div class="my-modal-container"></div>',".my-modal{ margin-top: 120px; } .my-modal-container{ position: absolute; z-index: 1050; overflow: hidden; top: 0px; left: 0px; right: 0px; bottom: 0px; margin: auto; background: rgba(0, 0, 0, 0.6); border-radius: 5px; border: 1px solid #ccc } .my-modal-header{ background: red; height: 40px; padding: 10px; } .my-modal-body{ background: white; padding: 10px; } .my-modal-footer{ background: white; height: 40px; padding: 10px; }",'if="{show}"',function(e){"use strict";var n=this;this.show=!1,this.open=function(e){var r=e.tag,o=(e.size,e.props);n.content={tag:r,props:o},n.show=!0;var i=n.root.querySelector(".my-modal-container"),a=t.mount(i,r,o)[0];return a.on("dismiss",function(){setTimeout(function(){a.off("dismiss")},50),a.unmount(!0),n.update({show:!1})}),n.update(),a}})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("on-scroll","<yield></yield>","","",function(t){"use strict";var e=this,n=function(){return e.opts.infiniteScrollIdentify.split(".").reduce(function(t,e){return t[e]},e.parent.opts)};this.parent.on("entered",function(){if(e.opts.infiniteScrollIdentify){e.parent.on("updated",e.onUpdated);var t=n();e.items=t}e.doCheck(),window.addEventListener("scroll",e.onScrollHandler),window.addEventListener("resize",e.onScrollHandler)}),this.parent.on("before-leave",function(){e.parent.off("updated",e.onUpdated),window.removeEventListener("scroll",e.onScrollHandler),window.removeEventListener("resize",e.onScrollHandler)}),this.onUpdated=function(){if(e.items&&e.opts.infiniteScrollIdentify){var t=(e.opts.infiniteScrollIdentify,n());e.items&&t&&t!=e.items&&($.util.throttle(function(){e.doCheck()},50),e.items=t)}},this.onScrollHandler=function(t){return $.util.throttle(function(){e.doCheck()},10)},this.isBottom=function(){return window.innerHeight+window.scrollY+(e.opts.infiniteScrollDistance||0)>=document.body.scrollHeight},this.doCheck=function(){setTimeout(function(){e.isBottom()&&!e.opts.infiniteScrollDisabled&&e.opts.infiniteScroll()},0)}})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("progressbar",'<div class="{opts.class} progressbar-container" riot-style="{opts.style}"><div class="progressbar" riot-style="width: {opts.value}%; background: {opts.bgcolor || \'#f23838\'}"></div></div>',".progressbar-container{ width: 100%; } .progressbar{ height: 100%; transition: width .5s; }","",function(t){})}).call(e,n(1))},function(t,e,n){(function(t){n(29),t.tag2("radio-group",'<div class="{opts.class}"><yield></yield></div>','radio-group,[riot-tag="radio-group"],[data-is="radio-group"]{ position: relative; display: inline-block; vertical-align: middle; } radio-group radio,[riot-tag="radio-group"] radio,[data-is="radio-group"] radio{ position: relative; float: left; } radio-group radio + radio,[riot-tag="radio-group"] radio + radio,[data-is="radio-group"] radio + radio{ margin-left: -1px; } radio-group radio[toggle]:not(:first-child) > *,[riot-tag="radio-group"] radio[toggle]:not(:first-child) > *,[data-is="radio-group"] radio[toggle]:not(:first-child) > *{ padding-right: 8px; padding-left: 8px; } radio-group > radio:hover,[riot-tag="radio-group"] > radio:hover,[data-is="radio-group"] > radio:hover,radio-group > radio:focus,[riot-tag="radio-group"] > radio:focus,[data-is="radio-group"] > radio:focus,radio-group > radio:active,[riot-tag="radio-group"] > radio:active,[data-is="radio-group"] > radio:active{ z-index: 2; } radio-group > radio:not(:first-child):not(:last-child):not([toggle]) > *,[riot-tag="radio-group"] > radio:not(:first-child):not(:last-child):not([toggle]) > *,[data-is="radio-group"] > radio:not(:first-child):not(:last-child):not([toggle]) > *{ border-radius: 0; } radio-group > radio:first-child,[riot-tag="radio-group"] > radio:first-child,[data-is="radio-group"] > radio:first-child{ margin-left: 0; } radio-group > radio:first-child:not(:last-child):not([toggle]) > *,[riot-tag="radio-group"] > radio:first-child:not(:last-child):not([toggle]) > *,[data-is="radio-group"] > radio:first-child:not(:last-child):not([toggle]) > *{ border-top-right-radius: 0; border-bottom-right-radius: 0; } radio-group > radio:last-child:not(:first-child) > *,[riot-tag="radio-group"] > radio:last-child:not(:first-child) > *,[data-is="radio-group"] > radio:last-child:not(:first-child) > *,radio-group > radio:not(:first-child)[toggle] > *,[riot-tag="radio-group"] > radio:not(:first-child)[toggle] > *,[data-is="radio-group"] > radio:not(:first-child)[toggle] > *{ border-top-left-radius: 0; border-bottom-left-radius: 0; }',"",function(t){"use strict";var e=this,r=n(10);this.mixin(r.parentScope).mixin(r.domEvent).mixin(r.syncEvent);var o=function(t){e.root.value=e.value=t,e.skipSync(),e.update(),e.triggerDomEvent("change")};this.on("mount",function(){var t=e.tags.radio||[];t.forEach(function(t){return t.on("radioClicked",o)})}).on("sync",function(){t.value&&(e.value=t.value)})})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("raw","<span>{opts.holder}</span>","","",function(t){
"use strict";var e=this;this.on("update",function(){e.opts.content&&(e.root.innerHTML=t.content)})})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("rlink",'<button type="button" class="{clazzes}" onclick="{go}" __disabled="{disabled}"><yield></yield></button>',"","",function(t){"use strict";var e=this,r=n(2);(0,r.connect)(function(t){return{curr:t.route.$state}})(this),this.clazzes="",this.go=function(){var e=app.hub;!e.busy&&t.to&&e.go(t.to)},this.on("update",function(){var n={},r=app.hub.util;t["class"]&&t["class"].split(" ").reduce(function(t,e){return t[e]="true",t},n),t.active&&t.curr&&t.to&&r.toPattern(t.curr)===r.toPattern(t.to)&&(n[t.active]="true"),e.clazzes=Object.keys(n).map(function(t){return""+t}).join(" ")})})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("router-outlet",'<div data-tag-name="{route.component}" each="{route in distinct(routes)}"></div>',"","",function(t){"use strict";var e=this;this.$isMounted=!1,this.on("mount",function(){e.routes=[],app.hub.state.hint?!function(){var t=app.hub.refinedRoutes.filter(function(t){return t.path===app.hub.state.hint})[0].parent;e.routes=app.hub.refinedRoutes.filter(function(e){return e.id===t})[0].children}():e.routes=app.hub.routes.children,e.update(),e.trigger("$mounted"),e.$isMounted=!0}),this.distinct=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];e.filter(function(t){return t.component===o.component}).length<=0&&e.push(o)}return e}})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("fx-apply",'<div class="user-img"><div class="bgimg"><img riot-src="{opts.user.photo}"></div></div><form name="fxForm" novalidate autocomplete="off"><div class="form-group inputdiv">姓&nbsp;&nbsp;&nbsp;名 <input type="text" class="myinpt" placeholder="{forms[\'fxForm\'][\'fxer.name\'].$invalid && submitted?\'姓名必须输入\':\'输入你的真实姓名\'}" name="fxer.name" required></div><div class="form-group inputdiv" class="{\'has-success\': forms[\'fxForm\'][\'fxer.telephone\'].$valid && submitted, \t\t\t\t\'has-error\': forms[\'fxForm\'][\'fxer.telephone\'].$invalid && submitted,}">手机号 <input type="tel" class="myinpt" placeholder="{forms[\'fxForm\'][\'fxer.telephone\'].$invalid && submitted ? \'手机号必须填写\' : \'输入你的手机号方便商家联系\'}" name="fxer.telephone" required pattern="^1[3|4|5|7|8]\\d\\{9\\}$"><p show="{forms[\'fxForm\'][\'fxer.telephone\'].$error.pattern && submitted}" class="help-block">请填正确格式的手机号.</p></div><button onclick="{apply}" class="btn fx-btn" __disabled="{disabled}">提交申请</button></form><div class="m-top"><bottom></bottom></div>',"body{background-color: #f4f5f9;}",'if="{opts.$show}"',function(e){"use strict";var r=this,o=n(2);this.mixin("router"),this.mixin("form"),this.useForm(),(0,o.connect)(function(t){return{user:t.user,$show:t.route.$views["/fx/apply"]||!1}},function(t){return{changeTitle:function(e){return t({type:"changeTitle",payload:e})}}})(this);var i=this;this.$use(function(t){i.opts.changeTitle("申请分销伙伴-第二步"),this.submitted=!1,this.disabled=!1,t()}),this.apply=function(e){if(!r.forms.fxForm.$validate())return r.submitted=!0,!1;var n={name:r["fxer.name"].value,telephone:r["fxer.telephone"].value};r.disabled=!0,$.post("/fx/apply",n).then(function(e){r.submitted=!1,r.disabled=!1,t.route("/fx/result")}),setTimeout(function(){this.disabled=!1},5e3)}})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("fx-info",'<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"><div class="head-img"><div class="bgimg"><img riot-src="{opts.merchant.pubno.head_img.replace(\'/1\',\'/46\')}"><p>{opts.merchant.pubno.nick_name}</p></div></div><div class="fx-list"><div class="fx-img"><img src="//img.91pintuan.com/home/ymyimg/fxgz1.png"></div><p class="topp">在线申请,等待商家审核</p><p class="btp">人人都可以在线申请成为分销伙伴，帮商家分销赚取佣金</p></div><div class="fx-list"><div class="fx-img"><img src="//img.91pintuan.com/home/ymyimg/fxgz2.png"></div><p class="topp">轻松赚取佣金</p><p class="btp">买家通过分销伙伴分享的链接成团，即算作你的业绩</p></div><div class="fx-list"><div class="fx-img"><img src="//img.91pintuan.com/home/ymyimg/fxgz3.png"></div><p class="topp">佣金自动发放到微信零钱</p><p class="btp">每成一团自动发放该团佣金到分销伙伴的微信零钱里</p></div><div class="fx-list"><div class="fx-img"><img src="//img.91pintuan.com/home/ymyimg/fxgz4.png"></div><p class="topp">联系商家</p><p class="btp">更多详细内容请咨询商家，电话 <a href="tel:+{opts.merchant.info.phone ? opts.merchant.info.phone : opts.merchant.info.telephone}" class="houbian">{opts.merchant.info.phone ? opts.merchant.info.phone : opts.merchant.info.telephone}</a></p></div><div class="bwtom"><a class="btn fx-btn" href="/fx/apply">申请成为分销伙伴</a></div>',"",'if="{opts.$show}"',function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}var r=n(2),o=n(7),i=e(o);this.mixin("router");var a=this;(0,r.connect)(function(t){return{merchant:t.merchant,$show:t.route.$views["/fx/info"]||!1}},function(t){return{changeTitle:function(e){return t({type:"changeTitle",payload:e})}}})(this),this.$use(function(t){function e(e){var n=location.href,r="",o="";r=e.pubno.nick_name,o=e.pubno.head_img,r+="征集分销伙伴啦！";var a="只要你有召集团长的能力，人人都可以申请成为分销伙伴，帮商家分销轻松赚取佣金！",s=r+a;setTimeout(function(){i["default"].ready({url:n,title:r,desc:a,timeline:s,img:o})},0),t()}a.opts.changeTitle("申请分销伙伴-第一步"),$.get("/fx/my").then(function(t){t.id&&(location.href=location.origin+"/?fxer="+t.id)}),this.opts.merchant&&this.opts.merchant.pubno?e(this.opts.merchant):app.one("merchant",function(t){e(t)})})})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("fx-result",'<img class="fxr" riot-src="https://img.91pintuan.com/home/ymyimg/fxresult1.png"><p class="fxr1">申请已提交</p><p class="fxr2">分销伙伴申请已成功提交，等待商家联系审批</p>',"",'if="{opts.$show}"',function(t){"use strict";var e=n(2);(0,e.connect)(function(t){return{$show:t.route.$views["/fx/result"]||!1}})(this)})}).call(e,n(1))},function(t,e,n){(function(t){n(89),n(88),n(90),t.tag2("fx","<router-outlet></router-outlet>","",'if="{opts.$show}"',function(t){"use strict";var e=n(2);(0,e.connect)(function(t){return{$show:t.route.$views["/fx"]||!1}})(this)})}).call(e,n(1))},function(t,e,n){(function(t){n(31),t.tag2("group-distribution",'<div class="cont_group"><div class="text_dark">{opts.group.commodity.name}</div><div class="text_img"><img riot-src="{\'https://img.91pintuan.com/home/ymyimg/365147173710008178.png\'}"><span>{$.util.filter.currency(opts.group.commodity.discount)}&nbsp;&nbsp;</span><span class="price">{$.util.filter.currency(opts.group.commodity.price)}</span></div></div><group-sku group="{opts.group}"></group-sku><div class="cont_second"><div class="row top"><div class="col-xs-6 cloxs1"><div class="text-left"><span>团长:{opts.group.address.name}</span><span class="text-primary" if="{opts.group.commodity.coll}">&nbsp;&nbsp;(团长代收)</span></div></div><div class="col-xs-6 cloxs2 text-right"><a class="linkLine color_red" href="/partaker/list?id={opts.group.id}"><span>{opts.group.num_order}</span></a><span>&nbsp;人参团</span><span>/<span class="red">{opts.group.commodity.partakers}</span>人成团</span></div></div><progressbar class="progressbar" value="{(opts.group.num_order/opts.group.commodity.partakers) > 1 ? 100 : (opts.group.num_order/opts.group.commodity.partakers)*100}"></progressbar><div class="row bottom"><div class="col-xs-6"></div><div class="col-xs-6"><div class="text-right text_light fontsize1"><div><span if="{opts.isbefore}">剩余时间</span><span if="{opts.isbefore}">&nbsp;{$.util.filter.ago(opts.group.time_end)}&nbsp;</span><span if="{!opts.isbefore}">已结束</span></div></div></div></div></div>',"","",function(t){})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("group-info-replenishment",'<div class="replenishment"><img class="rep-img" riot-src="{\'https://img.91pintuan.com/home/ymyimg/wk.jpg\'}"><div class="rep-grey"></div><form class="rep-form"><div class="wkimg"><img height="55" style="border-radius: 3px;" riot-src="{app.config.phtUri + opts.group.commodity.cover}" alt="{opts.group.commodity.name}" if="{opts.group.commodity.cover}"><img height="55" class="img-responsive" holder="holder.js/100px85/#EF4453:#ffffff/text:No Cover" if="{!opts.group.commodity.cover}"><p>{opts.group.commodity.name}</p></div><div class="wkimg"><span class="wkspan">参团人数:</span><span>{opts.group.num_order}人</span></div><div class="wkimg"><span class="wkspan">当前价格:</span><span>{$.util.filter.currency(opts.money.price)}</span></div><div class="wkimg"><span class="wkspan">已付定金:</span><span>{$.util.filter.currency(opts.group.commodity.ladder.prepay)}</span></div><div class="wkimg"><span class="wkspan">需补尾款:</span><span class="red" class="{gray:!isSelling}">{$.util.filter.currency(opts.money.price + opts.deliveryPayment - opts.group.commodity.ladder.prepay)}</span></div><div class="wkimg" if="{opts.deliveryPayment}"><span class="wkspan pr">邮费:</span><span class="red">{$.util.filter.currency(opts.deliveryPayment)}</span></div><div class="redtz" if="{!isSelling}">你所参加的拼团已过活动有效期，无法再补尾款。感谢参与本次拼团活动！</div><img class="ptygq" riot-src="{\'https://img.91pintuan.com/home/ymyimg/ptygq.png\'}" if="{!isSelling}"><div class="group-pay" if="{isSelling}"><span class="prepay"> 需补款：{$.util.filter.currency(opts.money.price + opts.deliveryPayment - opts.group.commodity.ladder.prepay)} </span><span if="{deliveryPayment}" class="postage"> (包括邮费: {$.util.filter.currency(opts.deliveryPayment)}) </span><button type="submit" class="btn btn-pay" onclick="{replenishment}">确认支付</button></div></form></div>',"","",function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}var r=this,o=n(2),i=n(8),a=e(i),s=n(4),c=e(s),u=n(6),p=e(u);(0,o.connect)(function(t){return{group:t.group,deliveryPayment:t.deliveryPayment,money:t.groupMoney}},function(t){return{changeTitle:function(e){return t({type:"changeTitle",payload:e})},replenishment:function(e){return t(p["default"].replenishment(e))},findPartakerAndGroupByGroupIdAndUserId:function(e){return t(c["default"].findPartakerAndGroupByGroupIdAndUserId(e))}}})(this),this.on("update",function(){r.opts.group&&r.opts.group.commodity&&(r.isSelling=(0,a["default"])().isBefore(r.opts.group.commodity.time.end))}),this.on("before-mount",function(){r.opts.changeTitle("拼团补款"),r.opts.findPartakerAndGroupByGroupIdAndUserId(r.opts.id)}),this.replenishment=function(t){r.opts.group.id&&r.opts.replenishment(r.opts.group.id)}})}).call(e,n(1))},function(t,e,n){(function(t){n(92),n(95),t.tag2("group-info",'<div><img-lazy-loader width="{document.body.offsetWidth}" height="{(3*document.body.offsetWidth/4.3).toFixed(2)}" if="{!opts.commInfoAlbums.length}" class="img-responsive" holder="svg:holder.js/100px186?theme=gray&text=91拼团"></img-lazy-loader><carousel width="{document.body.offsetWidth}" height="{(3*document.body.offsetWidth/4.3).toFixed(2)}" auto="5" addons="{opts.commInfoAlbums.length > 1}" item-for-loop="{opts.commInfoAlbums}" field="cover" prefix="{app.config.phtUri}" class="carousel" if="{opts.commInfoAlbums.length}" indicator-class="group-indicator" index="{opts.carouselIndex}"></carousel><div if="{!opts.commInfoAlbums.length}" style="height: 10px;"></div><div if="{opts.commInfoAlbums.length}"><div if="{opts.commInfoAlbums.length > 1}" style="margin-top: 20px;"></div></div><div if="{opts.commInfoAlbums.length}"><div if="{opts.commInfoAlbums.length <= 1}" style="margin-top: 10px;"></div></div><group-distribution if="{opts.group.commodity.model === \'distribution\' || opts.group.commodity.model === \'share\'}" group="{opts.group}" isbefore="{opts.isBefore}"></group-distribution><group-ladder if="{opts.group.commodity.model === \'ladder\'}" group="{opts.group}" isbefore="{opts.isBefore}"></group-ladder><div if="{!opts.isOffShelves}"><div class="box_pic"><button class="btn btn-block b_middlemy" class="{ijoin1: opts.isBefore, btn_no: !opts.isBefore}" onclick="{joinModal}">参团</button></div></div><div if="{1 == opts.group.commodity.group}"><a href="/commodity/_{opts.group.commodity.id}/group" class="btn btn-block b_middle3"></a><div class="cont_text3 fontsize1" style="margin-top:10px; margin-bottom:0px"><div class="row"><div class="col-xs-1"><div class="illlogo" style="margin:7px 4px 8px 5px"></div></div><div class="col-xs-11"><div style="margin:5px 5px 8px 10px;"><div style="text-align:justify; text-justify:inter-ideograph"><span>开团当团长，分享给好友们，成团后享受优惠!</span></div></div></div></div></div></div><div class="selled" if="{opts.isOffShelves}"> 该商品已售罄 </div><div class="group-details"><div class="spxq">商品详情</div><img class="imgsrc" riot-src="{\'https://img.91pintuan.com/home/ymyimg/ct-fxt.png\'}" if="{opts.group.commodity.status.model === \'share\'}"><img class="imgsrc" riot-src="{\'https://img.91pintuan.com/home/ymyimg/ct-fxt.png\'}" if="{opts.group.commodity.status.model === \'distribution\'}"><img class="imgsrc" riot-src="{\'https://img.91pintuan.com/home/ymyimg/ct-jtt.png\'}" if="{opts.group.commodity.status.model === \'ladder\'}"><raw class="wc" holder="详情加载中..." content="{opts.group.commDetail ? opts.group.commDetail : opts.group.groupCommDetailLoading}"></raw><div class="m-footer1 text-center"> 商家联系方式: {opts.merchant.info.phone? opts.merchant.info.phone : opts.merchant.info.telephone} </div></div><bottom class="bgwhite"></bottom></div><icobar></icobar>',"",'if="{opts.$show}"',function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}var r=this,o=n(2),i=n(5),a=e(i),s=n(8),c=e(s),u=n(3),p=(e(u),n(7)),l=(e(p),n(6)),d=e(l),f=function(t){return!!(t.group.commodity&&t.group.commodity.piece>0)&&t.group.commodity.order>=t.group.commodity.piece},m=function(t){return!t.group.commodity||!t.group.commodity.time_end||(0,c["default"])().isBefore(t.group.commodity.time_end)&&1===t.group.commodity.stat},h=function(t){return!t.group.time_end||(0,c["default"])().isBefore(t.group.time_end)},g=function(t){return!!(t.group.commodity&&t.group.num_order&&t.group.commodity.piece>0&&t.group.num_order>=t.group.commodity.piece)},y=function(t){return t.group.num_order||0},v=function(t){return t.group.commodity&&t.group.commodity.partakers||0},b=function(t){return t.group.commodity&&t.group.commodity["continue"]||!1};(0,o.connect)(function(t){return{merchant:t.merchant,group:t.group,route:t.route,commInfoAlbums:t.commInfoAlbums,numJoin:y(t),numNeed:v(t),isBefore:h(t),isSelling:m(t),isContinue:b(t),isSoldOut:f(t),isOffShelves:!m(t)||f(t)||g(t)||!1,isJoin:h(t)&&(y(t)<v(t)||y(t)>=v(t)&&b(t))||!1,$show:t.route.$views["/group/:id"]||!1}},function(t){return{changeTitle:function(e){return t({type:"changeTitle",payload:e})},changeCommId:function(e){return t({type:"changeCommId",payload:e})},getCommInfoAlbums:function(e,n){return t(a["default"].getCommInfoAlbums(e,n))},enterGroupDetailView:function(e){return t(d["default"].enterGroupDetailView(e))}}})(this),this.mixin("router"),this.$use(function(t,e){this.opts.enterGroupDetailView(t)}),this.joinModal=function(){if(r.opts.isJoin){if(r.opts.group.commodity.sku&&r.opts.group.commodity.sku.length)return void widgets.Modal.open({tag:"group-sku-modal",size:"lg",props:{group:r.opts.group}});var t={id:r.opts.group.id,showwxpaytitle:1,tag:"group-info-join"},e=$.util.querystring.stringify(t);return void(location.href=window.location.origin+"/wepay/?"+e)}return widgets.Modal.open({tag:"group-modal-post",size:"lg",props:{commId:r.opts.group.commodity.id,grpId:r.opts.group.id,isMore:r.opts.numJoin>=r.opts.numNeed,isBefore:r.opts.isBefore,isSelling:r.opts.isSelling,isContinue:r.opts.isContinue,isSoldOut:r.opts.isSoldOut,model:r.opts.group.commodity.model}}),!1},this.share=function(){return widgets.Modal.open({tag:"group-share"})}})}).call(e,n(1))},function(t,e,n){(function(t){n(31),t.tag2("group-ladder",'<div style="margin-top: 10px;"></div><div class="cont_ladder"><div class="name">{opts.group.commodity.name}</div><div class="row"><span class="price"><span>原&nbsp;&nbsp;&nbsp;&nbsp;价</span><span class="{\'font-color\': opts.group.num_order === 0}">{$.util.filter.currency(opts.group.commodity.price)}</span><span if="{opts.group.num_order === 0 || !parent.opts.group.groupCommLadderMoney}" class="{\'font-color\': opts.group.num_order === 0}">(当前价)</span></span></div><div><div class="myimg"><img src="https://img.91pintuan.com/home/ymyimg/ladder-icon.png"></div><div class="myldprc"><div each="{ldprc in opts.group.commodity.ladder.prices}"><div class="ldprc"><span class="{\'font-color\': ldprc.people === parent.opts.group.groupCommLadderMoney.people}"> {$.util.filter.currency(ldprc.price)} </span><span class="{\'font-color\': ldprc.people === parent.opts.group.groupCommLadderMoney.people}">{ldprc.people}人以上</span></div></div></div><div class="col-xs-4 no-float display-table-cell ladder-table"><table class="table table1"><tbody><tr each="{ldprc in opts.group.commodity.ladder.prices}"><td class="table-td"> &nbsp;<span class="table-span" if="{ldprc.people === parent.opts.group.groupCommLadderMoney.people}">(当前价)</span></td></tr></tbody></table></div></div></div><group-sku group="{opts.group}"></group-sku><div class="box_text1"><div class="row"><div class="col-xs-7"><div class="text-left"><span>团长:{opts.group.address.name}</span><span class="text-primary" if="{opts.group.commodity.coll}">(代收快递)</span></div></div><div class="col-xs-5 text-right"><a class="linkLine color_red" href="/partaker/list?id={opts.group.id}"><span class="fontsize1">{opts.group.num_order}</span></a><span class="fontsize1"> 人参团</span><span class="fontsize1"></span></div></div><progressbar class="progressbar" value="{(opts.group.num_order/(parent.opts.group.groupCommLadderMoney && opts.group.commodity.ladder.prices[parent.opts.group.groupCommLadderMoney.key + 1].people || opts.group.commodity.ladder.prices[0].people))*100}"></progressbar><div class="row"><div class="col-xs-6"></div><div class="col-xs-6"><div class="text-right text_light fontsize1"><div><span if="{parent.opts.isBefore}">剩余时间 </span><span am-time-ago="group.time_end" if="{parent.opts.isBefore}">{$.util.filter.ago(opts.group.time_end)}</span><span if="{!parent.opts.isBefore}">已结束</span></div></div></div></div></div>',"","",function(t){})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("group-list",'<div class="fenlei" if="{opts.filterGrp !== \'my\'}"><a class="gaa" href="/group/list?id={commId}"><span class="gleft {active: opts.route === \'/group/list\'}">大家的团</span></a><span class="gang">|</span><a class="gaa" href="/group/miss?id={commId}"><span class="gright {active: opts.route === \'/group/miss\'}">看看哪些团还缺人</span></a></div><div if="{opts.filterGrp === \'all\'}" class="group-count"><p class="grouplist1">该商品共发起拼团数为</p><p class="grouplist2"><span class="grouplist3">{opts.groups.count}</span>个团</p></div><div class="grouplist4"><on-scroll infinite-scroll="{opts.nextPage}" infinite-scroll-disabled="{opts.groups.busy}" infinite-scroll-distance="{100}" infinite-scroll-listen-for-event="{groups.filter}"><div class="list" each="{group in parent.opts.groups.items}" no-reorder><a href="/group/{group.id}" target-for-android><div class="grouplist5"><div class="list-head"><p class="end" if="{!group.isBefore}">已结束</p><p class="grouplist6" if="{group.isBefore}"><span>剩余时间:</span><span>{$.util.filter.ago(group.time_end)}</span></p><p class="grouplist7" if="{group.commodity.model === \'ladder\' && group.isBefore}"> {group.num_order}人已参团(阶梯团) </p><p class="grouplist7" if="{group.commodity.model !== \'ladder\'&&group.isBefore}"> {group.commodity.partakers>group.num_order?\'还差\'+(group.commodity.partakers-group.num_order)+\'人成团\':\'已成团\'} </p></div><div class="media-list"><div class="media-left"><img-lazy-loader height="{85}" width="{120}" holder="svg:holder.js/100px186?theme=gray&text=91拼团" riot-src="{app.config.phtUri + group.commodity.cover + app.config.phtStlList4}" class="img-responsive" alt="{group.commodity.name}"></img-lazy-loader></div><div class="media-body1"><p class="media-heading1"> {group.commodity.name} </p><div class="grouplist9">团长：{group.address.name}</div><div> 开团时间:{$.util.filter.date(new Date(group.time.add), \'yyyy-MM-dd hh:mm\')} </div><div if="{groups.params.my === \'post\'}"> 开团时间:{$.util.filter.date(new Date(group.time.add), \'yyyy-MM-dd hh:mm\')} </div><div if="{groups.params.my !== \'post\'}"> 开团时间:{$.util.filter.date(new Date(group.time.add), \'yyyy-MM-dd hh:mm\')} </div></div></div></div></a></div></on-scroll></div>',"",'if="{opts.$show}"',function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}var r=this,o=n(2),i=n(6),a=e(i),s=n(3),c=e(s);this.mixin("router");var u=function(t){return!!r.$routePath&&t[r.$routePath]};(0,o.connect)(function(t){return{groups:t.groups,filterGrp:t.groupsFilter,route:t.route.$state,$show:u(t.route.$views)||!1}},function(t){return{nextPage:function(){return t(a["default"].nextPage())},changeTitle:function(e){return t({type:"changeTitle",payload:e})},setFilter:function(e){return t({type:"setGroupsFilter",payload:e})},initGroups:function(e){return t(a["default"].initGroups(e))}}})(this),this.$use(function(t,e){this.opts.changeTitle("拼团列表"),this.opts.setFilter("all");var n={};e.req.query.id&&(this.commId=e.req.query.id,c["default"].set("commId",e.req.query.id),n={commodity:e.req.query.id}),e.req.query.my&&(n={my:e.req.query.my},this.opts.setFilter("my")),e.req.query.filter&&(n.filter=e.req.query.filter),"/group/miss"===app.store.getState().route.$state&&(n.filter="missing",this.opts.setFilter("missing")),this.opts.initGroups({params:n}),this.opts.nextPage(),t()})})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("group-modal-post",'<div class="out-box"><div class="text-center"><div class="modal-size" if="{!opts.isBefore}">该团已结束请开新团</div><div class="modal-size" if="{opts.isBefore}">该团人数已满请开新团</div><button class="btn btn-block buttom-11" onclick="{ok}">开团</button></div></div>',"","",function(e){"use strict";var n=this;this.ok=function(){n.trigger("dismiss","开团"),t.route("/commodity/"+n.opts.commId+"/group")},this.goon=function(){this.trigger("dismiss","继续参加"),t.route("/group/"+this.opts.grpId+"/join")},this.cancel=function(){this.trigger("dismiss","cancel")}})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("group-poi-modal",'<div class="group-poi" riot-style="width:{screen.width}px; height:{screen.height}px;" if="{opts.pois.length}"><div class="list-group address_list"><a href="#" class="list-group-item poiList" each="{poi in opts.pois}" onclick="{parent.selPoi(poi)}"><span class="poi-com point"></span><span class="poi-com point1" if="{parent.opts.address.poi.id === poi.id}"></span><div class="resLeft"><span class="distance" if="{poi.distance}">{poi.distance}KM</span><h4 class="list-group-item-heading"> {poi.base_info.business_name+(poi.base_info.branch_name?\'(\'+poi.base_info.branch_name+\')\':\'\')} </h4><p class="list-group-item-text"><span>{poi.base_info.province}</span><span>{poi.base_info.city}</span><span>{poi.base_info.district}</span><span>{poi.base_info.address}</span></p></div></a></div></div><div if="{!opts.pois.length}" class="beyWamp" riot-style="height:{document.body.offsetHeight + 20}px"><div class="beyond"><span>:( 您当前位置距离该商家门店过远</span><br><button class="bey_back" onclick="{selPoi(dismiss)}">返回</button></div></div>',"",'show="{true}"',function(t){"use strict";var e=this,r=n(2);(0,r.connect)(function(t){return{pois:t.groupPois,address:t.joinGroupAddress}})(this),this.on("mount",function(){e.screen={width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}),this.selPoi=function(t){return function(n){return e.trigger("dismiss",t)}}})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("group-sku-modal",'<div class="modal-body"><div class="skudiv"><img-lazy-loader width="75" height="45" style="float: left;border-radius: 5px;" if="{!opts.group.commodity.info.cover}" class="img-responsive" holder="svg:holder.js/20px20?theme=gray&text= 91拼团 "></img-lazy-loader><img if="{opts.group.commodity.info.cover}" class="skuimg" riot-src="{opts.group.commodity.info.cover ? app.config.phtUri + opts.group.commodity.info.cover : \'\'}"><p class="skupm">{opts.group.commodity.info.name}</p></div><div each="{sku, index in opts.group.commodity.sku}"><h4 class="skupf">{sku.norms.name}</h4><radio-group class="{xx: true}" onchange="{parent.onItemsChange}"><radio __disabled="{parent.parent.stocks[item.id] == 0}" class="{skumr: parent.parent.stocks[item.id] > 0, skufc: parent.parent.stocks[item.id] < 1}" value="{item.id}" each="{item in sku.items}">{item.name} </radio></radio-group></div><div class="skubtndiv"><button class="btn btnsku" onclick="{goPay}">下一步</button></div></div>',"","",function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}var r=this,o=n(3),i=e(o),a=this;this.on("mount",function(){r.commodity=r.opts.group.commodity;var t=r.opts.group;r.items=[],$.get("/commodity/"+t.commodity.id+"/sku/stock").then(function(t){return r.update({stocks:t})})}),this.onItemsChange=function(t){0!=r.stocks[t.target.value]&&(r.items[t.item.index]=t.target.value)},this.goPay=function(){if(r.items.length<1)return widgets.Alert.add("warn","请选择规格"),!1;for(var t=0;t<r.opts.group.commodity.sku.length;t++)if(!r.items[t])return widgets.Alert.add("warn","请选择规格"),!1;var e="grp_sku_"+r.opts.group.id;$.post("/commodity/"+r.opts.group.commodity.id+"/sku/stock",{skus:r.items}).then(function(t){a.trigger("dismiss"),i["default"].set(e,t.id),location.href=location.origin+"/wepay/?id="+r.opts.group.id+"&showwxpaytitle=1&tag=group-info-join"})}})}).call(e,n(1))},function(t,e,n){(function(t){n(96),n(94),n(30),t.tag2("group","<router-outlet></router-outlet>","",'if="{opts.$show}"',function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}var r=n(2),o=n(6);e(o);(0,r.connect)(function(t){return{$show:t.route.$views["/group"]||!1}})(this)})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("help-merchant",'<div class="help-merchant"><div class="logo"><img riot-src="{opts.merchant.pubno.head_img.replace(\'/0\',\'/46\')}"><span class="merchant_name">{opts.merchant.pubno.nick_name}</span></div><p class="info"><span class="info-l">商家简介</span><span class="info-r">{opts.merchant.info.detail}</span></p><p class="other-info"><span class="other-info-l">联系人</span><span class="other-info-r">{opts.merchant.info.linkman}</span></p><p class="other-info"><span class="other-info-l">联系商家</span><a href="tel:+{opts.merchant.info.phone?merchant.info.phone : opts.merchant.info.telephone}" class="other-info-r">{opts.merchant.info.phone ? opts.merchant.info.phone : opts.merchant.info.telephone}</a></p><p class="gfwx"><span class="other-info-l">官方微信</span><span class="other-info-r">{opts.merchant.pubno.nick_name}</span></p></div><div class="merchant-bt"><bottom></bottom></div>',"",'if="{opts.$show}"',function(t){"use strict";var e=n(2);(0,e.connect)(function(t){return{merchant:t.merchant,$show:t.route.$views["/help/merchant"]||!1}})(this)})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("help-more",'<div class="help-more"><div><div class="merchant-name"><span>{opts.merchant.info.name || ⁗91拼团⁗}</span></div><a href="/help/merchant"><button class="help-list"><span>商家介绍</span><span class="icon-right"></span></button></a><button class="help-list" if="{opts.fxer && Object.keys(opts.fxer).length}"><span>分销伙伴</span><img class="yhtx1" riot-src="{opts.fxer.photo}"><span class="yhspan">{opts.fxer.name}</span></button><a href="/group/list?my=post"><button class="help-list mymatop"><span>我开的团</span><span class="icon-right"></span></button></a><a href="/partaker/my"><button class="help-list"><span>我参的团</span><span class="icon-right"></span></button></a><a href="/user/redpacket"><button class="help-list"><span>我的外快</span><span class="icon-right"></span></button></a><a if="{opts.commId && opts.merchant.pubno.status.comgrplst}" href="/group/list?id={opts.commId}"><button class="help-list mymatop"><span>大家的团</span><span class="icon-right"></span></button></a></div><div class="top"><bottom></bottom></div></div><icobar></icobar>',"",'if="{opts.$show}"',function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}var r=n(2),o=n(3),i=e(o),a=n(37),s=e(a);this.mixin("router"),(0,r.connect)(function(t){return{merchant:t.merchant,commId:t.commId,fxer:t.fxer,my_fxer:t.myFxer,$show:t.route.$views["/help/more"]||!1}},function(t){return{changeTitle:function(e){return t({type:"changeTitle",payload:e})},getFxInfo:function(e){return t(s["default"].getFxInfo(e))},getMyFxer:function(){return t(s["default"].getMyFxer())}}})(this),this.$use(function(t){var e=app.store.dispatch;if(i["default"].get("commId")){var n=i["default"].get("commId");e({type:"changeCommId",payload:n})}this.opts.changeTitle(""),i["default"].get("fxer")&&this.opts.getFxInfo(i["default"].get("fxer")),this.opts.getMyFxer(),t()}),this.signOutDialog=function(){widgets.Modal.open({name:"user-signout",controller:"ModalSignOutCtrl"})}})}).call(e,n(1))},function(t,e,n){(function(t){n(102),n(101),t.tag2("help","<div><router-outlet></router-outlet></div>","",'if="{opts.$show}"',function(t){"use strict";var e=n(2);(0,e.connect)(function(t){return{$show:t.route.$views["/help"]||!1}})(this)})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("order-detail",'<div class="order-detail"><div class="order-top"><p class="date">创建时间:{$.util.filter.date(new Date(opts.partaker.time_join), \'yyyy-MM-dd hh:mm\')}</p><div class="state"><span>{opts.partaker.group.isBefore?\'拼团中\':\'截团\'}</span><span if="{opts.partaker.commodity.model !== \'ladder\'}"> {opts.partaker.status.success ? \'成团\' : \'未成团\'} </span></div><p class="ladder-price" if="{opts.partaker.commodity.model !== \'ladder\'}"> {$.util.filter.currency(opts.partaker.commodity.discount)} </p></div><div class="blank"></div><table class="tabl"><tr><td style="border-top: none;" colspan="2"><div class="media"><div class="media-left"><a href="/group/{opts.partaker.group.id}"><img-lazy-loader class="media-object" width="" height="55" riot-src="{app.config.phtUri + opts.partaker.commodity.cover}" alt="{opts.partaker.commodity.name}" if="{opts.partaker.commodity.cover}"></img-lazy-loader><img-lazy-loader class="media-object" width="80" height="55" holder="svg:holder.js/100px186?theme=gray&text=91拼团" alt="{opts.partaker.commodity.name}" class="img-responsive" if="{!opts.partaker.commodity.cover}"></img-lazy-loader></a></div><div class="media-body"><a href="/group/{opts.partaker.group.id}"><h4 class="media-title">{opts.partaker.commodity.name}</h4><img riot-src="{\'https://img.91pintuan.com/right.png\'}" class="right"><div class="no-ladder-c" if="{opts.partaker.commodity.model !== \'ladder\'}"> 拼团价:{$.util.filter.currency(opts.partaker.commodity.discount)} </div><div class="ladder-c" if="{opts.partaker.commodity.model===\'ladder\'}"> 拼团价:<span each="{ldprc in opts.partaker.commodity.ladder.prices}">{ldprc.price} <i if="{idx != opts.partaker.commodity.ladder.prices.length-1}">/</i></span>元 </div><div if="{opts.canBalance}"><a href="/wepay/?tag=group-info-replenishment&id={opts.partaker.group.id}&showwxpaytitle=1" class="btn btn-danger btn-xs btn-color" target="_blank" class="{opts.ifBalance : !opts.ifBalance}"> {opts.ifBalance ? \'补款\' : \'已过期\'} </a></div></a></div></div></td></tr><tr><td class="colo1">买家信息</td><td class="colo2">{opts.partaker.address.name+ \'　\' + opts.partaker.address.telephone}</td></tr><tr><td class="colo1">订单号</td><td class="colo2">{opts.partaker.id}</td></tr><tr><td class="colo1">创建时间</td><td class="colo2">{$.util.filter.date(new Date(opts.partaker.time_join), \'yyyy-MM-dd hh:mm\')}</td></tr><tr if="{opts.partaker.poi}"><td class="colo1">自提门店</td><td class="colo2">{opts.partaker.poi.base_info.business_name+(opts.partaker.poi.base_info.branch_name?\'(\'+opts.partaker.poi.base_info.branch_name+\')\':\'\')} <span class="pull-right" onclick="{openLocation}"><img width="16" height="20px" riot-src="{\'https://img.91pintuan.com/home/sjdicon/sjddizhidaohang.png\'}" alt=""></span></td></tr><tr if="{opts.partaker.commodity.consumeType == 2 && opts.virtualCommCode}"><td class="colo1">消费码</td><td class="colo2">{opts.virtualCommCode}</td></tr><tr if="{opts.partaker.scene === \'logistics\'}"><td class="colo1">快递地址</td><td class="colo2">{opts.partaker.address.addr}</td></tr><tr if="{(opts.partaker.scene === \'logistics\' || opts.partaker.scene === \'collection\')&&opts.partaker.status.success}"><td class="colo1">发货信息</td><td class="colo2">{opts.partaker.status.trade===1 ? \'已发货\':\'未发货\'}</td></tr><tr if="{(opts.partaker.scene !== \'logistics\' && opts.partaker.scene !== \'collection\') && opts.partaker.status.success}"><td class="colo1">消费状态</td><td class="colo2">{opts.partaker.status.trade===1 ? \'于\' + $.util.filter.date(new Date(opts.partaker.time.setTrade), \'yyyy-MM-dd hh:mm\') + \' 已消费\':\' 未消费\'}</td></tr><tr if="{opts.qr && opts.partaker.status.success}"><td class="colo1">消费码</td><td class="colo2">{opts.partaker.status.trade ? \'二维码已核销\': \'到店消费时，请向商家出示此二维码\'}</td></tr><tr class="qrcode" if="{opts.qr && opts.partaker.status.success}"><td colspan="2"><img riot-src="{opts.qr}"></td></tr></table><div class="vcode" if="{opts.partaker.vcode.data}"><table class="table"><tr each="{key, code in opts.partaker.vcode.data}"><td>{key}</td><td>{code}</td></tr></table></div><rlink class="link-refund" to="/order/{opts.partaker.id}/refund">对订单有疑问？</rlink></div>',"",'if="{opts.$show}"',function(t){
"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(c){return void n(c)}return a.done?void t(s):Promise.resolve(s).then(function(t){return r("next",t)},function(t){return r("throw",t)})}return r("next")})}}var o=n(2),i=n(8),a=e(i),s=n(40),c=e(s),u=function(t){return t&&t.commodity&&(0,a["default"])().isBefore(t.commodity.time.end)||!1},p=function(t){if(t.commodity&&t.commodity.model&&"ladder"===t.commodity.model&&t.status&&1!==t.status.balance){var e=t.commodity.ladder_people,n=(t.group.num.balance,t.group.num.partakers.order);if(n>=e)return!0;if(!t.group.isBefore)return!0}return!1};(0,o.connect)(function(t){return{partaker:t.partaker,qrcode:t.partakerQrcode,qr:t.orderQrcode,ifBalance:u(t.partaker),canBalance:p(t.partaker),$show:t.route.$views["/order/:id"]||!1}},function(t){return{setOrderQrcode:function(e){return t(c["default"].setOrderQrcode(e))}}})(this),this.mixin("router");var l=this;this.$use(function(){var t=r(regeneratorRuntime.mark(function e(t){var n,r,o,i,a,s,c,u,p,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l.opts.setOrderQrcode(null),t(),n=this.opts.partaker,r=n.group,o=n.commodity,i=this.opts.qrcode,a="poi"===n.scene||"vqode"===n.scene,s=null,!a||!o.status.qrcode){e.next=20;break}if(!this.opts.qrcode){e.next=13;break}s="https://mp.weixin.qq.com/cgi-bin/showqrcode?ticket="+this.opts.qrcode,e.next=20;break;case 13:return c=location.origin+"/qrcode?id="+n.id,e.next=16,fetch(c,{method:"get"});case 16:return u=e.sent,e.next=19,u.text();case 19:s=e.sent;case 20:if(!a||!o.status.qrgun){e.next=28;break}return p=location.origin+"/qrcode?id=91PINTUAN:"+n.qrgun,e.next=24,fetch(p,{method:"get"});case 24:return d=e.sent,e.next=27,d.text();case 27:s=e.sent;case 28:n.status.success||(s=null),l.opts.setOrderQrcode(s);case 30:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()),this.openLocation=function(){var t=this.opts.partaker.poi.base_info;wx.ready(function(){wx.openLocation({latitude:t.latitude,longitude:t.longitude,name:t.business_name+""+t.branch_name,address:t.province+t.city+t.district+t.address,scale:17,infoUrl:window.location.href,fail:function(t){location.reload()}})})}})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("order-list",'<on-scroll if="{opts.merchant.pubno.status.shelf === 1 || opts.merchant.pubno.status.shelf === 2}" infinite-scroll="{opts.nextPage}" infinite-scroll-disabled="{opts.partakers.busy}" infinite-scroll-distance="{100}"><div class="order-list"><div class="list-detail" each="{partaker in parent.opts.partakers.items}" onclick="{parent.parent.goOrderDetail(partaker)}"><p class="date">创建时间:{$.util.filter.date(new Date(partaker.time_join), \'yyyy-MM-dd hh:mm\')}</p><div class="list-state"><span>{partaker.group.isBefore ? \'拼团中\' : \'截团\'}</span><span if="{partaker.commodity.model !== \'ladder\'}"> {partaker.status.success ? \'成团\' : \'未成团\'} </span></div><div class="media-order"><div class="media-left"><a><img class="media-object" if="{partaker.commodity.cover}" riot-src="{partaker.commodity.cover ? app.config.phtUri + partaker.commodity.cover + app.config.phtStlList4 : \'\'}"><img-lazy-loader width="120" height="85" if="{!partaker.commodity.cover}" class="img-responsive" holder="svg:holder.js/20px20?theme=gray&text= 91拼团 "></img-lazy-loader></a></div><div class="media-body"><p class="media-heading">{partaker.commodity.name}</p><div class="media-font" if="{partaker.commodity.model !== \'ladder\'}"> 拼团价:{$.util.filter.currency(partaker.commodity.money.discount)} </div><div if="{partaker.commodity.model===\'ladder\'}" class="word-break"> 拼团价:<span>￥</span><span each="{ldprc, idx in partaker.commodity.ladder.prices}">{(ldprc.price).toFixed(2)}<i if="{idx != partaker.commodity.ladder.prices.length-1}">/&nbsp;&nbsp;</i></span></div><div class="media-font"><span>{partaker.status.pay===1 ? \'已支付\' : \'未支付\'}</span><span>{partaker.commodity.status.paytype===\'prepay\' ? \'(订金)\' : \'\'}</span></div></div></div></div></on-scroll><icobar></icobar>',"",'if="{opts.$show}"',function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(2),i=n(4),a=r(i);this.mixin("router"),(0,o.connect)(function(t){return{merchant:t.merchant,partakers:t.partakers,$show:t.route.$views["/order/list"]||!1}},function(t){return{nextPage:function(){return t(a["default"].partakersNextPage({my:!0}))}}})(this);this.$use(function(t){var e=app.store.dispatch;e(a["default"].resetPartakerAndNextPage({my:!0})),t()}),this.goOrderDetail=function(e){return function(){return t.route("/order/"+e.id)}}})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("order-refund",'<div class="tkdiv"><p class="tkbig">成团后不想要了，我要退款</p><p class="tksmall">申请退款后商家会联系你，商家通过后为你解决</p><button class="tkan" onclick="{drawBack}" __disabled="{opts.partaker.status.refund || opts.partaker.status.ask_refund}"> {opts.partaker.status.refund ? \'已退款\' : (opts.partaker.status.ask_refund ? \'退款申请中....\' : \'申请退款\')} </button></div><div class="tkdiv"><p class="tkbig">有更多问题？联系商家</p><p class="tksmall">请咨询商家，电话 <a href="tel:+{opts.merchant.info.phone ? opts.merchant.info.phone : opts.merchant.info.telephone}">{opts.merchant.info.phone ? opts.merchant.info.phone : opts.merchant.info.telephone}</a></p></div>',"",'if="{opts.$show}"',function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}var r=this,o=n(2),i=n(4),a=e(i);(0,o.connect)(function(t){return{partaker:t.partaker,merchant:t.merchant,$show:t.route.$views["/order/:id/refund"]||!1}},function(t){return{drawBack:function(e){return t(a["default"].drawBack(e))}}})(this),this.drawBack=function(t){r.opts.partaker.id&&r.opts.drawBack(r.opts.partaker.id)}})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("order-tmplmsg",'<div class="template" riot-style="width:{screen.width}px; height:{screen.height}px;"><div class="box"><div class="wechact"><span>{opts.merchant.info.name}</span></div><div class="code"><img riot-src="{opts.qr}"></div><div class="ordernum"><span>{opts.partaker.id}</span></div><div class="note"><span>使用时请向商家出示二维码或订单号</span></div></div><div class="bottom"><a href="https://www.91pintuan.com"><img src="https://img.91pintuan.com/client/pintuanico.png" alt=""></a></div></div>',"",'if="{opts.$show}"',function(t){"use strict";function e(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(c){return void n(c)}return a.done?void t(s):Promise.resolve(s).then(function(t){return r("next",t)},function(t){return r("throw",t)})}return r("next")})}}var r=n(2);(0,r.connect)(function(t){return{merchant:t.merchant,partaker:t.partaker,qrcode:t.partakerQrcode,qr:t.orderQrcode,$show:t.route.$views["/order/:id/tmplmsg"]||!1}})(this),this.mixin("router"),this.$use(function(){var t=e(regeneratorRuntime.mark(function n(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t();case 1:case"end":return e.stop()}},n,this)}));return function(e){return t.apply(this,arguments)}}())})}).call(e,n(1))},function(t,e,n){(function(t){n(105),n(104),n(106),n(107),t.tag2("order","<router-outlet></router-outlet>","",'if="{opts.$show}"',function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}var r=n(2),o=n(4);e(o);(0,r.connect)(function(t){return{$show:t.route.$views["/order"]||!1}})(this)})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("partaker-list",'<ul class="list-group"><li class="list-group-item active">已有{opts.partakers.count}人参加拼团</li><on-scroll infinite-scroll="{opts.nextPage}" infinite-scroll-disabled="{opts.partakers.busy}" infinite-scroll-distance="{100}" infinite-scroll-identify="partakers.items"><li class="list-group-item" no-reorder each="{partaker in parent.opts.partakers.items}"><span class="badge">{$.util.filter.ago(partaker.time.join)}</span> {partaker.address.name} {partaker.address.telephone} </li></on-scroll></ul>',"",'if="{opts.$show}"',function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(c){return void n(c)}return a.done?void t(s):Promise.resolve(s).then(function(t){return r("next",t)},function(t){return r("throw",t)})}return r("next")})}}var o=this,i=n(2),a=n(4),s=e(a);(0,i.connect)(function(t){return{partakers:t.partakers,$show:t.route.$views["/partaker/list"]||!1}},function(t){return{nextPage:function(){return t(s["default"].partakersNextPage({group:o.groupId}))}}})(this),this.mixin("router"),this.$use(function(){var t=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.groupId=n.req.query.id,app.store.dispatch(s["default"].resetPartakerAndNextPage({group:this.groupId})),t();case 3:case"end":return e.stop()}},e,this)}));return function(e,n){return t.apply(this,arguments)}}())})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("partaker-my",'<div class="par1"><on-scroll if="{opts.partakers && opts.partakers.items.length}" infinite-scroll="{nextPage}" infinite-scroll-disabled="{opts.partakers.busy}" infinite-scroll-distance="{100}"><div class="par-bottom" each="{partaker in parent.opts.partakers.items}"><div class="par2"><a href="/group/{partaker.group.id}" target-for-android><div class="par-top"><p class="par3" if="{!partaker.group.isBefore}">已结束</p><p class="par4" if="{partaker.group.isBefore}"><span>剩余时间:</span><span>{$.util.filter.ago(partaker.group.time_end)}</span></p><p class="rightb" if="{partaker.group.isBefore&&partaker.commodity.status.model === \'share\'}">{partaker.commodity.partakers>partaker.group.num_order?\'还差\'+(partaker.commodity.partakers-partaker.group.num_order)+\'人成团\':\'已成团\'}</p><p class="rightb" if="{partaker.group.isBefore&&partaker.commodity.status.model === \'distribution\'}">{partaker.commodity.partakers>partaker.group.num_order?\'还差\'+(partaker.commodity.partakers-partaker.group.num_order)+\'人成团\':\'已成团\'}</p><p class="rightb" if="{partaker.group.isBefore&&partaker.commodity.status.model === \'ladder\'}">{partaker.commodity.partakers>partaker.group.num_order?partaker.group.num_order+\'人已参团(阶梯团)\':\'已成团\'}</p></div><div class="media-partaker"><div class="media-left"><img class="media-object" riot-src="{partaker.commodity.cover ? app.config.phtUri + partaker.commodity.cover + app.config.phtStlList4 : \'\'}" if="{partaker.commodity.cover}"><img-lazy-loader width="120" height="85" if="{!partaker.commodity.cover}" class="media-object img-responsive" holder="svg:holder.js/20px20?theme=gray&text=91拼团"></img-lazy-loader></div><div class="media-body1"><p class="media-heading1">{partaker.commodity.name}</p><div class="par-username">团长：{partaker.group.user.name}</div><div class="word-break"> 开团时间:{$.util.filter.date(new Date(partaker.time_join), \'yyyy-MM-dd\')} </div></div></div></a></div></div></div></div>',"",'if="{opts.$show}"',function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}var r=this,o=n(2),i=n(4),a=e(i);(0,o.connect)(function(t){return{partakers:t.partakers,$show:t.route.$views["/partaker/my"]||!1}},function(t){return{nextPage:function(e,n){return t(a["default"].partakersNextPage(e,n))}}})(this),this.mixin("router"),this.$use(function(t){app.store.dispatch({type:"resetPartakers"}),t()}),this.nextPage=function(){return r.opts.nextPage({my:!0})}})}).call(e,n(1))},function(t,e,n){(function(t){n(110),n(109),t.tag2("partaker","<div><router-outlet></router-outlet></div>","",'if="{opts.$show}"',function(t){"use strict";var e=n(2);(0,e.connect)(function(t){return{$show:t.route.$views["/partaker"]||!1}})(this)})}).call(e,n(1))},function(t,e,n){(function(t){t.tag2("user-redpacket",'<div class="user-redpacket"><on-scroll if="{opts.bills && opts.bills.items.length}" infinite-scroll="{nextPage}" infinite-scroll-disabled="{opts.bills.busy}" infinite-scroll-distance="{100}"><div class="bill" each="{bill in parent.opts.bills.items}" no-reorder><p class="wkp">{bill.item}</p><span class="span1">{$.util.filter.date(new Date(bill.time.add), \'yyyy-MM-dd\')}</span><span class="span2">{$.util.filter.currency(bill.total)}</span></div><div class="graybox" if="{parent.opts.bills.count !== 0}"></div><div class="no-bill"><div class="nowk" if="{parent.opts.bills.count == 0}"><p class="np1">您暂时还没有团长外快</p><p class="np2">￥0.00</p></div></div></on-scroll></div>',"",'if="{opts.$show}"',function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}var r=this,o=n(2),i=n(35),a=e(i);this.mixin("router");(0,o.connect)(function(t){return{bills:t.bills,$show:t.route.$views["/user/redpacket"]||!1}},function(t){return{nextPage:function(){return t(a["default"].nextPage())}}})(this),this.$use(function(t){app.store.dispatch({type:"initBills",payload:{}}),t()}),this.nextPage=function(t){return r.opts.nextPage()}})}).call(e,n(1))},function(t,e,n){(function(t){n(112),t.tag2("user","<div><router-outlet></router-outlet></div>","",'if="{opts.$show}"',function(t){"use strict";var e=n(2);(0,e.connect)(function(t){return{$show:t.route.$views["/user"]||!1}})(this)})}).call(e,n(1))},function(t,e,n){(function(t){n(30),n(93),t.tag2("wepay",'<div class="wepay-container"></div>',"",'if="{opts.$show}"',function(e){"use strict";var r=this,o=n(2);(0,o.connect)(function(t){return{$show:t.route.$views["/wepay/"]||!1}})(this),this.mixin("router"),this.$use(function(e,n){var r=n.req.query;this.currTag=t.mount(this.root.querySelector(".wepay-container"),r.tag,r)[0],r.tag||r.action&&"replenishment"===r.action&&(this.currTag=t.mount(this.root.querySelector(".wepay-container"),"group-info-replenishment",r)[0]),this.currTag.opts.$show=!0,e()}),this.on("leave",function(){r.currTag.opts.$show=!1,r.currTag.unmount(r.root.querySelector(".wepay-container"),"*")})})}).call(e,n(1))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})}]);